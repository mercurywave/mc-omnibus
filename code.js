function MCTRACK(__RUN)
{
var __FUNCS = {};
__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["StdLib_1"]["13::New"]);
__RUN.setStaticGlo("List.New",T0);
var T2=OObj.MakeFunc(__FUNCS["StdLib_1"]["26::New"]);
__RUN.setStaticGlo("Set.New",T2);
var T4=OObj.MakeFunc(__FUNCS["StdLib_1"]["39::Add"]);
__RUN.setStaticGlo("Set.Add",T4);
var T6=OObj.MakeFunc(__FUNCS["StdLib_1"]["52::New"]);
__RUN.setStaticGlo("Stack.New",T6);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["campai_2"]["13::Create"]);
__RUN.setStaticGlo("Campaign.Create",T0);
var T2=OObj.MakeFunc(__FUNCS["campai_2"]["26::mixOfficalCampaign"]);
__RUN.setStaticGlo("Campaign.mixOfficalCampaign",T2);
var T4=OObj.MakeFunc(__FUNCS["campai_2"]["39::mixBookStyles"]);
__RUN.setStaticGlo("Campaign.mixBookStyles",T4);
var T6=OObj.MakeFunc(__FUNCS["campai_2"]["52::mixComingSoon"]);
__RUN.setStaticGlo("Campaign.mixComingSoon",T6);
var T8=OObj.MakeFunc(__FUNCS["campai_2"]["65::GetAllCampaigns"]);
__RUN.setStaticGlo("Campaign.GetAllCampaigns",T8);
var T10=OObj.MakeFunc(__FUNCS["campai_2"]["78::GetOfficialCampaigns"]);
__RUN.setStaticGlo("Campaign.GetOfficialCampaigns",T10);
var T12=OObj.MakeFunc(__FUNCS["campai_2"]["91::GetCustomCampaigns"]);
__RUN.setStaticGlo("Campaign.GetCustomCampaigns",T12);
var T14=OObj.MakeFunc(__FUNCS["campai_2"]["104::LookupByName"]);
__RUN.setStaticGlo("Campaign.LookupByName",T14);
var T16=OObj.MakeFunc(__FUNCS["campai_2"]["117::mixTooltipGen"]);
__RUN.setStaticGlo("Campaign.mixTooltipGen",T16);
var T18=OObj.MakeFunc(__FUNCS["campai_2"]["130::mixSlides"]);
__RUN.setStaticGlo("Campaign.mixSlides",T18);
var T20=OObj.MakeFunc(__FUNCS["campai_2"]["143::mixMission"]);
__RUN.setStaticGlo("Campaign.mixMission",T20);
var T22=OObj.MakeFunc(__FUNCS["campai_2"]["156::mixModeSelect"]);
__RUN.setStaticGlo("Campaign.mixModeSelect",T22);
var T24=OObj.MakeFunc(__FUNCS["campai_2"]["169::mixDifficulty"]);
__RUN.setStaticGlo("Campaign.mixDifficulty",T24);
var T26=OObj.MakeFunc(__FUNCS["campai_2"]["182::mixHeroSelection"]);
__RUN.setStaticGlo("Campaign.mixHeroSelection",T26);
var T28=OObj.MakeFunc(__FUNCS["campai_2"]["234::mixProductInfo"]);
__RUN.setStaticGlo("Campaign.mixProductInfo",T28);
var T30=OObj.MakeFunc(__FUNCS["campai_2"]["247::mixSaveGameReminder"]);
__RUN.setStaticGlo("Campaign.mixSaveGameReminder",T30);
var T32=OObj.MakeFunc(__FUNCS["campai_2"]["260::mixWrapUpDefeat"]);
__RUN.setStaticGlo("Campaign.mixWrapUpDefeat",T32);
var T34=OObj.MakeFunc(__FUNCS["campai_2"]["273::mixWrapUpVictory"]);
__RUN.setStaticGlo("Campaign.mixWrapUpVictory",T34);
var T36=OObj.MakeFunc(__FUNCS["campai_2"]["286::MakeHeader"]);
__RUN.setStaticGlo("Campaign.MakeHeader",T36);
var T38=OObj.MakeFunc(__FUNCS["campai_2"]["299::MakeBadge"]);
__RUN.setStaticGlo("Campaign.MakeBadge",T38);
var T40=OObj.MakeFunc(__FUNCS["campai_2"]["312::MakeImage"]);
__RUN.setStaticGlo("Campaign.MakeImage",T40);
var T42=OObj.MakeFunc(__FUNCS["campai_2"]["325::GetName"]);
__RUN.setStaticGlo("Campaign.GetName",T42);
var T44=OObj.MakeFunc(__FUNCS["campai_2"]["338::GetImagePath"]);
__RUN.setStaticGlo("Campaign.GetImagePath",T44);
var T46=OObj.MakeFunc(__FUNCS["campai_2"]["351::mixApplyExtraStyles"]);
__RUN.setStaticGlo("Campaign.mixApplyExtraStyles",T46);
var T48=OObj.MakeFunc(__FUNCS["campai_2"]["364::IsExpert"]);
__RUN.setStaticGlo("Campaign.State.IsExpert",T48);
var T50=OObj.MakeFunc(__FUNCS["campai_2"]["377::GetHero"]);
__RUN.setStaticGlo("Campaign.State.GetHero",T50);
var T52=OObj.MakeFunc(__FUNCS["campai_2"]["390::GetHp"]);
__RUN.setStaticGlo("Campaign.State.GetHp",T52);
var T54=OObj.MakeFunc(__FUNCS["campai_2"]["403::IsComplete"]);
__RUN.setStaticGlo("Campaign.State.IsComplete",T54);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["Red Sk_3"]["312::TooltipGen"]);
__RUN.setStaticGlo("RedSkull.TooltipGen",T0);
var T2=OObj.MakeFunc(__FUNCS["Red Sk_3"]["325::HealSlide"]);
__RUN.setStaticGlo("RedSkull.HealSlide",T2);
var T4=OObj.MakeFunc(__FUNCS["Red Sk_3"]["351::IfCanHeal"]);
__RUN.setStaticGlo("RedSkull.IfCanHeal",T4);
var T6=OObj.MakeFunc(__FUNCS["Red Sk_3"]["377::SetupTechCards"]);
__RUN.setStaticGlo("RedSkull.SetupTechCards",T6);
var T8=OObj.MakeFunc(__FUNCS["Red Sk_3"]["390::IfWeapons"]);
__RUN.setStaticGlo("RedSkull.IfWeapons",T8);
var T10=OObj.MakeFunc(__FUNCS["Red Sk_3"]["403::SetupWeapons"]);
__RUN.setStaticGlo("RedSkull.SetupWeapons",T10);
var T12=OObj.MakeFunc(__FUNCS["Red Sk_3"]["481::DoPickNumbers"]);
__RUN.setStaticGlo("RedSkull.DoPickNumbers",T12);
var T14=OObj.MakeFunc(__FUNCS["Red Sk_3"]["520::DoDistributeVictory"]);
__RUN.setStaticGlo("RedSkull.DoDistributeVictory",T14);
var T16=OObj.MakeFunc(__FUNCS["Red Sk_3"]["559::DoHeal"]);
__RUN.setStaticGlo("RedSkull.DoHeal",T16);
var T18=OObj.MakeFunc(__FUNCS["Red Sk_3"]["624::DoRecordDelay"]);
__RUN.setStaticGlo("RedSkull.DoRecordDelay",T18);
var T20=OObj.MakeFunc(__FUNCS["Red Sk_3"]["663::DoDistributeVictoryMulti"]);
__RUN.setStaticGlo("RedSkull.DoDistributeVictoryMulti",T20);
var T22=OObj.MakeFunc(__FUNCS["Red Sk_3"]["728::addSelectorToPane"]);
__RUN.setStaticGlo("RedSkull.addSelectorToPane",T22);
var T24=OObj.MakeFunc(__FUNCS["Red Sk_3"]["741::IfPromptForPrisoners"]);
__RUN.setStaticGlo("RedSkull.IfPromptForPrisoners",T24);
var T26=OObj.MakeFunc(__FUNCS["Red Sk_3"]["754::GetAlliesFreed"]);
__RUN.setStaticGlo("RedSkull.GetAlliesFreed",T26);
var T28=OObj.MakeFunc(__FUNCS["Red Sk_3"]["767::IfUpgradeConditions"]);
__RUN.setStaticGlo("RedSkull.IfUpgradeConditions",T28);
var T30=OObj.MakeFunc(__FUNCS["Red Sk_3"]["793::DoUpgradeCondition"]);
__RUN.setStaticGlo("RedSkull.DoUpgradeCondition",T30);
var T32=OObj.MakeFunc(__FUNCS["Red Sk_3"]["845::GetUpgradedCondition"]);
__RUN.setStaticGlo("RedSkull.GetUpgradedCondition",T32);
var T34=OObj.MakeFunc(__FUNCS["Red Sk_3"]["858::IfEnemyEngaged"]);
__RUN.setStaticGlo("RedSkull.IfEnemyEngaged",T34);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["dom.wn_4"]["13::Create"]);
__RUN.setStaticGlo("Dom.Div.Create",T0);
var T2=OObj.MakeFunc(__FUNCS["dom.wn_4"]["26::Create"]);
__RUN.setStaticGlo("Dom.Button.Create",T2);
var T4=OObj.MakeFunc(__FUNCS["dom.wn_4"]["39::HookClick"]);
__RUN.setStaticGlo("Dom.Button.HookClick",T4);
var T6=OObj.MakeFunc(__FUNCS["dom.wn_4"]["52::Create"]);
__RUN.setStaticGlo("Dom.Checkbox.Create",T6);
var T8=OObj.MakeFunc(__FUNCS["dom.wn_4"]["65::CreateLabelFor"]);
__RUN.setStaticGlo("Dom.Checkbox.CreateLabelFor",T8);
var T10=OObj.MakeFunc(__FUNCS["dom.wn_4"]["78::HookChange"]);
__RUN.setStaticGlo("Dom.Checkbox.HookChange",T10);
var T12=OObj.MakeFunc(__FUNCS["dom.wn_4"]["91::IsChecked"]);
__RUN.setStaticGlo("Dom.Checkbox.IsChecked",T12);
var T14=OObj.MakeFunc(__FUNCS["dom.wn_4"]["104::SetIsChecked"]);
__RUN.setStaticGlo("Dom.Checkbox.SetIsChecked",T14);
var T16=OObj.MakeFunc(__FUNCS["dom.wn_4"]["117::Create"]);
__RUN.setStaticGlo("Dom.TextEntry.Create",T16);
var T18=OObj.MakeFunc(__FUNCS["dom.wn_4"]["130::SetText"]);
__RUN.setStaticGlo("Dom.TextEntry.SetText",T18);
var T20=OObj.MakeFunc(__FUNCS["dom.wn_4"]["143::GetText"]);
__RUN.setStaticGlo("Dom.TextEntry.GetText",T20);
var T22=OObj.MakeFunc(__FUNCS["dom.wn_4"]["156::Create"]);
__RUN.setStaticGlo("Dom.NumberEntry.Create",T22);
var T24=OObj.MakeFunc(__FUNCS["dom.wn_4"]["169::SetText"]);
__RUN.setStaticGlo("Dom.NumberEntry.SetText",T24);
var T26=OObj.MakeFunc(__FUNCS["dom.wn_4"]["182::GetText"]);
__RUN.setStaticGlo("Dom.NumberEntry.GetText",T26);
var T28=OObj.MakeFunc(__FUNCS["dom.wn_4"]["195::Create"]);
__RUN.setStaticGlo("Dom.Dropdown.Create",T28);
var T30=OObj.MakeFunc(__FUNCS["dom.wn_4"]["208::AddOption"]);
__RUN.setStaticGlo("Dom.Dropdown.AddOption",T30);
var T32=OObj.MakeFunc(__FUNCS["dom.wn_4"]["221::GetValue"]);
__RUN.setStaticGlo("Dom.Dropdown.GetValue",T32);
var T34=OObj.MakeFunc(__FUNCS["dom.wn_4"]["234::SetValue"]);
__RUN.setStaticGlo("Dom.Dropdown.SetValue",T34);
var T36=OObj.MakeFunc(__FUNCS["dom.wn_4"]["247::HookChange"]);
__RUN.setStaticGlo("Dom.Dropdown.HookChange",T36);
var T38=OObj.MakeFunc(__FUNCS["dom.wn_4"]["260::Create"]);
__RUN.setStaticGlo("Dom.Input.Create",T38);
var T40=OObj.MakeFunc(__FUNCS["dom.wn_4"]["273::Create"]);
__RUN.setStaticGlo("Dom.Paragraph.Create",T40);
var T42=OObj.MakeFunc(__FUNCS["dom.wn_4"]["286::Create"]);
__RUN.setStaticGlo("Dom.Heading.Create",T42);
var T44=OObj.MakeFunc(__FUNCS["dom.wn_4"]["299::Create"]);
__RUN.setStaticGlo("Dom.Image.Create",T44);
var T46=OObj.MakeFunc(__FUNCS["dom.wn_4"]["312::HideShow"]);
__RUN.setStaticGlo("Dom.HideShow",T46);
var T48=OObj.MakeFunc(__FUNCS["dom.wn_4"]["325::SetBackgroundColor"]);
__RUN.setStaticGlo("Dom.Style.SetBackgroundColor",T48);
var T50=OObj.MakeFunc(__FUNCS["dom.wn_4"]["338::SetBackgroundImage"]);
__RUN.setStaticGlo("Dom.Style.SetBackgroundImage",T50);
var T52=OObj.MakeFunc(__FUNCS["dom.wn_4"]["351::SetClassIf"]);
__RUN.setStaticGlo("Dom.Style.SetClassIf",T52);
var T54=OObj.MakeFunc(__FUNCS["dom.wn_4"]["364::ToggleBetweenClasses"]);
__RUN.setStaticGlo("Dom.Style.ToggleBetweenClasses",T54);
var T56=OObj.MakeFunc(__FUNCS["dom.wn_4"]["377::Hide"]);
__RUN.setStaticGlo("Dom.Hide",T56);
var T58=OObj.MakeFunc(__FUNCS["dom.wn_4"]["390::Show"]);
__RUN.setStaticGlo("Dom.Show",T58);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["global_5"]["13::HookKeyDown"]);
__RUN.setStaticGlo("g.HookKeyDown",T0);
var T2=OObj.MakeFunc(__FUNCS["global_5"]["26::MakeComicBookCard"]);
__RUN.setStaticGlo("g.MakeComicBookCard",T2);
var T4=OObj.MakeFunc(__FUNCS["global_5"]["39::WaitGetFirst"]);
__RUN.setStaticGlo("Util.WaitGetFirst",T4);
var T6=OObj.MakeFunc(__FUNCS["global_5"]["65::MergeIn"]);
__RUN.setStaticGlo("Util.MergeIn",T6);
var T8=OObj.MakeFunc(__FUNCS["global_5"]["78::Create"]);
__RUN.setStaticGlo("Popup.Create",T8);
var T10=OObj.MakeFunc(__FUNCS["global_5"]["91::AddMarkdown"]);
__RUN.setStaticGlo("Popup.AddMarkdown",T10);
var T12=OObj.MakeFunc(__FUNCS["global_5"]["104::AddBotRightButton"]);
__RUN.setStaticGlo("Popup.AddBotRightButton",T12);
var T14=OObj.MakeFunc(__FUNCS["global_5"]["117::Create"]);
__RUN.setStaticGlo("Canceler.Create",T14);
var T16=OObj.MakeFunc(__FUNCS["global_5"]["130::MakePipe"]);
__RUN.setStaticGlo("Canceler.MakePipe",T16);
var T18=OObj.MakeFunc(__FUNCS["global_5"]["143::PipeClean"]);
__RUN.setStaticGlo("Canceler.PipeClean",T18);
var T20=OObj.MakeFunc(__FUNCS["global_5"]["156::Cancel"]);
__RUN.setStaticGlo("Canceler.Cancel",T20);
var T22=OObj.MakeFunc(__FUNCS["global_5"]["169::IsLive"]);
__RUN.setStaticGlo("Canceler.IsLive",T22);
var T24=OObj.MakeFunc(__FUNCS["global_5"]["182::TryCancel"]);
__RUN.setStaticGlo("Canceler.TryCancel",T24);
var T26=OObj.MakeFunc(__FUNCS["global_5"]["195::AsyncWait"]);
__RUN.setStaticGlo("Canceler.AsyncWait",T26);
var T28="CleanKeyListeners";
__RUN.setStaticFile("global_5",T28,OObj.MakeFunc(__FUNCS["global_5"]["208::CleanKeyListeners"]));
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="mkHero";
__RUN.setStaticFile("Heroes_6",T0,OObj.MakeFunc(__FUNCS["Heroes_6"]["13::mkHero"]));
var T2="mixBannerLower";
__RUN.setStaticFile("Heroes_6",T2,OObj.MakeFunc(__FUNCS["Heroes_6"]["26::mixBannerLower"]));
var T4="mixBadgeLeft";
__RUN.setStaticFile("Heroes_6",T4,OObj.MakeFunc(__FUNCS["Heroes_6"]["39::mixBadgeLeft"]));
var T6="mixBadgeRight";
__RUN.setStaticFile("Heroes_6",T6,OObj.MakeFunc(__FUNCS["Heroes_6"]["52::mixBadgeRight"]));
var T8="mixBadgeDown";
__RUN.setStaticFile("Heroes_6",T8,OObj.MakeFunc(__FUNCS["Heroes_6"]["65::mixBadgeDown"]));
var T10=OObj.MakeFunc(__FUNCS["Heroes_6"]["78::Create"]);
__RUN.setStaticGlo("Heroes.Create",T10);
var T12=OObj.MakeFunc(__FUNCS["Heroes_6"]["91::GetHeroes"]);
__RUN.setStaticGlo("Heroes.GetHeroes",T12);
var T14=OObj.MakeFunc(__FUNCS["Heroes_6"]["104::GetHp"]);
__RUN.setStaticGlo("Heroes.GetHp",T14);
var T16=OObj.MakeFunc(__FUNCS["Heroes_6"]["117::GetName"]);
__RUN.setStaticGlo("Heroes.GetName",T16);
var T18=OObj.MakeFunc(__FUNCS["Heroes_6"]["130::mixColors"]);
__RUN.setStaticGlo("Heroes.mixColors",T18);
var T20=OObj.MakeFunc(__FUNCS["Heroes_6"]["143::LookupByName"]);
__RUN.setStaticGlo("Heroes.LookupByName",T20);
var T22=OObj.MakeFunc(__FUNCS["Heroes_6"]["156::MakeHeroBanner"]);
__RUN.setStaticGlo("Heroes.MakeHeroBanner",T22);
var T24=OObj.MakeFunc(__FUNCS["Heroes_6"]["169::MakeHeroBadge"]);
__RUN.setStaticGlo("Heroes.MakeHeroBadge",T24);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="mkCard";
__RUN.setStaticFile("images_7",T0,OObj.MakeFunc(__FUNCS["images_7"]["13::mkCard"]));
var T2="mkCampaign";
__RUN.setStaticFile("images_7",T2,OObj.MakeFunc(__FUNCS["images_7"]["26::mkCampaign"]));
var T4="mixExtraStyle";
__RUN.setStaticFile("images_7",T4,OObj.MakeFunc(__FUNCS["images_7"]["39::mixExtraStyle"]));
var T6=OObj.MakeFunc(__FUNCS["images_7"]["52::Reg"]);
__RUN.setStaticGlo("Img.Reg",T6);
var T8=OObj.MakeFunc(__FUNCS["images_7"]["65::GetPath"]);
__RUN.setStaticGlo("Img.GetPath",T8);
var T10=OObj.MakeFunc(__FUNCS["images_7"]["78::GetAltText"]);
__RUN.setStaticGlo("Img.GetAltText",T10);
var T12=OObj.MakeFunc(__FUNCS["images_7"]["91::MakeElem"]);
__RUN.setStaticGlo("Img.MakeElem",T12);
var T14=OObj.MakeFunc(__FUNCS["images_7"]["104::mixApplyExtraStyles"]);
__RUN.setStaticGlo("Img.mixApplyExtraStyles",T14);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["Main.w_8"]["13::Main"]);
__RUN.setStaticGlo("Main",T0);
var T2=OObj.MakeFunc(__FUNCS["Main.w_8"]["26::RunCampaign"]);
__RUN.setStaticGlo("RunCampaign",T2);
var T4="Resume";
__RUN.setStaticFile("Main.w_8",T4,OObj.MakeFunc(__FUNCS["Main.w_8"]["65::Resume"]));
var T6="MakeCampaignHeader";
__RUN.setStaticFile("Main.w_8",T6,OObj.MakeFunc(__FUNCS["Main.w_8"]["78::MakeCampaignHeader"]));
var T8="BuildStateFromDeltas";
__RUN.setStaticFile("Main.w_8",T8,OObj.MakeFunc(__FUNCS["Main.w_8"]["91::BuildStateFromDeltas"]));
var T10="GetNextIdx";
__RUN.setStaticFile("Main.w_8",T10,OObj.MakeFunc(__FUNCS["Main.w_8"]["104::GetNextIdx"]));
var T12="RunSlide";
__RUN.setStaticFile("Main.w_8",T12,OObj.MakeFunc(__FUNCS["Main.w_8"]["117::RunSlide"]));
var T14="MenuButton";
__RUN.setStaticFile("Main.w_8",T14,OObj.MakeFunc(__FUNCS["Main.w_8"]["169::MenuButton"]));
var T16="BackButton";
__RUN.setStaticFile("Main.w_8",T16,OObj.MakeFunc(__FUNCS["Main.w_8"]["208::BackButton"]));
var T18="SyncHeroFooter";
__RUN.setStaticFile("Main.w_8",T18,OObj.MakeFunc(__FUNCS["Main.w_8"]["247::SyncHeroFooter"]));
var T20="UpdateHeroFooterBadge";
__RUN.setStaticFile("Main.w_8",T20,OObj.MakeFunc(__FUNCS["Main.w_8"]["260::UpdateHeroFooterBadge"]));
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["Menu.w_9"]["13::Run"]);
__RUN.setStaticGlo("Menu.Run",T0);
var T2=OObj.MakeFunc(__FUNCS["Menu.w_9"]["39::QueueMenu"]);
__RUN.setStaticGlo("Menu.QueueMenu",T2);
var T4=OObj.MakeFunc(__FUNCS["Menu.w_9"]["65::QueueLaunch"]);
__RUN.setStaticGlo("Menu.QueueLaunch",T4);
var T6=OObj.MakeFunc(__FUNCS["Menu.w_9"]["78::DoMain"]);
__RUN.setStaticGlo("Menu.DoMain",T6);
var T8=OObj.MakeFunc(__FUNCS["Menu.w_9"]["130::DoNewGame"]);
__RUN.setStaticGlo("Menu.DoNewGame",T8);
var T10=OObj.MakeFunc(__FUNCS["Menu.w_9"]["169::renderCampaignList"]);
__RUN.setStaticGlo("Menu.renderCampaignList",T10);
var T12=OObj.MakeFunc(__FUNCS["Menu.w_9"]["182::renderCampaignCover"]);
__RUN.setStaticGlo("Menu.renderCampaignCover",T12);
var T14=OObj.MakeFunc(__FUNCS["Menu.w_9"]["221::DoLoadGame"]);
__RUN.setStaticGlo("Menu.DoLoadGame",T14);
var T16=OObj.MakeFunc(__FUNCS["Menu.w_9"]["260::DoAbout"]);
__RUN.setStaticGlo("Menu.DoAbout",T16);
var T18="mkCampaignComic";
__RUN.setStaticFile("Menu.w_9",T18,OObj.MakeFunc(__FUNCS["Menu.w_9"]["299::mkCampaignComic"]));
var T20="mkGameLoadButton";
__RUN.setStaticFile("Menu.w_9",T20,OObj.MakeFunc(__FUNCS["Menu.w_9"]["312::mkGameLoadButton"]));
var T22="tryReadSave";
__RUN.setStaticFile("Menu.w_9",T22,OObj.MakeFunc(__FUNCS["Menu.w_9"]["351::tryReadSave"]));
var T24="mkContinueButton";
__RUN.setStaticFile("Menu.w_9",T24,OObj.MakeFunc(__FUNCS["Menu.w_9"]["364::mkContinueButton"]));
var T26="MakeTitle";
__RUN.setStaticFile("Menu.w_9",T26,OObj.MakeFunc(__FUNCS["Menu.w_9"]["403::MakeTitle"]));
var T28="BackButton";
__RUN.setStaticFile("Menu.w_9",T28,OObj.MakeFunc(__FUNCS["Menu.w_9"]["416::BackButton"]));
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["SaveLo_10"]["13::GetNewSaveKey"]);
__RUN.setStaticGlo("Storage.GetNewSaveKey",T0);
var T2=OObj.MakeFunc(__FUNCS["SaveLo_10"]["26::SaveGame"]);
__RUN.setStaticGlo("Storage.SaveGame",T2);
var T4=OObj.MakeFunc(__FUNCS["SaveLo_10"]["39::GetContinueKey"]);
__RUN.setStaticGlo("Storage.GetContinueKey",T4);
var T6=OObj.MakeFunc(__FUNCS["SaveLo_10"]["52::CanContinue"]);
__RUN.setStaticGlo("Storage.CanContinue",T6);
var T8=OObj.MakeFunc(__FUNCS["SaveLo_10"]["65::LoadGameState"]);
__RUN.setStaticGlo("Storage.LoadGameState",T8);
var T10=OObj.MakeFunc(__FUNCS["SaveLo_10"]["78::FindAllSaves"]);
__RUN.setStaticGlo("Storage.FindAllSaves",T10);
var T12=OObj.MakeFunc(__FUNCS["SaveLo_10"]["91::HasSaveGames"]);
__RUN.setStaticGlo("Storage.HasSaveGames",T12);
var T14="UpdateSave";
__RUN.setStaticFile("SaveLo_10",T14,OObj.MakeFunc(__FUNCS["SaveLo_10"]["104::UpdateSave"]));
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["checkl_11"]["13::CheckList"]);
__RUN.setStaticGlo("Slide.CheckList",T0);
var T2=OObj.MakeFunc(__FUNCS["checkl_11"]["39::MakeCheck"]);
__RUN.setStaticGlo("Slide.CheckList.MakeCheck",T2);
var T4=OObj.MakeFunc(__FUNCS["checkl_11"]["65::DoChecklist"]);
__RUN.setStaticGlo("Slide.CheckList.DoChecklist",T4);
var T6=OObj.MakeFunc(__FUNCS["checkl_11"]["130::DoPlayerList"]);
__RUN.setStaticGlo("Slide.CheckList.DoPlayerList",T6);
var T8=OObj.MakeFunc(__FUNCS["checkl_11"]["182::DoPlayerSpecificInstructions"]);
__RUN.setStaticGlo("Slide.CheckList.DoPlayerSpecificInstructions",T8);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["fork.w_12"]["13::DoCampaignMode"]);
__RUN.setStaticGlo("Slide.DoCampaignMode",T0);
var T2=OObj.MakeFunc(__FUNCS["fork.w_12"]["26::MakeOption"]);
__RUN.setStaticGlo("Slide.Fork.MakeOption",T2);
var T4=OObj.MakeFunc(__FUNCS["fork.w_12"]["39::DoFork"]);
__RUN.setStaticGlo("Slide.Fork.DoFork",T4);
var T6=OObj.MakeFunc(__FUNCS["fork.w_12"]["78::DoConfirmDefeat"]);
__RUN.setStaticGlo("Slide.Fork.DoConfirmDefeat",T6);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["hitpoi_13"]["13::RecordHP"]);
__RUN.setStaticGlo("Slide.RecordHP",T0);
var T2=OObj.MakeFunc(__FUNCS["hitpoi_13"]["39::SetInitialHP"]);
__RUN.setStaticGlo("Slide.SetInitialHP",T2);
var T4=OObj.MakeFunc(__FUNCS["hitpoi_13"]["65::DoRecordHP"]);
__RUN.setStaticGlo("Slide.HP.DoRecordHP",T4);
var T6=OObj.MakeFunc(__FUNCS["hitpoi_13"]["104::DoSetInitialHP"]);
__RUN.setStaticGlo("Slide.HP.DoSetInitialHP",T6);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["slides_14"]["13::Create"]);
__RUN.setStaticGlo("Slide.Create",T0);
var T2=OObj.MakeFunc(__FUNCS["slides_14"]["26::CampaignMode"]);
__RUN.setStaticGlo("Slide.CampaignMode",T2);
var T4=OObj.MakeFunc(__FUNCS["slides_14"]["52::NumPlayers"]);
__RUN.setStaticGlo("Slide.NumPlayers",T4);
var T6=OObj.MakeFunc(__FUNCS["slides_14"]["78::HeroPicker"]);
__RUN.setStaticGlo("Slide.HeroPicker",T6);
var T8=OObj.MakeFunc(__FUNCS["slides_14"]["104::Checkpoint"]);
__RUN.setStaticGlo("Slide.Checkpoint",T8);
var T10=OObj.MakeFunc(__FUNCS["slides_14"]["117::Scenario"]);
__RUN.setStaticGlo("Slide.Scenario",T10);
var T12=OObj.MakeFunc(__FUNCS["slides_14"]["143::PlayGame"]);
__RUN.setStaticGlo("Slide.PlayGame",T12);
var T14=OObj.MakeFunc(__FUNCS["slides_14"]["169::ConfirmDefeat"]);
__RUN.setStaticGlo("Slide.ConfirmDefeat",T14);
var T16=OObj.MakeFunc(__FUNCS["slides_14"]["208::Victory"]);
__RUN.setStaticGlo("Slide.Victory",T16);
var T18=OObj.MakeFunc(__FUNCS["slides_14"]["234::Setup"]);
__RUN.setStaticGlo("Slide.Setup",T18);
var T20=OObj.MakeFunc(__FUNCS["slides_14"]["260::Popup"]);
__RUN.setStaticGlo("Slide.Popup",T20);
var T22=OObj.MakeFunc(__FUNCS["slides_14"]["286::If"]);
__RUN.setStaticGlo("Slide.If",T22);
var T24=OObj.MakeFunc(__FUNCS["slides_14"]["299::IfExpert"]);
__RUN.setStaticGlo("Slide.IfExpert",T24);
var T26=OObj.MakeFunc(__FUNCS["slides_14"]["325::IfNotExpert"]);
__RUN.setStaticGlo("Slide.IfNotExpert",T26);
var T28=OObj.MakeFunc(__FUNCS["slides_14"]["351::IfDefeat"]);
__RUN.setStaticGlo("Slide.IfDefeat",T28);
var T30=OObj.MakeFunc(__FUNCS["slides_14"]["377::IfNotDefeat"]);
__RUN.setStaticGlo("Slide.IfNotDefeat",T30);
var T32=OObj.MakeFunc(__FUNCS["slides_14"]["403::Narrative"]);
__RUN.setStaticGlo("Slide.Narrative",T32);
var T34=OObj.MakeFunc(__FUNCS["slides_14"]["429::EnemyStageCheck"]);
__RUN.setStaticGlo("Slide.EnemyStageCheck",T34);
var T36=OObj.MakeFunc(__FUNCS["slides_14"]["455::ExpertEncounterSetCheck"]);
__RUN.setStaticGlo("Slide.ExpertEncounterSetCheck",T36);
var T38=OObj.MakeFunc(__FUNCS["slides_14"]["481::HookAdvance"]);
__RUN.setStaticGlo("Slide.HookAdvance",T38);
var T40=OObj.MakeFunc(__FUNCS["slides_14"]["507::PassThrough"]);
__RUN.setStaticGlo("Slide.PassThrough",T40);
var T42=OObj.MakeFunc(__FUNCS["slides_14"]["533::DoSimplePopup"]);
__RUN.setStaticGlo("Slide.DoSimplePopup",T42);
var T44=OObj.MakeFunc(__FUNCS["slides_14"]["572::DoVictory"]);
__RUN.setStaticGlo("Slide.DoVictory",T44);
var T46="DoNumPlayers";
__RUN.setStaticFile("slides_14",T46,OObj.MakeFunc(__FUNCS["slides_14"]["611::DoNumPlayers"]));
var T48="pbHelper";
__RUN.setStaticFile("slides_14",T48,OObj.MakeFunc(__FUNCS["slides_14"]["676::pbHelper"]));
var T50="DoHeroPicker";
__RUN.setStaticFile("slides_14",T50,OObj.MakeFunc(__FUNCS["slides_14"]["702::DoHeroPicker"]));
var T52="DoScenarioStart";
__RUN.setStaticFile("slides_14",T52,OObj.MakeFunc(__FUNCS["slides_14"]["728::DoScenarioStart"]));
var T54="DoPlayGame";
__RUN.setStaticFile("slides_14",T54,OObj.MakeFunc(__FUNCS["slides_14"]["767::DoPlayGame"]));
var T56="mkPowButton";
__RUN.setStaticFile("slides_14",T56,OObj.MakeFunc(__FUNCS["slides_14"]["819::mkPowButton"]));
var T58="mkDiv";
__RUN.setStaticFile("slides_14",T58,OObj.MakeFunc(__FUNCS["slides_14"]["832::mkDiv"]));
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=OObj.MakeFunc(__FUNCS["util.w_15"]["13::Shuffle"]);
__RUN.setStaticGlo("List.Shuffle",T0);
var T2=OObj.MakeFunc(__FUNCS["util.w_15"]["26::RemoveFirst"]);
__RUN.setStaticGlo("List.RemoveFirst",T2);
var T4=OObj.MakeFunc(__FUNCS["util.w_15"]["39::IndexOf"]);
__RUN.setStaticGlo("List.IndexOf",T4);
var T6=OObj.MakeFunc(__FUNCS["util.w_15"]["52::GetSubset"]);
__RUN.setStaticGlo("List.GetSubset",T6);
var T8=OObj.MakeFunc(__FUNCS["util.w_15"]["65::FirstIndex"]);
__RUN.setStaticGlo("List.FirstIndex",T8);
var T10=OObj.MakeFunc(__FUNCS["util.w_15"]["78::RemoveItem"]);
__RUN.setStaticGlo("List.RemoveItem",T10);
var T12=OObj.MakeFunc(__FUNCS["util.w_15"]["104::Compress"]);
__RUN.setStaticGlo("List.Compress",T12);
var T14=OObj.MakeFunc(__FUNCS["util.w_15"]["117::Map"]);
__RUN.setStaticGlo("List.Map",T14);
var T16=OObj.MakeFunc(__FUNCS["util.w_15"]["130::Filter"]);
__RUN.setStaticGlo("List.Filter",T16);
var T18=OObj.MakeFunc(__FUNCS["util.w_15"]["143::Join"]);
__RUN.setStaticGlo("List.Join",T18);
var T20=OObj.MakeFunc(__FUNCS["util.w_15"]["156::QuickPick"]);
__RUN.setStaticGlo("List.QuickPick",T20);
var T22=OObj.MakeFunc(__FUNCS["util.w_15"]["169::NumMatches"]);
__RUN.setStaticGlo("List.NumMatches",T22);
var T24=OObj.MakeFunc(__FUNCS["util.w_15"]["182::Min"]);
__RUN.setStaticGlo("List.Min",T24);
var T26=OObj.MakeFunc(__FUNCS["util.w_15"]["195::AppendList"]);
__RUN.setStaticGlo("List.AppendList",T26);
var T28=OObj.MakeFunc(__FUNCS["util.w_15"]["208::Reverse"]);
__RUN.setStaticGlo("List.Reverse",T28);
var T30=OObj.MakeFunc(__FUNCS["util.w_15"]["221::QuickPick"]);
__RUN.setStaticGlo("Util.QuickPick",T30);
var T32=OObj.MakeFunc(__FUNCS["util.w_15"]["234::iif"]);
__RUN.setStaticGlo("iif",T32);
var T34=OObj.MakeFunc(__FUNCS["util.w_15"]["247::log"]);
__RUN.setStaticGlo("log",T34);
var T36=OObj.MakeFunc(__FUNCS["util.w_15"]["260::exLog"]);
__RUN.setStaticGlo("exLog",T36);
var T38=OObj.MakeFunc(__FUNCS["util.w_15"]["273::logDeep"]);
__RUN.setStaticGlo("logDeep",T38);
var T40="logHelp";
__RUN.setStaticFile("util.w_15",T40,OObj.MakeFunc(__FUNCS["util.w_15"]["286::logHelp"]));
var T42=OObj.MakeFunc(__FUNCS["util.w_15"]["299::Clamp"]);
__RUN.setStaticGlo("Math.Clamp",T42);
var T44=OObj.MakeFunc(__FUNCS["util.w_15"]["312::Min"]);
__RUN.setStaticGlo("Math.Min",T44);
var T46=OObj.MakeFunc(__FUNCS["util.w_15"]["325::Max"]);
__RUN.setStaticGlo("Math.Max",T46);
var T48=OObj.MakeFunc(__FUNCS["util.w_15"]["338::Abs"]);
__RUN.setStaticGlo("Math.Abs",T48);
var T50=OObj.MakeFunc(__FUNCS["util.w_15"]["351::RepeatStr"]);
__RUN.setStaticGlo("Str.RepeatStr",T50);
var T52=OObj.MakeFunc(__FUNCS["util.w_15"]["364::GT"]);
__RUN.setStaticGlo("GT",T52);
var T54=OObj.MakeFunc(__FUNCS["util.w_15"]["377::GTW"]);
__RUN.setStaticGlo("GTW",T54);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=false;
__RUN.setStaticGlo("Compiler.IsTest",T0);
var T2=false;
__RUN.setStaticGlo("Compiler.IsDebug",T2);
var T4=false;
__RUN.setStaticGlo("Compiler.IsSuggestion",T4);
var T6=false;
__RUN.setStaticGlo("Compiler.IsIDE",T6);
var T8=false;
__RUN.setStaticGlo("Compiler.IsBootstrap",T8);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="isExpertMode";
__RUN.setStaticGlo("Campaign.ExpertMode",T0);
var T2="defeated";
__RUN.setStaticGlo("Campaign.Defeated",T2);
var T4="victory";
__RUN.setStaticGlo("Campaign.Victory",T4);
var T6="complete";
__RUN.setStaticGlo("Campaign.Complete",T6);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="experimental weapon";
__RUN.setStaticGlo("RedSkull.Weapon",T0);
var T2="tech upgrade";
__RUN.setStaticGlo("RedSkull.TechUp",T2);
var T4="condition";
__RUN.setStaticGlo("RedSkull.Condition",T4);
var T6="condition upgraded";
__RUN.setStaticGlo("RedSkull.ConditionUpgraded",T6);
var T8="obligations";
__RUN.setStaticGlo("RedSkull.Obligations",T8);
var T10="delay counters";
__RUN.setStaticGlo("RedSkull.DelayCounters",T10);
var T12="allies";
__RUN.setStaticGlo("RedSkull.AlliesUnlocked",T12);
var T14="enemy engaged";
__RUN.setStaticGlo("RedSkull.EnemyEngaged",T14);
var T16="prison in play";
__RUN.setStaticGlo("RedSkull.Prison",T16);
var T18="allies in prison";
__RUN.setStaticGlo("RedSkull.AlliesInPrison",T18);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=new OObj();
__RUN.setStaticGlo("Dom.Body",T0);
var T2=new OObj();
__RUN.setStaticGlo("Dom.Document",T2);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="bCyan";
__RUN.setStaticGlo("g.BackStyle.Cyan",T0);
var T2="bGray";
__RUN.setStaticGlo("g.BackStyle.Gray",T2);
var T4="bBlack";
__RUN.setStaticGlo("g.BackStyle.Black",T4);
var T6="bPurple";
__RUN.setStaticGlo("g.BackStyle.Purple",T6);
var T8="lBlue";
__RUN.setStaticGlo("g.LineStyle.Blue",T8);
var T10="lGray";
__RUN.setStaticGlo("g.LineStyle.Gray",T10);
var T12="lBlack";
__RUN.setStaticGlo("g.LineStyle.Black",T12);
var T14="lWhite";
__RUN.setStaticGlo("g.LineStyle.White",T14);
var T16="lYellow";
__RUN.setStaticGlo("g.LineStyle.Yellow",T16);
var T18="lRed";
__RUN.setStaticGlo("g.LineStyle.Red",T18);
var T20="fOrange";
__RUN.setStaticGlo("g.ForeStyle.Orange",T20);
var T22="fWhite";
__RUN.setStaticGlo("g.ForeStyle.White",T22);
var T24="fPurple";
__RUN.setStaticGlo("g.ForeStyle.Purple",T24);
var T26="fYellow";
__RUN.setStaticGlo("g.ForeStyle.Yellow",T26);
var T28="fRed";
__RUN.setStaticGlo("g.ForeStyle.Red",T28);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="menu_cont";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.GetElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
__RUN.setStaticGlo("Menu.Container",T3);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=3.1415927;
__RUN.setStaticGlo("Math.PI",T0);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=new OObj();
var T1="campai_2";
__RUN.setScratchFile(T1,"AllCam_16",T0);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=new OObj();
var T1="Heroes_6";
__RUN.setScratchFile(T1,"AllHer_17",T0);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=__RUN.getStaticGlo("Time.Now").func(null);
var T1=DU.ReadReturn(T0,1);
var T2="util.w_15";
__RUN.setScratchFile(T2,"RND_18",T1);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="campai_2";
var T1=DU.Ref(__RUN.getScratchFile(T0,"AllCam_16"));
var T2=new OObj();
var T3="The Galaxy's Most Wanted";
OObj.SetChild(T2,"name",T3);
var T5=DU.Ref(__RUN.getStaticGlo("Img.GalaxysMostWanted"));
OObj.SetChild(T2,"img",T5);
var T7=new OObj();
OObj.SetChild(T2,"slides",T7);
var T9=[T2];
var T10=__RUN.getStaticGlo("List.Add").func({__THIS:T1},...T9);
var T11=DU.ReadReturn(T10,1);
//  mixin $Campaign.mixOfficalCampaign(2)
var T12=DU.Ref(T11);
var T13=2;
var T14=[T13];
var T15=__RUN.getStaticGlo("Campaign.mixOfficalCampaign").func({__THIS:T12},...T14);
//  mixin $Campaign.mixComingSoon()
var T16=DU.Ref(T11);
var T17=__RUN.getStaticGlo("Campaign.mixComingSoon").func({__THIS:T16});
var T19="campai_2";
var T20=DU.Ref(__RUN.getScratchFile(T19,"AllCam_16"));
var T21=new OObj();
var T22="The Mad Titan's Shadow";
OObj.SetChild(T21,"name",T22);
var T24=DU.Ref(__RUN.getStaticGlo("Img.MadTitan"));
OObj.SetChild(T21,"img",T24);
var T26=new OObj();
OObj.SetChild(T21,"slides",T26);
var T28=[T21];
var T29=__RUN.getStaticGlo("List.Add").func({__THIS:T20},...T28);
var T30=DU.ReadReturn(T29,1);
//  mixin $Campaign.mixOfficalCampaign(3)
var T31=DU.Ref(T30);
var T32=3;
var T33=[T32];
var T34=__RUN.getStaticGlo("Campaign.mixOfficalCampaign").func({__THIS:T31},...T33);
//  mixin $Campaign.mixComingSoon()
var T35=DU.Ref(T30);
var T36=__RUN.getStaticGlo("Campaign.mixComingSoon").func({__THIS:T35});
var T38="campai_2";
var T39=DU.Ref(__RUN.getScratchFile(T38,"AllCam_16"));
var T40=new OObj();
var T41="Sinister Motives";
OObj.SetChild(T40,"name",T41);
var T43=DU.Ref(__RUN.getStaticGlo("Img.SinisterMotives"));
OObj.SetChild(T40,"img",T43);
var T45=new OObj();
OObj.SetChild(T40,"slides",T45);
var T47=[T40];
var T48=__RUN.getStaticGlo("List.Add").func({__THIS:T39},...T47);
var T49=DU.ReadReturn(T48,1);
//  mixin $Campaign.mixOfficalCampaign(4)
var T50=DU.Ref(T49);
var T51=4;
var T52=[T51];
var T53=__RUN.getStaticGlo("Campaign.mixOfficalCampaign").func({__THIS:T50},...T52);
//  mixin $Campaign.mixComingSoon()
var T54=DU.Ref(T49);
var T55=__RUN.getStaticGlo("Campaign.mixComingSoon").func({__THIS:T54});
var T57="campai_2";
var T58=DU.Ref(__RUN.getScratchFile(T57,"AllCam_16"));
var T59=new OObj();
var T60="Countdown to Oblivion";
OObj.SetChild(T59,"name",T60);
var T62=DU.Ref(__RUN.getStaticGlo("Img.SwarmAttack"));
OObj.SetChild(T59,"img",T62);
var T64=new OObj();
OObj.SetChild(T59,"slides",T64);
var T66=[T59];
var T67=__RUN.getStaticGlo("List.Add").func({__THIS:T58},...T66);
var T68=DU.ReadReturn(T67,1);
//  mixin $Campaign.mixBookStyles($g.BackStyle.Gray, $g.LineStyle.Gray, $g.ForeStyle.Orange)
var T69=DU.Ref(T68);
var T70="bGray";
var T71="lGray";
var T72="fOrange";
var T73=[T70,T71,T72];
var T74=__RUN.getStaticGlo("Campaign.mixBookStyles").func({__THIS:T69},...T73);
//  mixin $Campaign.mixComingSoon()
var T75=DU.Ref(T68);
var T76=__RUN.getStaticGlo("Campaign.mixComingSoon").func({__THIS:T75});
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="campai_2";
var T1=DU.Ref(__RUN.getScratchFile(T0,"AllCam_16"));
var T2=new OObj();
var T3="The Rise of Red Skull";
OObj.SetChild(T2,"name",T3);
var T5=DU.Ref(__RUN.getStaticGlo("Img.RedSkull"));
OObj.SetChild(T2,"img",T5);
var T7=new OObj();
OObj.SetChild(T2,"slides",T7);
var T9=[T2];
var T10=__RUN.getStaticGlo("List.Add").func({__THIS:T1},...T9);
var T11=DU.ReadReturn(T10,1);
//  mixin $Campaign.mixOfficalCampaign(1)
var T12=DU.Ref(T11);
var T13=1;
var T14=[T13];
var T15=__RUN.getStaticGlo("Campaign.mixOfficalCampaign").func({__THIS:T12},...T14);
//  mixin $mixTooltipGen(`$RedSkull.TooltipGen(state, player)`)
var T16=DU.Ref(T11);
var T17=OObj.MakeFunc(__FUNCS["Red Sk_3"]["13_func"],{});
var T18=[T17];
var T19=__RUN.getStaticGlo("Campaign.mixTooltipGen").func({__THIS:T16},...T18);
//  mixin $mixProductInfo(dim)
var T20=DU.Ref(T11);
var T21=new OObj();
//  "The Rise of Red Skull expansion"
var T22="The Rise of Red Skull expansion";
OObj.SetChild(T21,0,T22);
var T24=[T21];
var T25=__RUN.getStaticGlo("Campaign.mixProductInfo").func({__THIS:T20},...T24);
//  mixin $mixSaveGameReminder()
var T26=DU.Ref(T11);
var T27=__RUN.getStaticGlo("Campaign.mixSaveGameReminder").func({__THIS:T26});
//  mixin $mixHeroSelection()
var T28=DU.Ref(T11);
var T29=__RUN.getStaticGlo("Campaign.mixHeroSelection").func({__THIS:T28});
//  mixin $mixModeSelect()
var T30=DU.Ref(T11);
var T31=__RUN.getStaticGlo("Campaign.mixModeSelect").func({__THIS:T30});
//  mixin $mixMission("R0", 1, "Attack on Mount Athena", $Img.Crossbones, dim
var T32=DU.Ref(T11);
var T33="R0";
var T34=1;
var T35="Attack on Mount Athena";
var T36=DU.Ref(__RUN.getStaticGlo("Img.Crossbones"));
var T37=new OObj();
//  $CheckList("Setup", dim, null, $Img.Crossbones)
var T38="Setup";
var T39=new OObj();
//  $EnemyStageCheck("Crossbones")
var T40="Crossbones";
var T41=[T40];
var T42=__RUN.getStaticGlo("Slide.EnemyStageCheck").func(null,...T41);
var T43=DU.ReadReturn(T42,1);
OObj.SetChild(T39,0,T43);
//  $CheckList.MakeCheck("**Main Scheme Deck**: Attack on Mount Athena, The Infinity Gem, The Getaway")
var T45="**Main Scheme Deck**: Attack on Mount Athena, The Infinity Gem, The Getaway";
var T46=[T45];
var T47=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T46);
var T48=DU.ReadReturn(T47,1);
OObj.SetChild(T39,1,T48);
var T50=null;
var T51=DU.Ref(__RUN.getStaticGlo("Img.Crossbones"));
var T52=[T38,T39,T50,T51];
var T53=__RUN.getStaticGlo("Slide.CheckList").func(null,...T52);
var T54=DU.ReadReturn(T53,1);
OObj.SetChild(T37,0,T54);
//  $CheckList("Setup", dim, "**Encounter Deck**", $Img.HydraBomber)
var T56="Setup";
var T57=new OObj();
//  $CheckList.MakeCheck("Crossbones set")
var T58="Crossbones set";
var T59=[T58];
var T60=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T59);
var T61=DU.ReadReturn(T60,1);
OObj.SetChild(T57,0,T61);
//  $CheckList.MakeCheck("Experimental Weapons set (set this aside)")
var T63="Experimental Weapons set (set this aside)";
var T64=[T63];
var T65=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T64);
var T66=DU.ReadReturn(T65,1);
OObj.SetChild(T57,1,T66);
//  $CheckList.MakeCheck("Hydra Assault set")
var T68="Hydra Assault set";
var T69=[T68];
var T70=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T69);
var T71=DU.ReadReturn(T70,1);
OObj.SetChild(T57,2,T71);
//  $CheckList.MakeCheck("Weapon Master set")
var T73="Weapon Master set";
var T74=[T73];
var T75=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T74);
var T76=DU.ReadReturn(T75,1);
OObj.SetChild(T57,3,T76);
//  $CheckList.MakeCheck("Legions of Hydra set")
var T78="Legions of Hydra set";
var T79=[T78];
var T80=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T79);
var T81=DU.ReadReturn(T80,1);
OObj.SetChild(T57,4,T81);
//  $CheckList.MakeCheck("Standard set")
var T83="Standard set";
var T84=[T83];
var T85=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T84);
var T86=DU.ReadReturn(T85,1);
OObj.SetChild(T57,5,T86);
//  $ExpertEncounterSetCheck()
var T88=__RUN.getStaticGlo("Slide.ExpertEncounterSetCheck").func(null);
var T89=DU.ReadReturn(T88,1);
OObj.SetChild(T57,6,T89);
var T91="**Encounter Deck**";
var T92=DU.Ref(__RUN.getStaticGlo("Img.HydraBomber"));
var T93=[T56,T57,T91,T92];
var T94=__RUN.getStaticGlo("Slide.CheckList").func(null,...T93);
var T95=DU.ReadReturn(T94,1);
OObj.SetChild(T37,1,T95);
//  $Setup(textdata)
var T97=new OObj();
var T98="**Set up the Experimental Weapons deck**:";
OObj.SetChild(T97,0,T98);
var T100="Shuffle the Experimental Weapons set cards together, and set them next to the main-scheme deck.";
OObj.SetChild(T97,1,T100);
var T102="";
OObj.SetChild(T97,2,T102);
var T104=[T97];
var T105=__RUN.getStaticGlo("Slide.Setup").func(null,...T104);
var T106=DU.ReadReturn(T105,1);
OObj.SetChild(T37,2,T106);
//  $PlayGame()
var T108=__RUN.getStaticGlo("Slide.PlayGame").func(null);
var T109=DU.ReadReturn(T108,1);
OObj.SetChild(T37,3,T109);
//  $Slide.Create(lambda(stage => async))
var T111=OObj.MakeFunc(__FUNCS["Red Sk_3"]["26_func44"],{});
var T112=[T111];
var T113=__RUN.getStaticGlo("Slide.Create").func(null,...T112);
var T114=DU.ReadReturn(T113,1);
OObj.SetChild(T37,4,T114);
//  $IfExpert($RecordHP())
var T116=__RUN.getStaticGlo("Slide.RecordHP").func(null);
var T117=DU.ReadReturn(T116,1);
var T118=[T117];
var T119=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T118);
var T120=DU.ReadReturn(T119,1);
OObj.SetChild(T37,5,T120);
//  $Slide.Create(lambda(stage => async))
var T122=OObj.MakeFunc(__FUNCS["Red Sk_3"]["52_func54"],{});
var T123=[T122];
var T124=__RUN.getStaticGlo("Slide.Create").func(null,...T123);
var T125=DU.ReadReturn(T124,1);
OObj.SetChild(T37,6,T125);
var T127="bBlack";
var T128="lBlack";
var T129="fWhite";
var T130="Read page 4 from The Rise of Red Skull rule book";
var T131=[T33,T34,T35,T36,T37,T127,T128,T129,T130];
var T132=__RUN.getStaticGlo("Campaign.mixMission").func({__THIS:T32},...T131);
//  mixin $mixMission("R1", 2, "None Shall Pass", $Img.AbsorbingMan, dim
var T133=DU.Ref(T11);
var T134="R1";
var T135=2;
var T136="None Shall Pass";
var T137=DU.Ref(__RUN.getStaticGlo("Img.AbsorbingMan"));
var T138=new OObj();
//  $CheckList("Setup", dim, null, $Img.AbsorbingMan)
var T139="Setup";
var T140=new OObj();
//  $EnemyStageCheck("Absorbing Man")
var T141="Absorbing Man";
var T142=[T141];
var T143=__RUN.getStaticGlo("Slide.EnemyStageCheck").func(null,...T142);
var T144=DU.ReadReturn(T143,1);
OObj.SetChild(T140,0,T144);
//  $CheckList.MakeCheck("**Main Scheme Deck**: None Shall Pass")
var T146="**Main Scheme Deck**: None Shall Pass";
var T147=[T146];
var T148=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T147);
var T149=DU.ReadReturn(T148,1);
OObj.SetChild(T140,1,T149);
var T151=null;
var T152=DU.Ref(__RUN.getStaticGlo("Img.AbsorbingMan"));
var T153=[T139,T140,T151,T152];
var T154=__RUN.getStaticGlo("Slide.CheckList").func(null,...T153);
var T155=DU.ReadReturn(T154,1);
OObj.SetChild(T138,0,T155);
//  $CheckList("Setup", dim, "**Encounter Deck**", $Img.AbandonedFacility)
var T157="Setup";
var T158=new OObj();
//  $CheckList.MakeCheck("Absorbing Man set")
var T159="Absorbing Man set";
var T160=[T159];
var T161=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T160);
var T162=DU.ReadReturn(T161,1);
OObj.SetChild(T158,0,T162);
//  $CheckList.MakeCheck("Hydra Patrol set")
var T164="Hydra Patrol set";
var T165=[T164];
var T166=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T165);
var T167=DU.ReadReturn(T166,1);
OObj.SetChild(T158,1,T167);
//  $CheckList.MakeCheck("Standard set")
var T169="Standard set";
var T170=[T169];
var T171=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T170);
var T172=DU.ReadReturn(T171,1);
OObj.SetChild(T158,2,T172);
//  $ExpertEncounterSetCheck()
var T174=__RUN.getStaticGlo("Slide.ExpertEncounterSetCheck").func(null);
var T175=DU.ReadReturn(T174,1);
OObj.SetChild(T158,3,T175);
var T177="**Encounter Deck**";
var T178=DU.Ref(__RUN.getStaticGlo("Img.AbandonedFacility"));
var T179=[T157,T158,T177,T178];
var T180=__RUN.getStaticGlo("Slide.CheckList").func(null,...T179);
var T181=DU.ReadReturn(T180,1);
OObj.SetChild(T138,1,T181);
//  $RedSkull.SetupWeapons()
var T183=__RUN.getStaticGlo("RedSkull.SetupWeapons").func(null);
var T184=DU.ReadReturn(T183,1);
OObj.SetChild(T138,2,T184);
//  $RedSkull.SetupTechCards()
var T186=new OObj();
var T187="Each player searches their deck for all cards with the setup keyword and puts them into play.";
OObj.SetChild(T186,0,T187);
var T189="";
OObj.SetChild(T186,1,T189);
var T191=[T186];
var T192=__RUN.getStaticGlo("Slide.Setup").func(null,...T191);
var T193=DU.ReadReturn(T192,1);
OObj.SetChild(T138,3,T193);
//  $RedSkull.HealSlide()
var T195=__RUN.getStaticGlo("RedSkull.HealSlide").func(null);
var T196=DU.ReadReturn(T195,1);
OObj.SetChild(T138,4,T196);
//  $IfExpert($SetInitialHP())
var T198=__RUN.getStaticGlo("Slide.SetInitialHP").func(null);
var T199=DU.ReadReturn(T198,1);
var T200=[T199];
var T201=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T200);
var T202=DU.ReadReturn(T201,1);
OObj.SetChild(T138,5,T202);
//  $PlayGame()
var T204=__RUN.getStaticGlo("Slide.PlayGame").func(null);
var T205=DU.ReadReturn(T204,1);
OObj.SetChild(T138,6,T205);
//  $Slide.Create(lambda(stage => async))
var T207=OObj.MakeFunc(__FUNCS["Red Sk_3"]["65_func85"],{});
var T208=[T207];
var T209=__RUN.getStaticGlo("Slide.Create").func(null,...T208);
var T210=DU.ReadReturn(T209,1);
OObj.SetChild(T138,7,T210);
//  $IfExpert($RecordHP())
var T212=__RUN.getStaticGlo("Slide.RecordHP").func(null);
var T213=DU.ReadReturn(T212,1);
var T214=[T213];
var T215=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T214);
var T216=DU.ReadReturn(T215,1);
OObj.SetChild(T138,8,T216);
//  $Slide.Create(lambda(stage => async))
var T218=OObj.MakeFunc(__FUNCS["Red Sk_3"]["78_func90"],{});
var T219=[T218];
var T220=__RUN.getStaticGlo("Slide.Create").func(null,...T219);
var T221=DU.ReadReturn(T220,1);
OObj.SetChild(T138,9,T221);
var T223="bCyan";
var T224="lBlue";
var T225="fOrange";
var T226="Read page 6 from The Rise of Red Skull rule book";
var T227=[T134,T135,T136,T137,T138,T223,T224,T225,T226];
var T228=__RUN.getStaticGlo("Campaign.mixMission").func({__THIS:T133},...T227);
//  mixin $mixMission("R2", 3, "Hunting Down Heroes", $Img.Taskmaster, dim
var T229=DU.Ref(T11);
var T230="R2";
var T231=3;
var T232="Hunting Down Heroes";
var T233=DU.Ref(__RUN.getStaticGlo("Img.Taskmaster"));
var T234=new OObj();
//  $CheckList("Setup", dim, null, $Img.Taskmaster)
var T235="Setup";
var T236=new OObj();
//  $EnemyStageCheck("Taskmaster")
var T237="Taskmaster";
var T238=[T237];
var T239=__RUN.getStaticGlo("Slide.EnemyStageCheck").func(null,...T238);
var T240=DU.ReadReturn(T239,1);
OObj.SetChild(T236,0,T240);
//  $CheckList.MakeCheck("**Main Scheme Deck**: Hunting Down Heroes")
var T242="**Main Scheme Deck**: Hunting Down Heroes";
var T243=[T242];
var T244=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T243);
var T245=DU.ReadReturn(T244,1);
OObj.SetChild(T236,1,T245);
var T247=null;
var T248=DU.Ref(__RUN.getStaticGlo("Img.Taskmaster"));
var T249=[T235,T236,T247,T248];
var T250=__RUN.getStaticGlo("Slide.CheckList").func(null,...T249);
var T251=DU.ReadReturn(T250,1);
OObj.SetChild(T234,0,T251);
//  $CheckList("Setup", dim, "**Encounter Deck**", $Img.TaskmastersShield)
var T253="Setup";
var T254=new OObj();
//  $CheckList.MakeCheck("Taskmaster set")
var T255="Taskmaster set";
var T256=[T255];
var T257=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T256);
var T258=DU.ReadReturn(T257,1);
OObj.SetChild(T254,0,T258);
//  $CheckList.MakeCheck("Hydra Patrol set")
var T260="Hydra Patrol set";
var T261=[T260];
var T262=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T261);
var T263=DU.ReadReturn(T262,1);
OObj.SetChild(T254,1,T263);
//  $CheckList.MakeCheck("Weapon Master set")
var T265="Weapon Master set";
var T266=[T265];
var T267=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T266);
var T268=DU.ReadReturn(T267,1);
OObj.SetChild(T254,2,T268);
//  $CheckList.MakeCheck("Standard set")
var T270="Standard set";
var T271=[T270];
var T272=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T271);
var T273=DU.ReadReturn(T272,1);
OObj.SetChild(T254,3,T273);
//  $ExpertEncounterSetCheck()
var T275=__RUN.getStaticGlo("Slide.ExpertEncounterSetCheck").func(null);
var T276=DU.ReadReturn(T275,1);
OObj.SetChild(T254,4,T276);
var T278="**Encounter Deck**";
var T279=DU.Ref(__RUN.getStaticGlo("Img.TaskmastersShield"));
var T280=[T253,T254,T278,T279];
var T281=__RUN.getStaticGlo("Slide.CheckList").func(null,...T280);
var T282=DU.ReadReturn(T281,1);
OObj.SetChild(T234,1,T282);
//  $RedSkull.SetupWeapons()
var T284=__RUN.getStaticGlo("RedSkull.SetupWeapons").func(null);
var T285=DU.ReadReturn(T284,1);
OObj.SetChild(T234,2,T285);
//  $RedSkull.SetupTechCards()
var T287=new OObj();
var T288="Each player searches their deck for all cards with the setup keyword and puts them into play.";
OObj.SetChild(T287,0,T288);
var T290="";
OObj.SetChild(T287,1,T290);
var T292=[T287];
var T293=__RUN.getStaticGlo("Slide.Setup").func(null,...T292);
var T294=DU.ReadReturn(T293,1);
OObj.SetChild(T234,3,T294);
//  $RedSkull.HealSlide()
var T296=__RUN.getStaticGlo("RedSkull.HealSlide").func(null);
var T297=DU.ReadReturn(T296,1);
OObj.SetChild(T234,4,T297);
//  $IfExpert($SetInitialHP())
var T299=__RUN.getStaticGlo("Slide.SetInitialHP").func(null);
var T300=DU.ReadReturn(T299,1);
var T301=[T300];
var T302=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T301);
var T303=DU.ReadReturn(T302,1);
OObj.SetChild(T234,5,T303);
//  $PlayGame()
var T305=__RUN.getStaticGlo("Slide.PlayGame").func(null);
var T306=DU.ReadReturn(T305,1);
OObj.SetChild(T234,6,T306);
//  $IfExpert($RecordHP())
var T308=__RUN.getStaticGlo("Slide.RecordHP").func(null);
var T309=DU.ReadReturn(T308,1);
var T310=[T309];
var T311=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T310);
var T312=DU.ReadReturn(T311,1);
OObj.SetChild(T234,7,T312);
//  $Slide.Create(lambda(stage => async))
var T314=OObj.MakeFunc(__FUNCS["Red Sk_3"]["91_func126"],{});
var T315=[T314];
var T316=__RUN.getStaticGlo("Slide.Create").func(null,...T315);
var T317=DU.ReadReturn(T316,1);
OObj.SetChild(T234,8,T317);
var T319="bBlack";
var T320="lWhite";
var T321="fOrange";
var T322="Read pages 8-9 from The Rise of Red Skull rule book";
var T323=[T230,T231,T232,T233,T234,T319,T320,T321,T322];
var T324=__RUN.getStaticGlo("Campaign.mixMission").func({__THIS:T229},...T323);
//  mixin $mixMission("R3", 4, "The Island of Dr. Zola", $Img.Zola, dim
var T325=DU.Ref(T11);
var T326="R3";
var T327=4;
var T328="The Island of Dr. Zola";
var T329=DU.Ref(__RUN.getStaticGlo("Img.Zola"));
var T330=new OObj();
//  $CheckList("Setup", dim, null, $Img.Zola)
var T331="Setup";
var T332=new OObj();
//  $EnemyStageCheck("Zola")
var T333="Zola";
var T334=[T333];
var T335=__RUN.getStaticGlo("Slide.EnemyStageCheck").func(null,...T334);
var T336=DU.ReadReturn(T335,1);
OObj.SetChild(T332,0,T336);
//  $CheckList.MakeCheck("**Main Scheme Deck**: The Island of Dr. Zola, The Mad Doctor")
var T338="**Main Scheme Deck**: The Island of Dr. Zola, The Mad Doctor";
var T339=[T338];
var T340=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T339);
var T341=DU.ReadReturn(T340,1);
OObj.SetChild(T332,1,T341);
var T343=null;
var T344=DU.Ref(__RUN.getStaticGlo("Img.Zola"));
var T345=[T331,T332,T343,T344];
var T346=__RUN.getStaticGlo("Slide.CheckList").func(null,...T345);
var T347=DU.ReadReturn(T346,1);
OObj.SetChild(T330,0,T347);
//  $CheckList("Setup", dim, "**Encounter Deck**", $Img.TechnologicalEnhancements)
var T349="Setup";
var T350=new OObj();
//  $CheckList.MakeCheck("Zola set")
var T351="Zola set";
var T352=[T351];
var T353=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T352);
var T354=DU.ReadReturn(T353,1);
OObj.SetChild(T350,0,T354);
//  $CheckList.MakeCheck("Under Attack set")
var T356="Under Attack set";
var T357=[T356];
var T358=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T357);
var T359=DU.ReadReturn(T358,1);
OObj.SetChild(T350,1,T359);
//  $CheckList.MakeCheck("Standard set")
var T361="Standard set";
var T362=[T361];
var T363=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T362);
var T364=DU.ReadReturn(T363,1);
OObj.SetChild(T350,2,T364);
//  $ExpertEncounterSetCheck()
var T366=__RUN.getStaticGlo("Slide.ExpertEncounterSetCheck").func(null);
var T367=DU.ReadReturn(T366,1);
OObj.SetChild(T350,3,T367);
var T369="**Encounter Deck**";
var T370=DU.Ref(__RUN.getStaticGlo("Img.TechnologicalEnhancements"));
var T371=[T349,T350,T369,T370];
var T372=__RUN.getStaticGlo("Slide.CheckList").func(null,...T371);
var T373=DU.ReadReturn(T372,1);
OObj.SetChild(T330,1,T373);
//  $RedSkull.SetupWeapons()
var T375=__RUN.getStaticGlo("RedSkull.SetupWeapons").func(null);
var T376=DU.ReadReturn(T375,1);
OObj.SetChild(T330,2,T376);
//  $RedSkull.SetupTechCards()
var T378=new OObj();
var T379="Each player searches their deck for all cards with the setup keyword and puts them into play.";
OObj.SetChild(T378,0,T379);
var T381="";
OObj.SetChild(T378,1,T381);
var T383=[T378];
var T384=__RUN.getStaticGlo("Slide.Setup").func(null,...T383);
var T385=DU.ReadReturn(T384,1);
OObj.SetChild(T330,3,T385);
//  $RedSkull.HealSlide()
var T387=__RUN.getStaticGlo("RedSkull.HealSlide").func(null);
var T388=DU.ReadReturn(T387,1);
OObj.SetChild(T330,4,T388);
//  $IfExpert($SetInitialHP())
var T390=__RUN.getStaticGlo("Slide.SetInitialHP").func(null);
var T391=DU.ReadReturn(T390,1);
var T392=[T391];
var T393=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T392);
var T394=DU.ReadReturn(T393,1);
OObj.SetChild(T330,5,T394);
//  $PlayGame()
var T396=__RUN.getStaticGlo("Slide.PlayGame").func(null);
var T397=DU.ReadReturn(T396,1);
OObj.SetChild(T330,6,T397);
//  $IfExpert($RecordHP())
var T399=__RUN.getStaticGlo("Slide.RecordHP").func(null);
var T400=DU.ReadReturn(T399,1);
var T401=[T400];
var T402=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T401);
var T403=DU.ReadReturn(T402,1);
OObj.SetChild(T330,7,T403);
//  $Slide.Create(lambda(stage => async))
var T405=OObj.MakeFunc(__FUNCS["Red Sk_3"]["104_func159"],{});
var T406=[T405];
var T407=__RUN.getStaticGlo("Slide.Create").func(null,...T406);
var T408=DU.ReadReturn(T407,1);
OObj.SetChild(T330,8,T408);
//  $Slide.Create(lambda(stage => async))
var T410=OObj.MakeFunc(__FUNCS["Red Sk_3"]["130_func164"],{});
var T411=[T410];
var T412=__RUN.getStaticGlo("Slide.Create").func(null,...T411);
var T413=DU.ReadReturn(T412,1);
OObj.SetChild(T330,9,T413);
//  $If(`$RedSkull.IfPromptForPrisoners(state)`, $Slide.Create(lambda(stage => async)))
var T415=OObj.MakeFunc(__FUNCS["Red Sk_3"]["143_func"],{});
var T416=OObj.MakeFunc(__FUNCS["Red Sk_3"]["156_func171"],{});
var T417=[T416];
var T418=__RUN.getStaticGlo("Slide.Create").func(null,...T417);
var T419=DU.ReadReturn(T418,1);
var T420=[T415,T419];
var T421=__RUN.getStaticGlo("Slide.If").func(null,...T420);
var T422=DU.ReadReturn(T421,1);
OObj.SetChild(T330,10,T422);
//  $If(`$RedSkull.IfUpgradeConditions(state)`, $Slide.Create(lambda(stage => async)))
var T424=OObj.MakeFunc(__FUNCS["Red Sk_3"]["195_func"],{});
var T425=OObj.MakeFunc(__FUNCS["Red Sk_3"]["208_func181"],{});
var T426=[T425];
var T427=__RUN.getStaticGlo("Slide.Create").func(null,...T426);
var T428=DU.ReadReturn(T427,1);
var T429=[T424,T428];
var T430=__RUN.getStaticGlo("Slide.If").func(null,...T429);
var T431=DU.ReadReturn(T430,1);
OObj.SetChild(T330,11,T431);
var T433="bPurple";
var T434="lYellow";
var T435="fYellow";
var T436="Read page 11 from The Rise of Red Skull rule book";
var T437=[T326,T327,T328,T329,T330,T433,T434,T435,T436];
var T438=__RUN.getStaticGlo("Campaign.mixMission").func({__THIS:T325},...T437);
//  mixin $mixMission("R4", 5, "New World Hydra", $Img.RedSkullVillian, dim
var T439=DU.Ref(T11);
var T440="R4";
var T441=5;
var T442="New World Hydra";
var T443=DU.Ref(__RUN.getStaticGlo("Img.RedSkullVillian"));
var T444=new OObj();
//  $CheckList("Setup", dim, null, $Img.RedSkullVillian)
var T445="Setup";
var T446=new OObj();
//  $EnemyStageCheck("Red Skull")
var T447="Red Skull";
var T448=[T447];
var T449=__RUN.getStaticGlo("Slide.EnemyStageCheck").func(null,...T448);
var T450=DU.ReadReturn(T449,1);
OObj.SetChild(T446,0,T450);
//  $CheckList.MakeCheck("**Main Scheme Deck**: The Rise of Red Skull, New World Hydra")
var T452="**Main Scheme Deck**: The Rise of Red Skull, New World Hydra";
var T453=[T452];
var T454=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T453);
var T455=DU.ReadReturn(T454,1);
OObj.SetChild(T446,1,T455);
var T457=null;
var T458=DU.Ref(__RUN.getStaticGlo("Img.RedSkullVillian"));
var T459=[T445,T446,T457,T458];
var T460=__RUN.getStaticGlo("Slide.CheckList").func(null,...T459);
var T461=DU.ReadReturn(T460,1);
OObj.SetChild(T444,0,T461);
//  $CheckList("Setup", dim, "**Encounter Deck**", $Img.TwistedReality)
var T463="Setup";
var T464=new OObj();
//  $CheckList.MakeCheck("Red Skull set")
var T465="Red Skull set";
var T466=[T465];
var T467=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T466);
var T468=DU.ReadReturn(T467,1);
OObj.SetChild(T464,0,T468);
//  $CheckList.MakeCheck("Hydra Assault set")
var T470="Hydra Assault set";
var T471=[T470];
var T472=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T471);
var T473=DU.ReadReturn(T472,1);
OObj.SetChild(T464,1,T473);
//  $CheckList.MakeCheck("Hydra Patrol set")
var T475="Hydra Patrol set";
var T476=[T475];
var T477=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T476);
var T478=DU.ReadReturn(T477,1);
OObj.SetChild(T464,2,T478);
//  $CheckList.MakeCheck("Standard set")
var T480="Standard set";
var T481=[T480];
var T482=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T481);
var T483=DU.ReadReturn(T482,1);
OObj.SetChild(T464,3,T483);
//  $ExpertEncounterSetCheck()
var T485=__RUN.getStaticGlo("Slide.ExpertEncounterSetCheck").func(null);
var T486=DU.ReadReturn(T485,1);
OObj.SetChild(T464,4,T486);
var T488="**Encounter Deck**";
var T489=DU.Ref(__RUN.getStaticGlo("Img.TwistedReality"));
var T490=[T463,T464,T488,T489];
var T491=__RUN.getStaticGlo("Slide.CheckList").func(null,...T490);
var T492=DU.ReadReturn(T491,1);
OObj.SetChild(T444,1,T492);
//  $Setup(textdata)
var T494=new OObj();
var T495="Construct the side-scheme deck (see The Rise of Red Skull 1A).";
OObj.SetChild(T494,0,T495);
var T497="Search the encounter deck for each side scheme and shuffle them together";
OObj.SetChild(T494,1,T497);
var T499="into their own deck. This is the side-scheme deck. Set it next to the";
OObj.SetChild(T494,2,T499);
var T501="main-scheme deck.";
OObj.SetChild(T494,3,T501);
var T503="";
OObj.SetChild(T494,4,T503);
var T505="**Reminder:** the side-scheme deck has it's own discard pile. When a side-scheme is";
OObj.SetChild(T494,5,T505);
var T507="defeated or otherwise discarded, place it in the side-scheme discard pile.";
OObj.SetChild(T494,6,T507);
var T509="if the side-scheme deck is ever empty, shuffle the side-scheme discard pile";
OObj.SetChild(T494,7,T509);
var T511="into the side-scheme deck. There is no penalty for doing this.";
OObj.SetChild(T494,8,T511);
var T513="";
OObj.SetChild(T494,9,T513);
var T515=[T494];
var T516=__RUN.getStaticGlo("Slide.Setup").func(null,...T515);
var T517=DU.ReadReturn(T516,1);
OObj.SetChild(T444,2,T517);
//  $RedSkull.SetupWeapons()
var T519=__RUN.getStaticGlo("RedSkull.SetupWeapons").func(null);
var T520=DU.ReadReturn(T519,1);
OObj.SetChild(T444,3,T520);
//  $RedSkull.SetupTechCards()
var T522=new OObj();
var T523="Each player searches their deck for all cards with the setup keyword and puts them into play.";
OObj.SetChild(T522,0,T523);
var T525="";
OObj.SetChild(T522,1,T525);
var T527=[T522];
var T528=__RUN.getStaticGlo("Slide.Setup").func(null,...T527);
var T529=DU.ReadReturn(T528,1);
OObj.SetChild(T444,4,T529);
//  $Slide.Create(lambda(stage => async))
var T531=OObj.MakeFunc(__FUNCS["Red Sk_3"]["221_func215"],{});
var T532=[T531];
var T533=__RUN.getStaticGlo("Slide.Create").func(null,...T532);
var T534=DU.ReadReturn(T533,1);
OObj.SetChild(T444,5,T534);
//  $RedSkull.HealSlide()
var T536=__RUN.getStaticGlo("RedSkull.HealSlide").func(null);
var T537=DU.ReadReturn(T536,1);
OObj.SetChild(T444,6,T537);
//  $IfExpert($SetInitialHP())
var T539=__RUN.getStaticGlo("Slide.SetInitialHP").func(null);
var T540=DU.ReadReturn(T539,1);
var T541=[T540];
var T542=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T541);
var T543=DU.ReadReturn(T542,1);
OObj.SetChild(T444,7,T543);
//  $If(`$RedSkull.IfEnemyEngaged(state)`, $Slide.Create(lambda(stage => async)))
var T545=OObj.MakeFunc(__FUNCS["Red Sk_3"]["234_func"],{});
var T546=OObj.MakeFunc(__FUNCS["Red Sk_3"]["247_func227"],{});
var T547=[T546];
var T548=__RUN.getStaticGlo("Slide.Create").func(null,...T547);
var T549=DU.ReadReturn(T548,1);
var T550=[T545,T549];
var T551=__RUN.getStaticGlo("Slide.If").func(null,...T550);
var T552=DU.ReadReturn(T551,1);
OObj.SetChild(T444,8,T552);
//  $IfNotExpert($PlayGame()) // can't lose on basic
var T554=__RUN.getStaticGlo("Slide.PlayGame").func(null);
var T555=DU.ReadReturn(T554,1);
var T556=[T555];
var T557=__RUN.getStaticGlo("Slide.IfNotExpert").func(null,...T556);
var T558=DU.ReadReturn(T557,1);
OObj.SetChild(T444,9,T558);
//  $IfExpert($PlayGame(lambda)) // can lose on expert
var T560=OObj.MakeFunc(__FUNCS["Red Sk_3"]["273_func236"],{});
var T561=[T560];
var T562=__RUN.getStaticGlo("Slide.PlayGame").func(null,...T561);
var T563=DU.ReadReturn(T562,1);
var T564=[T563];
var T565=__RUN.getStaticGlo("Slide.IfExpert").func(null,...T564);
var T566=DU.ReadReturn(T565,1);
OObj.SetChild(T444,10,T566);
//  $ConfirmDefeat()
var T568=__RUN.getStaticGlo("Slide.ConfirmDefeat").func(null);
var T569=DU.ReadReturn(T568,1);
OObj.SetChild(T444,11,T569);
//  $PassThrough(lambda(stage))
var T571=OObj.MakeFunc(__FUNCS["Red Sk_3"]["286_func240"],{});
var T572=[T571];
var T573=__RUN.getStaticGlo("Slide.PassThrough").func(null,...T572);
var T574=DU.ReadReturn(T573,1);
OObj.SetChild(T444,12,T574);
var T576="bBlack";
var T577="lRed";
var T578="fRed";
var T579="Read page 13-14 from The Rise of Red Skull rule book";
var T580=[T440,T441,T442,T443,T444,T576,T577,T578,T579];
var T581=__RUN.getStaticGlo("Campaign.mixMission").func({__THIS:T439},...T580);
//  mixin $mixWrapUpDefeat(dim)
var T582=DU.Ref(T11);
var T583=new OObj();
//  $Checkpoint("R5", "Red Skull conquers the world")
var T584=new OObj();
var T585="R5";
OObj.SetChild(T584,"checkpoint",T585);
var T587=new OObj();
var T588="Red Skull conquers the world";
OObj.SetChild(T587,"progress",T588);
OObj.SetChild(T584,"delta",T587);
OObj.SetChild(T583,0,T584);
//  $Slide.Popup("DEFEAT","The heroes were defeated. Red Skull conquers the world.")
var T592="DEFEAT";
var T593="The heroes were defeated. Red Skull conquers the world.";
var T594=[T592,T593];
var T595=__RUN.getStaticGlo("Slide.Popup").func(null,...T594);
var T596=DU.ReadReturn(T595,1);
OObj.SetChild(T583,1,T596);
var T598=[T583];
var T599=__RUN.getStaticGlo("Campaign.mixWrapUpDefeat").func({__THIS:T582},...T598);
//  mixin $mixWrapUpVictory(dim)
var T600=DU.Ref(T11);
var T601=new OObj();
//  $PassThrough(lambda(stage))
var T602=OObj.MakeFunc(__FUNCS["Red Sk_3"]["299_func248"],{});
var T603=[T602];
var T604=__RUN.getStaticGlo("Slide.PassThrough").func(null,...T603);
var T605=DU.ReadReturn(T604,1);
OObj.SetChild(T601,0,T605);
//  $Checkpoint("R6", "Hydra was defeated!")
var T607=new OObj();
var T608="R6";
OObj.SetChild(T607,"checkpoint",T608);
var T610=new OObj();
var T611="Hydra was defeated!";
OObj.SetChild(T610,"progress",T611);
OObj.SetChild(T607,"delta",T610);
OObj.SetChild(T601,1,T607);
//  $Slide.Popup("VICTORY!", "Read page 16 from The Rise of Red Skull rule book")
var T615="VICTORY!";
var T616="Read page 16 from The Rise of Red Skull rule book";
var T617=[T615,T616];
var T618=__RUN.getStaticGlo("Slide.Popup").func(null,...T617);
var T619=DU.ReadReturn(T618,1);
OObj.SetChild(T601,2,T619);
//  $Slide.Victory("Hydra is defeated and the players win the campaign!")
var T621="Hydra is defeated and the players win the campaign!";
var T622=[T621];
var T623=__RUN.getStaticGlo("Slide.Victory").func(null,...T622);
var T624=DU.ReadReturn(T623,1);
OObj.SetChild(T601,3,T624);
var T626=[T601];
var T627=__RUN.getStaticGlo("Campaign.mixWrapUpVictory").func({__THIS:T600},...T626);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="base";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.GetElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
__RUN.setStaticGlo("g.Body",T3);
var T5="camp_header";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.GetElement").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
__RUN.setStaticGlo("g.CampaignHeader",T8);
var T10="stage";
var T11=[T10];
var T12=__RUN.getStaticGlo("Dom.GetElement").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
__RUN.setStaticGlo("g.Stage",T13);
var T15="heroes_footer";
var T16=[T15];
var T17=__RUN.getStaticGlo("Dom.GetElement").func(null,...T16);
var T18=DU.ReadReturn(T17,1);
__RUN.setStaticGlo("g.HeroFooter",T18);
var T20="heroes_footer_inner";
var T21=[T20];
var T22=__RUN.getStaticGlo("Dom.GetElement").func(null,...T21);
var T23=DU.ReadReturn(T22,1);
__RUN.setStaticGlo("g.HeroFooterInner",T23);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0="Heroes_6";
var T1=DU.Ref(__RUN.getScratchFile(T0,"AllHer_17"));
var T2=new OObj();
var T3="assets/heroes/";
var T4="adam_warlock";
var T5=gVal(T3)+gVal(T4);
var T6=".png";
var T7=gVal(T5)+gVal(T6);
OObj.SetChild(T2,"path",T7);
var T9="Card: ";
var T10="Adam Warlock";
var T11=gVal(T9)+gVal(T10);
OObj.SetChild(T2,"alt",T11);
var T13="Adam Warlock";
OObj.SetChild(T2,"name",T13);
var T15=11;
OObj.SetChild(T2,"hp",T15);
var T17=[T2];
var T18=__RUN.getStaticGlo("List.Add").func({__THIS:T1},...T17);
var T19=DU.ReadReturn(T18,1);
var T20=DU.Ref(T19);
var T21="111A28";
var T22="9F1A40";
var T23="FEBA12";
var T24=[T21,T22,T23];
var T25=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T20},...T24);
var T27="Heroes_6";
var T28=DU.Ref(__RUN.getScratchFile(T27,"AllHer_17"));
var T29=new OObj();
var T30="assets/heroes/";
var T31="ant-man";
var T32=gVal(T30)+gVal(T31);
var T33=".png";
var T34=gVal(T32)+gVal(T33);
OObj.SetChild(T29,"path",T34);
var T36="Card: ";
var T37="Ant Man";
var T38=gVal(T36)+gVal(T37);
OObj.SetChild(T29,"alt",T38);
var T40="Ant Man";
OObj.SetChild(T29,"name",T40);
var T42=12;
OObj.SetChild(T29,"hp",T42);
var T44=[T29];
var T45=__RUN.getStaticGlo("List.Add").func({__THIS:T28},...T44);
var T46=DU.ReadReturn(T45,1);
var T47=DU.Ref(T46);
var T48="949599";
var T49="B32426";
var T50="211E25";
var T51=[T48,T49,T50];
var T52=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T47},...T51);
//  mixin $mixBadgeDown()
var T53=DU.Ref(T46);
var T54=__RUN.getStaticFile("Heroes_6","mixBadgeDown").func({__THIS:T53});
var T56="Heroes_6";
var T57=DU.Ref(__RUN.getScratchFile(T56,"AllHer_17"));
var T58=new OObj();
var T59="assets/heroes/";
var T60="black_panther";
var T61=gVal(T59)+gVal(T60);
var T62=".png";
var T63=gVal(T61)+gVal(T62);
OObj.SetChild(T58,"path",T63);
var T65="Card: ";
var T66="Black Panther";
var T67=gVal(T65)+gVal(T66);
OObj.SetChild(T58,"alt",T67);
var T69="Black Panther";
OObj.SetChild(T58,"name",T69);
var T71=11;
OObj.SetChild(T58,"hp",T71);
var T73=[T58];
var T74=__RUN.getStaticGlo("List.Add").func({__THIS:T57},...T73);
var T75=DU.ReadReturn(T74,1);
var T76=DU.Ref(T75);
var T77="492A63";
var T78="";
var T79="F0E436";
var T80=[T77,T78,T79];
var T81=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T76},...T80);
//  mixin $mixBannerLower()
var T82=DU.Ref(T75);
var T83=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T82});
var T85="Heroes_6";
var T86=DU.Ref(__RUN.getScratchFile(T85,"AllHer_17"));
var T87=new OObj();
var T88="assets/heroes/";
var T89="black_widow";
var T90=gVal(T88)+gVal(T89);
var T91=".png";
var T92=gVal(T90)+gVal(T91);
OObj.SetChild(T87,"path",T92);
var T94="Card: ";
var T95="Black Widow";
var T96=gVal(T94)+gVal(T95);
OObj.SetChild(T87,"alt",T96);
var T98="Black Widow";
OObj.SetChild(T87,"name",T98);
var T100=9;
OObj.SetChild(T87,"hp",T100);
var T102=[T87];
var T103=__RUN.getStaticGlo("List.Add").func({__THIS:T86},...T102);
var T104=DU.ReadReturn(T103,1);
var T105=DU.Ref(T104);
var T106="3D1213";
var T107="";
var T108="B12424";
var T109=[T106,T107,T108];
var T110=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T105},...T109);
//  mixin $mixBannerLower()
var T111=DU.Ref(T104);
var T112=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T111});
var T114="Heroes_6";
var T115=DU.Ref(__RUN.getScratchFile(T114,"AllHer_17"));
var T116=new OObj();
var T117="assets/heroes/";
var T118="captain_america";
var T119=gVal(T117)+gVal(T118);
var T120=".png";
var T121=gVal(T119)+gVal(T120);
OObj.SetChild(T116,"path",T121);
var T123="Card: ";
var T124="Captain America";
var T125=gVal(T123)+gVal(T124);
OObj.SetChild(T116,"alt",T125);
var T127="Captain America";
OObj.SetChild(T116,"name",T127);
var T129=11;
OObj.SetChild(T116,"hp",T129);
var T131=[T116];
var T132=__RUN.getStaticGlo("List.Add").func({__THIS:T115},...T131);
var T133=DU.ReadReturn(T132,1);
var T134=DU.Ref(T133);
var T135="285380";
var T136="9E2E2C";
var T137="FFF";
var T138=[T135,T136,T137];
var T139=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T134},...T138);
//  mixin $mixBadgeRight()
var T140=DU.Ref(T133);
var T141=__RUN.getStaticFile("Heroes_6","mixBadgeRight").func({__THIS:T140});
var T143="Heroes_6";
var T144=DU.Ref(__RUN.getScratchFile(T143,"AllHer_17"));
var T145=new OObj();
var T146="assets/heroes/";
var T147="captain_marvel";
var T148=gVal(T146)+gVal(T147);
var T149=".png";
var T150=gVal(T148)+gVal(T149);
OObj.SetChild(T145,"path",T150);
var T152="Card: ";
var T153="Captain Marvel";
var T154=gVal(T152)+gVal(T153);
OObj.SetChild(T145,"alt",T154);
var T156="Captain Marvel";
OObj.SetChild(T145,"name",T156);
var T158=12;
OObj.SetChild(T145,"hp",T158);
var T160=[T145];
var T161=__RUN.getStaticGlo("List.Add").func({__THIS:T144},...T160);
var T162=DU.ReadReturn(T161,1);
var T163=DU.Ref(T162);
var T164="2A367E";
var T165="8E2A28";
var T166="F0E91F";
var T167=[T164,T165,T166];
var T168=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T163},...T167);
var T170="Heroes_6";
var T171=DU.Ref(__RUN.getScratchFile(T170,"AllHer_17"));
var T172=new OObj();
var T173="assets/heroes/";
var T174="doctor_strange";
var T175=gVal(T173)+gVal(T174);
var T176=".png";
var T177=gVal(T175)+gVal(T176);
OObj.SetChild(T172,"path",T177);
var T179="Card: ";
var T180="Doctor Strange";
var T181=gVal(T179)+gVal(T180);
OObj.SetChild(T172,"alt",T181);
var T183="Doctor Strange";
OObj.SetChild(T172,"name",T183);
var T185=10;
OObj.SetChild(T172,"hp",T185);
var T187=[T172];
var T188=__RUN.getStaticGlo("List.Add").func({__THIS:T171},...T187);
var T189=DU.ReadReturn(T188,1);
var T190=DU.Ref(T189);
var T191="797C81";
var T192="841619";
var T193="D6A621";
var T194=[T191,T192,T193];
var T195=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T190},...T194);
var T197="Heroes_6";
var T198=DU.Ref(__RUN.getScratchFile(T197,"AllHer_17"));
var T199=new OObj();
var T200="assets/heroes/";
var T201="drax";
var T202=gVal(T200)+gVal(T201);
var T203=".png";
var T204=gVal(T202)+gVal(T203);
OObj.SetChild(T199,"path",T204);
var T206="Card: ";
var T207="Drax";
var T208=gVal(T206)+gVal(T207);
OObj.SetChild(T199,"alt",T208);
var T210="Drax";
OObj.SetChild(T199,"name",T210);
var T212=14;
OObj.SetChild(T199,"hp",T212);
var T214=[T199];
var T215=__RUN.getStaticGlo("List.Add").func({__THIS:T198},...T214);
var T216=DU.ReadReturn(T215,1);
var T217=DU.Ref(T216);
var T218="40482A";
var T219="6F8443";
var T220="EC1F24";
var T221=[T218,T219,T220];
var T222=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T217},...T221);
var T224="Heroes_6";
var T225=DU.Ref(__RUN.getScratchFile(T224,"AllHer_17"));
var T226=new OObj();
var T227="assets/heroes/";
var T228="gamora";
var T229=gVal(T227)+gVal(T228);
var T230=".png";
var T231=gVal(T229)+gVal(T230);
OObj.SetChild(T226,"path",T231);
var T233="Card: ";
var T234="Gamora";
var T235=gVal(T233)+gVal(T234);
OObj.SetChild(T226,"alt",T235);
var T237="Gamora";
OObj.SetChild(T226,"name",T237);
var T239=10;
OObj.SetChild(T226,"hp",T239);
var T241=[T226];
var T242=__RUN.getStaticGlo("List.Add").func({__THIS:T225},...T241);
var T243=DU.ReadReturn(T242,1);
var T244=DU.Ref(T243);
var T245="D6D6D7";
var T246="0F542A";
var T247="040707";
var T248=[T245,T246,T247];
var T249=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T244},...T248);
var T251="Heroes_6";
var T252=DU.Ref(__RUN.getScratchFile(T251,"AllHer_17"));
var T253=new OObj();
var T254="assets/heroes/";
var T255="ghost-spider";
var T256=gVal(T254)+gVal(T255);
var T257=".png";
var T258=gVal(T256)+gVal(T257);
OObj.SetChild(T253,"path",T258);
var T260="Card: ";
var T261="Ghost-Spider";
var T262=gVal(T260)+gVal(T261);
OObj.SetChild(T253,"alt",T262);
var T264="Ghost-Spider";
OObj.SetChild(T253,"name",T264);
var T266=10;
OObj.SetChild(T253,"hp",T266);
var T268=[T253];
var T269=__RUN.getStaticGlo("List.Add").func({__THIS:T252},...T268);
var T270=DU.ReadReturn(T269,1);
var T271=DU.Ref(T270);
var T272="F2F2F3";
var T273="2D1721";
var T274="D61586";
var T275=[T272,T273,T274];
var T276=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T271},...T275);
//  mixin $mixBadgeRight()
var T277=DU.Ref(T270);
var T278=__RUN.getStaticFile("Heroes_6","mixBadgeRight").func({__THIS:T277});
var T280="Heroes_6";
var T281=DU.Ref(__RUN.getScratchFile(T280,"AllHer_17"));
var T282=new OObj();
var T283="assets/heroes/";
var T284="groot";
var T285=gVal(T283)+gVal(T284);
var T286=".png";
var T287=gVal(T285)+gVal(T286);
OObj.SetChild(T282,"path",T287);
var T289="Card: ";
var T290="Groot";
var T291=gVal(T289)+gVal(T290);
OObj.SetChild(T282,"alt",T291);
var T293="Groot";
OObj.SetChild(T282,"name",T293);
var T295=10;
OObj.SetChild(T282,"hp",T295);
var T297=[T282];
var T298=__RUN.getStaticGlo("List.Add").func({__THIS:T281},...T297);
var T299=DU.ReadReturn(T298,1);
var T300=DU.Ref(T299);
var T301="6F4A1D";
var T302="432815";
var T303="432815";
var T304=[T301,T302,T303];
var T305=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T300},...T304);
var T307="Heroes_6";
var T308=DU.Ref(__RUN.getScratchFile(T307,"AllHer_17"));
var T309=new OObj();
var T310="assets/heroes/";
var T311="hawkeye";
var T312=gVal(T310)+gVal(T311);
var T313=".png";
var T314=gVal(T312)+gVal(T313);
OObj.SetChild(T309,"path",T314);
var T316="Card: ";
var T317="Hawkeye";
var T318=gVal(T316)+gVal(T317);
OObj.SetChild(T309,"alt",T318);
var T320="Hawkeye";
OObj.SetChild(T309,"name",T320);
var T322=9;
OObj.SetChild(T309,"hp",T322);
var T324=[T309];
var T325=__RUN.getStaticGlo("List.Add").func({__THIS:T308},...T324);
var T326=DU.ReadReturn(T325,1);
var T327=DU.Ref(T326);
var T328="1B3282";
var T329="000";
var T330="93278E";
var T331=[T328,T329,T330];
var T332=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T327},...T331);
//  mixin $mixBannerLower()
var T333=DU.Ref(T326);
var T334=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T333});
var T336="Heroes_6";
var T337=DU.Ref(__RUN.getScratchFile(T336,"AllHer_17"));
var T338=new OObj();
var T339="assets/heroes/";
var T340="hulk";
var T341=gVal(T339)+gVal(T340);
var T342=".png";
var T343=gVal(T341)+gVal(T342);
OObj.SetChild(T338,"path",T343);
var T345="Card: ";
var T346="Hulk";
var T347=gVal(T345)+gVal(T346);
OObj.SetChild(T338,"alt",T347);
var T349="Hulk";
OObj.SetChild(T338,"name",T349);
var T351=18;
OObj.SetChild(T338,"hp",T351);
var T353=[T338];
var T354=__RUN.getStaticGlo("List.Add").func({__THIS:T337},...T353);
var T355=DU.ReadReturn(T354,1);
var T356=DU.Ref(T355);
var T357="039856";
var T358="";
var T359="783D93";
var T360=[T357,T358,T359];
var T361=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T356},...T360);
var T363="Heroes_6";
var T364=DU.Ref(__RUN.getScratchFile(T363,"AllHer_17"));
var T365=new OObj();
var T366="assets/heroes/";
var T367="iron_man";
var T368=gVal(T366)+gVal(T367);
var T369=".png";
var T370=gVal(T368)+gVal(T369);
OObj.SetChild(T365,"path",T370);
var T372="Card: ";
var T373="Iron Man";
var T374=gVal(T372)+gVal(T373);
OObj.SetChild(T365,"alt",T374);
var T376="Iron Man";
OObj.SetChild(T365,"name",T376);
var T378=9;
OObj.SetChild(T365,"hp",T378);
var T380=[T365];
var T381=__RUN.getStaticGlo("List.Add").func({__THIS:T364},...T380);
var T382=DU.ReadReturn(T381,1);
var T383=DU.Ref(T382);
var T384="912727";
var T385="";
var T386="F2EB21";
var T387=[T384,T385,T386];
var T388=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T383},...T387);
var T390="Heroes_6";
var T391=DU.Ref(__RUN.getScratchFile(T390,"AllHer_17"));
var T392=new OObj();
var T393="assets/heroes/";
var T394="ironheart";
var T395=gVal(T393)+gVal(T394);
var T396=".png";
var T397=gVal(T395)+gVal(T396);
OObj.SetChild(T392,"path",T397);
var T399="Card: ";
var T400="Ironheart";
var T401=gVal(T399)+gVal(T400);
OObj.SetChild(T392,"alt",T401);
var T403="Ironheart";
OObj.SetChild(T392,"name",T403);
var T405=10;
OObj.SetChild(T392,"hp",T405);
var T407=[T392];
var T408=__RUN.getStaticGlo("List.Add").func({__THIS:T391},...T407);
var T409=DU.ReadReturn(T408,1);
var T410=DU.Ref(T409);
var T411="A42861";
var T412="1D2C3C";
var T413="DBA627";
var T414=[T411,T412,T413];
var T415=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T410},...T414);
var T417="Heroes_6";
var T418=DU.Ref(__RUN.getScratchFile(T417,"AllHer_17"));
var T419=new OObj();
var T420="assets/heroes/";
var T421="ms_marvel";
var T422=gVal(T420)+gVal(T421);
var T423=".png";
var T424=gVal(T422)+gVal(T423);
OObj.SetChild(T419,"path",T424);
var T426="Card: ";
var T427="Ms. Marvel";
var T428=gVal(T426)+gVal(T427);
OObj.SetChild(T419,"alt",T428);
var T430="Ms. Marvel";
OObj.SetChild(T419,"name",T430);
var T432=10;
OObj.SetChild(T419,"hp",T432);
var T434=[T419];
var T435=__RUN.getStaticGlo("List.Add").func({__THIS:T418},...T434);
var T436=DU.ReadReturn(T435,1);
var T437=DU.Ref(T436);
var T438="C82F34";
var T439="3684B2";
var T440="F7E008";
var T441=[T438,T439,T440];
var T442=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T437},...T441);
var T444="Heroes_6";
var T445=DU.Ref(__RUN.getScratchFile(T444,"AllHer_17"));
var T446=new OObj();
var T447="assets/heroes/";
var T448="nebula";
var T449=gVal(T447)+gVal(T448);
var T450=".png";
var T451=gVal(T449)+gVal(T450);
OObj.SetChild(T446,"path",T451);
var T453="Card: ";
var T454="Nebula";
var T455=gVal(T453)+gVal(T454);
OObj.SetChild(T446,"alt",T455);
var T457="Nebula";
OObj.SetChild(T446,"name",T457);
var T459=9;
OObj.SetChild(T446,"hp",T459);
var T461=[T446];
var T462=__RUN.getStaticGlo("List.Add").func({__THIS:T445},...T461);
var T463=DU.ReadReturn(T462,1);
var T464=DU.Ref(T463);
var T465="A2238E";
var T466="31225D";
var T467="84C1EA";
var T468=[T465,T466,T467];
var T469=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T464},...T468);
//  mixin $mixBannerLower()
var T470=DU.Ref(T463);
var T471=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T470});
var T473="Heroes_6";
var T474=DU.Ref(__RUN.getScratchFile(T473,"AllHer_17"));
var T475=new OObj();
var T476="assets/heroes/";
var T477="nova";
var T478=gVal(T476)+gVal(T477);
var T479=".png";
var T480=gVal(T478)+gVal(T479);
OObj.SetChild(T475,"path",T480);
var T482="Card: ";
var T483="Nova";
var T484=gVal(T482)+gVal(T483);
OObj.SetChild(T475,"alt",T484);
var T486="Nova";
OObj.SetChild(T475,"name",T486);
var T488=10;
OObj.SetChild(T475,"hp",T488);
var T490=[T475];
var T491=__RUN.getStaticGlo("List.Add").func({__THIS:T474},...T490);
var T492=DU.ReadReturn(T491,1);
var T493=DU.Ref(T492);
var T494="D2AD2A";
var T495="122932";
var T496="A72024";
var T497=[T494,T495,T496];
var T498=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T493},...T497);
//  mixin $mixBannerLower()
var T499=DU.Ref(T492);
var T500=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T499});
var T502="Heroes_6";
var T503=DU.Ref(__RUN.getScratchFile(T502,"AllHer_17"));
var T504=new OObj();
var T505="assets/heroes/";
var T506="quicksilver";
var T507=gVal(T505)+gVal(T506);
var T508=".png";
var T509=gVal(T507)+gVal(T508);
OObj.SetChild(T504,"path",T509);
var T511="Card: ";
var T512="Quicksilver";
var T513=gVal(T511)+gVal(T512);
OObj.SetChild(T504,"alt",T513);
var T515="Quicksilver";
OObj.SetChild(T504,"name",T515);
var T517=9;
OObj.SetChild(T504,"hp",T517);
var T519=[T504];
var T520=__RUN.getStaticGlo("List.Add").func({__THIS:T503},...T519);
var T521=DU.ReadReturn(T520,1);
var T522=DU.Ref(T521);
var T523="50C2DD";
var T524="135180";
var T525="FFF";
var T526=[T523,T524,T525];
var T527=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T522},...T526);
//  mixin $mixBadgeDown()
var T528=DU.Ref(T521);
var T529=__RUN.getStaticFile("Heroes_6","mixBadgeDown").func({__THIS:T528});
var T531="Heroes_6";
var T532=DU.Ref(__RUN.getScratchFile(T531,"AllHer_17"));
var T533=new OObj();
var T534="assets/heroes/";
var T535="rocket_raccoon";
var T536=gVal(T534)+gVal(T535);
var T537=".png";
var T538=gVal(T536)+gVal(T537);
OObj.SetChild(T533,"path",T538);
var T540="Card: ";
var T541="Rocket Raccoon";
var T542=gVal(T540)+gVal(T541);
OObj.SetChild(T533,"alt",T542);
var T544="Rocket Raccoon";
OObj.SetChild(T533,"name",T544);
var T546=9;
OObj.SetChild(T533,"hp",T546);
var T548=[T533];
var T549=__RUN.getStaticGlo("List.Add").func({__THIS:T532},...T548);
var T550=DU.ReadReturn(T549,1);
var T551=DU.Ref(T550);
var T552="302B27";
var T553="716654";
var T554="DF6626";
var T555=[T552,T553,T554];
var T556=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T551},...T555);
//  mixin $mixBadgeRight()
var T557=DU.Ref(T550);
var T558=__RUN.getStaticFile("Heroes_6","mixBadgeRight").func({__THIS:T557});
var T560="Heroes_6";
var T561=DU.Ref(__RUN.getScratchFile(T560,"AllHer_17"));
var T562=new OObj();
var T563="assets/heroes/";
var T564="scarlet_witch";
var T565=gVal(T563)+gVal(T564);
var T566=".png";
var T567=gVal(T565)+gVal(T566);
OObj.SetChild(T562,"path",T567);
var T569="Card: ";
var T570="Scarlet Witch";
var T571=gVal(T569)+gVal(T570);
OObj.SetChild(T562,"alt",T571);
var T573="Scarlet Witch";
OObj.SetChild(T562,"name",T573);
var T575=10;
OObj.SetChild(T562,"hp",T575);
var T577=[T562];
var T578=__RUN.getStaticGlo("List.Add").func({__THIS:T561},...T577);
var T579=DU.ReadReturn(T578,1);
var T580=DU.Ref(T579);
var T581="C61D21";
var T582="6E1517";
var T583="EC0778";
var T584=[T581,T582,T583];
var T585=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T580},...T584);
var T587="Heroes_6";
var T588=DU.Ref(__RUN.getScratchFile(T587,"AllHer_17"));
var T589=new OObj();
var T590="assets/heroes/";
var T591="she_hulk";
var T592=gVal(T590)+gVal(T591);
var T593=".png";
var T594=gVal(T592)+gVal(T593);
OObj.SetChild(T589,"path",T594);
var T596="Card: ";
var T597="She Hulk";
var T598=gVal(T596)+gVal(T597);
OObj.SetChild(T589,"alt",T598);
var T600="She Hulk";
OObj.SetChild(T589,"name",T600);
var T602=15;
OObj.SetChild(T589,"hp",T602);
var T604=[T589];
var T605=__RUN.getStaticGlo("List.Add").func({__THIS:T588},...T604);
var T606=DU.ReadReturn(T605,1);
var T607=DU.Ref(T606);
var T608="572C7B";
var T609="178D43";
var T610="FFF";
var T611=[T608,T609,T610];
var T612=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T607},...T611);
var T614="Heroes_6";
var T615=DU.Ref(__RUN.getScratchFile(T614,"AllHer_17"));
var T616=new OObj();
var T617="assets/heroes/";
var T618="sp-dr";
var T619=gVal(T617)+gVal(T618);
var T620=".png";
var T621=gVal(T619)+gVal(T620);
OObj.SetChild(T616,"path",T621);
var T623="Card: ";
var T624="SP//dr";
var T625=gVal(T623)+gVal(T624);
OObj.SetChild(T616,"alt",T625);
var T627="SP//dr";
OObj.SetChild(T616,"name",T627);
var T629=14;
OObj.SetChild(T616,"hp",T629);
var T631=[T616];
var T632=__RUN.getStaticGlo("List.Add").func({__THIS:T615},...T631);
var T633=DU.ReadReturn(T632,1);
var T634=DU.Ref(T633);
var T635="7A7D7F";
var T636="9F1C2E";
var T637="FDB912";
var T638=[T635,T636,T637];
var T639=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T634},...T638);
//  mixin $mixBannerLower()
var T640=DU.Ref(T633);
var T641=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T640});
var T643="Heroes_6";
var T644=DU.Ref(__RUN.getScratchFile(T643,"AllHer_17"));
var T645=new OObj();
var T646="assets/heroes/";
var T647="spectrum";
var T648=gVal(T646)+gVal(T647);
var T649=".png";
var T650=gVal(T648)+gVal(T649);
OObj.SetChild(T645,"path",T650);
var T652="Card: ";
var T653="Spectrum";
var T654=gVal(T652)+gVal(T653);
OObj.SetChild(T645,"alt",T654);
var T656="Spectrum";
OObj.SetChild(T645,"name",T656);
var T658=11;
OObj.SetChild(T645,"hp",T658);
var T660=[T645];
var T661=__RUN.getStaticGlo("List.Add").func({__THIS:T644},...T660);
var T662=DU.ReadReturn(T661,1);
var T663=DU.Ref(T662);
var T664="31302E";
var T665="FFF";
var T666="D5BB17";
var T667=[T664,T665,T666];
var T668=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T663},...T667);
var T670="Heroes_6";
var T671=DU.Ref(__RUN.getScratchFile(T670,"AllHer_17"));
var T672=new OObj();
var T673="assets/heroes/";
var T674="spider-ham";
var T675=gVal(T673)+gVal(T674);
var T676=".png";
var T677=gVal(T675)+gVal(T676);
OObj.SetChild(T672,"path",T677);
var T679="Card: ";
var T680="Spider-Ham";
var T681=gVal(T679)+gVal(T680);
OObj.SetChild(T672,"alt",T681);
var T683="Spider-Ham";
OObj.SetChild(T672,"name",T683);
var T685=12;
OObj.SetChild(T672,"hp",T685);
var T687=[T672];
var T688=__RUN.getStaticGlo("List.Add").func({__THIS:T671},...T687);
var T689=DU.ReadReturn(T688,1);
var T690=DU.Ref(T689);
var T691="02518A";
var T692="C92127";
var T693="040707";
var T694=[T691,T692,T693];
var T695=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T690},...T694);
//  mixin $mixBannerLower()
var T696=DU.Ref(T689);
var T697=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T696});
var T699="Heroes_6";
var T700=DU.Ref(__RUN.getScratchFile(T699,"AllHer_17"));
var T701=new OObj();
var T702="assets/heroes/";
var T703="spider-man";
var T704=gVal(T702)+gVal(T703);
var T705=".png";
var T706=gVal(T704)+gVal(T705);
OObj.SetChild(T701,"path",T706);
var T708="Card: ";
var T709="Spider-Man (Peter Parker)";
var T710=gVal(T708)+gVal(T709);
OObj.SetChild(T701,"alt",T710);
var T712="Spider-Man (Peter Parker)";
OObj.SetChild(T701,"name",T712);
var T714=10;
OObj.SetChild(T701,"hp",T714);
var T716=[T701];
var T717=__RUN.getStaticGlo("List.Add").func({__THIS:T700},...T716);
var T718=DU.ReadReturn(T717,1);
var T719=DU.Ref(T718);
var T720="942C29";
var T721="29387B";
var T722="2E2C1D";
var T723=[T720,T721,T722];
var T724=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T719},...T723);
var T726="Heroes_6";
var T727=DU.Ref(__RUN.getScratchFile(T726,"AllHer_17"));
var T728=new OObj();
var T729="assets/heroes/";
var T730="spider-man_miles";
var T731=gVal(T729)+gVal(T730);
var T732=".png";
var T733=gVal(T731)+gVal(T732);
OObj.SetChild(T728,"path",T733);
var T735="Card: ";
var T736="Spider-Man (Miles Morales)";
var T737=gVal(T735)+gVal(T736);
OObj.SetChild(T728,"alt",T737);
var T739="Spider-Man (Miles Morales)";
OObj.SetChild(T728,"name",T739);
var T741=9;
OObj.SetChild(T728,"hp",T741);
var T743=[T728];
var T744=__RUN.getStaticGlo("List.Add").func({__THIS:T727},...T743);
var T745=DU.ReadReturn(T744,1);
var T746=DU.Ref(T745);
var T747="981723";
var T748="313032";
var T749="E2DDDA";
var T750=[T747,T748,T749];
var T751=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T746},...T750);
var T753="Heroes_6";
var T754=DU.Ref(__RUN.getScratchFile(T753,"AllHer_17"));
var T755=new OObj();
var T756="assets/heroes/";
var T757="spider-woman";
var T758=gVal(T756)+gVal(T757);
var T759=".png";
var T760=gVal(T758)+gVal(T759);
OObj.SetChild(T755,"path",T760);
var T762="Card: ";
var T763="Spider-Woman";
var T764=gVal(T762)+gVal(T763);
OObj.SetChild(T755,"alt",T764);
var T766="Spider-Woman";
OObj.SetChild(T755,"name",T766);
var T768=11;
OObj.SetChild(T755,"hp",T768);
var T770=[T755];
var T771=__RUN.getStaticGlo("List.Add").func({__THIS:T754},...T770);
var T772=DU.ReadReturn(T771,1);
var T773=DU.Ref(T772);
var T774="EC1B2F";
var T775="FFDD19";
var T776="000";
var T777=[T774,T775,T776];
var T778=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T773},...T777);
var T780="Heroes_6";
var T781=DU.Ref(__RUN.getScratchFile(T780,"AllHer_17"));
var T782=new OObj();
var T783="assets/heroes/";
var T784="star-lord";
var T785=gVal(T783)+gVal(T784);
var T786=".png";
var T787=gVal(T785)+gVal(T786);
OObj.SetChild(T782,"path",T787);
var T789="Card: ";
var T790="Star-Lord";
var T791=gVal(T789)+gVal(T790);
OObj.SetChild(T782,"alt",T791);
var T793="Star-Lord";
OObj.SetChild(T782,"name",T793);
var T795=10;
OObj.SetChild(T782,"hp",T795);
var T797=[T782];
var T798=__RUN.getStaticGlo("List.Add").func({__THIS:T781},...T797);
var T799=DU.ReadReturn(T798,1);
var T800=DU.Ref(T799);
var T801="792817";
var T802="6A707C";
var T803="C1C1C1";
var T804=[T801,T802,T803];
var T805=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T800},...T804);
//  mixin $mixBadgeRight()
var T806=DU.Ref(T799);
var T807=__RUN.getStaticFile("Heroes_6","mixBadgeRight").func({__THIS:T806});
var T809="Heroes_6";
var T810=DU.Ref(__RUN.getScratchFile(T809,"AllHer_17"));
var T811=new OObj();
var T812="assets/heroes/";
var T813="thor";
var T814=gVal(T812)+gVal(T813);
var T815=".png";
var T816=gVal(T814)+gVal(T815);
OObj.SetChild(T811,"path",T816);
var T818="Card: ";
var T819="Thor";
var T820=gVal(T818)+gVal(T819);
OObj.SetChild(T811,"alt",T820);
var T822="Thor";
OObj.SetChild(T811,"name",T822);
var T824=14;
OObj.SetChild(T811,"hp",T824);
var T826=[T811];
var T827=__RUN.getStaticGlo("List.Add").func({__THIS:T810},...T826);
var T828=DU.ReadReturn(T827,1);
var T829=DU.Ref(T828);
var T830="3A3D4E";
var T831="822921";
var T832="B9BCA1";
var T833=[T830,T831,T832];
var T834=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T829},...T833);
var T836="Heroes_6";
var T837=DU.Ref(__RUN.getScratchFile(T836,"AllHer_17"));
var T838=new OObj();
var T839="assets/heroes/";
var T840="valkyrie";
var T841=gVal(T839)+gVal(T840);
var T842=".png";
var T843=gVal(T841)+gVal(T842);
OObj.SetChild(T838,"path",T843);
var T845="Card: ";
var T846="Valkyrie";
var T847=gVal(T845)+gVal(T846);
OObj.SetChild(T838,"alt",T847);
var T849="Valkyrie";
OObj.SetChild(T838,"name",T849);
var T851=12;
OObj.SetChild(T838,"hp",T851);
var T853=[T838];
var T854=__RUN.getStaticGlo("List.Add").func({__THIS:T837},...T853);
var T855=DU.ReadReturn(T854,1);
var T856=DU.Ref(T855);
var T857="CCC2C0";
var T858="124680";
var T859="4A2421";
var T860=[T857,T858,T859];
var T861=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T856},...T860);
var T863="Heroes_6";
var T864=DU.Ref(__RUN.getScratchFile(T863,"AllHer_17"));
var T865=new OObj();
var T866="assets/heroes/";
var T867="venom";
var T868=gVal(T866)+gVal(T867);
var T869=".png";
var T870=gVal(T868)+gVal(T869);
OObj.SetChild(T865,"path",T870);
var T872="Card: ";
var T873="Venom";
var T874=gVal(T872)+gVal(T873);
OObj.SetChild(T865,"alt",T874);
var T876="Venom";
OObj.SetChild(T865,"name",T876);
var T878=12;
OObj.SetChild(T865,"hp",T878);
var T880=[T865];
var T881=__RUN.getStaticGlo("List.Add").func({__THIS:T864},...T880);
var T882=DU.ReadReturn(T881,1);
var T883=DU.Ref(T882);
var T884="231F20";
var T885="09090A";
var T886="FFF";
var T887=[T884,T885,T886];
var T888=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T883},...T887);
var T890="Heroes_6";
var T891=DU.Ref(__RUN.getScratchFile(T890,"AllHer_17"));
var T892=new OObj();
var T893="assets/heroes/";
var T894="vision";
var T895=gVal(T893)+gVal(T894);
var T896=".png";
var T897=gVal(T895)+gVal(T896);
OObj.SetChild(T892,"path",T897);
var T899="Card: ";
var T900="Vision";
var T901=gVal(T899)+gVal(T900);
OObj.SetChild(T892,"alt",T901);
var T903="Vision";
OObj.SetChild(T892,"name",T903);
var T905=11;
OObj.SetChild(T892,"hp",T905);
var T907=[T892];
var T908=__RUN.getStaticGlo("List.Add").func({__THIS:T891},...T907);
var T909=DU.ReadReturn(T908,1);
var T910=DU.Ref(T909);
var T911="FFDE00";
var T912="226531";
var T913="C83E31";
var T914=[T911,T912,T913];
var T915=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T910},...T914);
//  mixin $mixBadgeDown()
var T916=DU.Ref(T909);
var T917=__RUN.getStaticFile("Heroes_6","mixBadgeDown").func({__THIS:T916});
var T919="Heroes_6";
var T920=DU.Ref(__RUN.getScratchFile(T919,"AllHer_17"));
var T921=new OObj();
var T922="assets/heroes/";
var T923="war_machine";
var T924=gVal(T922)+gVal(T923);
var T925=".png";
var T926=gVal(T924)+gVal(T925);
OObj.SetChild(T921,"path",T926);
var T928="Card: ";
var T929="War Machine";
var T930=gVal(T928)+gVal(T929);
OObj.SetChild(T921,"alt",T930);
var T932="War Machine";
OObj.SetChild(T921,"name",T932);
var T934=10;
OObj.SetChild(T921,"hp",T934);
var T936=[T921];
var T937=__RUN.getStaticGlo("List.Add").func({__THIS:T920},...T936);
var T938=DU.ReadReturn(T937,1);
var T939=DU.Ref(T938);
var T940="C1BEB7";
var T941="46433E";
var T942="D13839";
var T943=[T940,T941,T942];
var T944=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T939},...T943);
//  mixin $mixBannerLower()
var T945=DU.Ref(T938);
var T946=__RUN.getStaticFile("Heroes_6","mixBannerLower").func({__THIS:T945});
var T948="Heroes_6";
var T949=DU.Ref(__RUN.getScratchFile(T948,"AllHer_17"));
var T950=new OObj();
var T951="assets/heroes/";
var T952="wasp";
var T953=gVal(T951)+gVal(T952);
var T954=".png";
var T955=gVal(T953)+gVal(T954);
OObj.SetChild(T950,"path",T955);
var T957="Card: ";
var T958="Wasp";
var T959=gVal(T957)+gVal(T958);
OObj.SetChild(T950,"alt",T959);
var T961="Wasp";
OObj.SetChild(T950,"name",T961);
var T963=11;
OObj.SetChild(T950,"hp",T963);
var T965=[T950];
var T966=__RUN.getStaticGlo("List.Add").func({__THIS:T949},...T965);
var T967=DU.ReadReturn(T966,1);
var T968=DU.Ref(T967);
var T969="B42127";
var T970="20211B";
var T971="95989F";
var T972=[T969,T970,T971];
var T973=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T968},...T972);
//  mixin $mixBadgeDown()
var T974=DU.Ref(T967);
var T975=__RUN.getStaticFile("Heroes_6","mixBadgeDown").func({__THIS:T974});
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=new OObj();
var T1="assets/campaigns/";
var T2="red_skull";
var T3=gVal(T1)+gVal(T2);
var T4=".jpg";
var T5=gVal(T3)+gVal(T4);
OObj.SetChild(T0,"path",T5);
var T7="Campaign: ";
var T8="The Rise of Red Skull";
var T9=gVal(T7)+gVal(T8);
OObj.SetChild(T0,"alt",T9);
__RUN.setStaticGlo("Img.RedSkull",T0);
var T12=new OObj();
var T13="assets/campaigns/";
var T14="galaxys_most_wanted";
var T15=gVal(T13)+gVal(T14);
var T16=".jpg";
var T17=gVal(T15)+gVal(T16);
OObj.SetChild(T12,"path",T17);
var T19="Campaign: ";
var T20="Galaxy's Most Wanted";
var T21=gVal(T19)+gVal(T20);
OObj.SetChild(T12,"alt",T21);
__RUN.setStaticGlo("Img.GalaxysMostWanted",T12);
var T24=new OObj();
var T25="assets/campaigns/";
var T26="mad_titan";
var T27=gVal(T25)+gVal(T26);
var T28=".jpg";
var T29=gVal(T27)+gVal(T28);
OObj.SetChild(T24,"path",T29);
var T31="Campaign: ";
var T32="The Mad Titan's Shadow";
var T33=gVal(T31)+gVal(T32);
OObj.SetChild(T24,"alt",T33);
__RUN.setStaticGlo("Img.MadTitan",T24);
var T36=new OObj();
var T37="assets/campaigns/";
var T38="sinister_motives";
var T39=gVal(T37)+gVal(T38);
var T40=".jpg";
var T41=gVal(T39)+gVal(T40);
OObj.SetChild(T36,"path",T41);
var T43="Campaign: ";
var T44="Sinister Motives";
var T45=gVal(T43)+gVal(T44);
OObj.SetChild(T36,"alt",T45);
//  mixin $mixExtraStyle("shiftUp")
var T47=DU.Ref(T36);
var T48="shiftUp";
var T49=[T48];
var T50=__RUN.getStaticFile("images_7","mixExtraStyle").func({__THIS:T47},...T49);
__RUN.setStaticGlo("Img.SinisterMotives",T36);
var T52=new OObj();
var T53="assets/cards/";
var T54="crossbones";
var T55=gVal(T53)+gVal(T54);
var T56=".jpg";
var T57=gVal(T55)+gVal(T56);
OObj.SetChild(T52,"path",T57);
var T59="Card: ";
var T60="Crossbones [II]";
var T61=gVal(T59)+gVal(T60);
OObj.SetChild(T52,"alt",T61);
__RUN.setStaticGlo("Img.Crossbones",T52);
var T64=new OObj();
var T65="assets/cards/";
var T66="absorbing_man";
var T67=gVal(T65)+gVal(T66);
var T68=".jpg";
var T69=gVal(T67)+gVal(T68);
OObj.SetChild(T64,"path",T69);
var T71="Card: ";
var T72="Absorbing Man [II]";
var T73=gVal(T71)+gVal(T72);
OObj.SetChild(T64,"alt",T73);
__RUN.setStaticGlo("Img.AbsorbingMan",T64);
var T76=new OObj();
var T77="assets/cards/";
var T78="taskmaster";
var T79=gVal(T77)+gVal(T78);
var T80=".jpg";
var T81=gVal(T79)+gVal(T80);
OObj.SetChild(T76,"path",T81);
var T83="Card: ";
var T84="Taskmaster [II]";
var T85=gVal(T83)+gVal(T84);
OObj.SetChild(T76,"alt",T85);
//  mixin $mixExtraStyle("shiftDown")
var T87=DU.Ref(T76);
var T88="shiftDown";
var T89=[T88];
var T90=__RUN.getStaticFile("images_7","mixExtraStyle").func({__THIS:T87},...T89);
__RUN.setStaticGlo("Img.Taskmaster",T76);
var T92=new OObj();
var T93="assets/cards/";
var T94="zola";
var T95=gVal(T93)+gVal(T94);
var T96=".jpg";
var T97=gVal(T95)+gVal(T96);
OObj.SetChild(T92,"path",T97);
var T99="Card: ";
var T100="Zola [II]";
var T101=gVal(T99)+gVal(T100);
OObj.SetChild(T92,"alt",T101);
__RUN.setStaticGlo("Img.Zola",T92);
var T104=new OObj();
var T105="assets/cards/";
var T106="red_skull";
var T107=gVal(T105)+gVal(T106);
var T108=".jpg";
var T109=gVal(T107)+gVal(T108);
OObj.SetChild(T104,"path",T109);
var T111="Card: ";
var T112="Red Skull [II]";
var T113=gVal(T111)+gVal(T112);
OObj.SetChild(T104,"alt",T113);
__RUN.setStaticGlo("Img.RedSkullVillian",T104);
var T116=new OObj();
var T117="assets/cards/";
var T118="hydra_bomber";
var T119=gVal(T117)+gVal(T118);
var T120=".jpg";
var T121=gVal(T119)+gVal(T120);
OObj.SetChild(T116,"path",T121);
var T123="Card: ";
var T124="Hydra Bomber";
var T125=gVal(T123)+gVal(T124);
OObj.SetChild(T116,"alt",T125);
__RUN.setStaticGlo("Img.HydraBomber",T116);
var T128=new OObj();
var T129="assets/cards/";
var T130="abandoned_facility";
var T131=gVal(T129)+gVal(T130);
var T132=".jpg";
var T133=gVal(T131)+gVal(T132);
OObj.SetChild(T128,"path",T133);
var T135="Card: ";
var T136="Abandoned Facility";
var T137=gVal(T135)+gVal(T136);
OObj.SetChild(T128,"alt",T137);
__RUN.setStaticGlo("Img.AbandonedFacility",T128);
var T140=new OObj();
var T141="assets/cards/";
var T142="power_gauntlets";
var T143=gVal(T141)+gVal(T142);
var T144=".jpg";
var T145=gVal(T143)+gVal(T144);
OObj.SetChild(T140,"path",T145);
var T147="Card: ";
var T148="Power Gauntlets";
var T149=gVal(T147)+gVal(T148);
OObj.SetChild(T140,"alt",T149);
__RUN.setStaticGlo("Img.PowerGauntlets",T140);
var T152=new OObj();
var T153="assets/cards/";
var T154="taskmasters_shield";
var T155=gVal(T153)+gVal(T154);
var T156=".jpg";
var T157=gVal(T155)+gVal(T156);
OObj.SetChild(T152,"path",T157);
var T159="Card: ";
var T160="Taskmaster's Shield";
var T161=gVal(T159)+gVal(T160);
OObj.SetChild(T152,"alt",T161);
__RUN.setStaticGlo("Img.TaskmastersShield",T152);
var T164=new OObj();
var T165="assets/cards/";
var T166="technological_enhancements";
var T167=gVal(T165)+gVal(T166);
var T168=".jpg";
var T169=gVal(T167)+gVal(T168);
OObj.SetChild(T164,"path",T169);
var T171="Card: ";
var T172="Technological Enhancements";
var T173=gVal(T171)+gVal(T172);
OObj.SetChild(T164,"alt",T173);
__RUN.setStaticGlo("Img.TechnologicalEnhancements",T164);
var T176=new OObj();
var T177="assets/cards/";
var T178="twisted_reality";
var T179=gVal(T177)+gVal(T178);
var T180=".jpg";
var T181=gVal(T179)+gVal(T180);
OObj.SetChild(T176,"path",T181);
var T183="Card: ";
var T184="Twisted Reality";
var T185=gVal(T183)+gVal(T184);
OObj.SetChild(T176,"alt",T185);
__RUN.setStaticGlo("Img.TwistedReality",T176);
var T188=new OObj();
var T189="assets/cards/";
var T190="ronin";
var T191=gVal(T189)+gVal(T190);
var T192=".jpg";
var T193=gVal(T191)+gVal(T192);
OObj.SetChild(T188,"path",T193);
var T195="Card: ";
var T196="Ronin";
var T197=gVal(T195)+gVal(T196);
OObj.SetChild(T188,"alt",T197);
__RUN.setStaticGlo("Img.Ronin",T188);
var T200=new OObj();
var T201="assets/cards/";
var T202="two_against";
var T203=gVal(T201)+gVal(T202);
var T204=".jpg";
var T205=gVal(T203)+gVal(T204);
OObj.SetChild(T200,"path",T205);
var T207="Card: ";
var T208="Two Against The World";
var T209=gVal(T207)+gVal(T208);
OObj.SetChild(T200,"alt",T209);
__RUN.setStaticGlo("Img.TwoAgainst",T200);
var T212=new OObj();
var T213="assets/cards/";
var T214="triple_threat";
var T215=gVal(T213)+gVal(T214);
var T216=".jpg";
var T217=gVal(T215)+gVal(T216);
OObj.SetChild(T212,"path",T217);
var T219="Card: ";
var T220="Triple Threat";
var T221=gVal(T219)+gVal(T220);
OObj.SetChild(T212,"alt",T221);
__RUN.setStaticGlo("Img.TripleThreat",T212);
var T224=new OObj();
var T225="assets/cards/";
var T226="strength_in_numbers";
var T227=gVal(T225)+gVal(T226);
var T228=".jpg";
var T229=gVal(T227)+gVal(T228);
OObj.SetChild(T224,"path",T229);
var T231="Card: ";
var T232="Strength In Numbers";
var T233=gVal(T231)+gVal(T232);
OObj.SetChild(T224,"alt",T233);
__RUN.setStaticGlo("Img.StrengthInNumbers",T224);
var T236=new OObj();
var T237="assets/cards/";
var T238="swarm_attack";
var T239=gVal(T237)+gVal(T238);
var T240=".jpg";
var T241=gVal(T239)+gVal(T240);
OObj.SetChild(T236,"path",T241);
var T243="Card: ";
var T244="Swarm Attack";
var T245=gVal(T243)+gVal(T244);
OObj.SetChild(T236,"alt",T245);
__RUN.setStaticGlo("Img.SwarmAttack",T236);
return [];
});__RUN._initFuncs.push(function(__DIV){
var T0=null;
__RUN.setStaticGloEnum("eNext.Forwards",T0);
var T2=null;
__RUN.setStaticGloEnum("eNext.Backwards",T2);
var T4=null;
__RUN.setStaticGloEnum("eNext.Done",T4);
var T6=null;
__RUN.setStaticGloEnum("eNext.Menu",T6);
return [];
});__RUN._initFuncs.push(function(__DIV){
//  scratch KeyListeners : dim()
var T0=new OObj();
var T1="global_5";
__RUN.setScratchFile(T1,"KeyLis_19",T0);
//  $Document.$HookEvent("keydown", lambda(event))
var T3=DU.Ref(__RUN.getStaticGlo("Dom.Document"));
var T4="keydown";
var T5=OObj.MakeFunc(__FUNCS["global_5"]["221_func155"],{});
var T6=[T4,T5];
var T7=__RUN.getStaticGlo("Dom.HookEvent").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
return [];
});__RUN._initFuncs.push(function(__DIV){
//  scratch RenderedHeroes : dim()
var T0=new OObj();
var T1="Main.w_8";
__RUN.setScratchFile(T1,"Render_20",T0);
return [];
});__RUN._initFuncs.push(function(__DIV){
//  scratch NextAction : null
var T0=null;
var T1="Menu.w_9";
__RUN.setScratchFile(T1,"NextAc_21",T0);
return [];
});


// C:\Users\mettu\.vscode\extensions\mercurywave.wingralang-0.0.9\bin\lang\.StdLib\StdLib.wng
__FUNCS["StdLib_1"] = {
"13::New" : function(__DIV){
var $list;
//  ::New( => list) => dim
var T0=new OObj();
$list=T0;
return [$list];
},
"26::New" : function(__DIV){
var $set;
//  ::New( => set) => dim
var T0=new OObj();
$set=T0;
return [$set];
},
"39::Add" : function(__DIV, $key){
var __THIS;
__THIS=__DIV.__THIS;
//  this[key] : true
var T1=true;
var T2=DU.Ref(__THIS);
var T3=DU.Ref($key);
OObj.SetPath(T2,[T3],T1);
return [];
},
"52::New" : function(__DIV){
var $stack;
//  ::New( => stack) => dim
var T0=new OObj();
$stack=T0;
return [$stack];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\campaign\campaign.wng
__FUNCS["campai_2"] = {
"13::Create" : function(__DIV, $name, $img){
var $obj;
//  obj : ^AllCampaigns.$List.Add(dim)
var T2="campai_2";
var T3=DU.Ref(__RUN.getScratchFile(T2,"AllCam_16"));
var T4=new OObj();
//  name : name
var T5=DU.Ref($name);
OObj.SetChild(T4,"name",T5);
//  img : img
var T7=DU.Ref($img);
OObj.SetChild(T4,"img",T7);
//  slides : dim()
var T9=new OObj();
OObj.SetChild(T4,"slides",T9);
var T11=[T4];
var T12=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T11);
var T13=DU.ReadReturn(T12,1);
$obj=T13;
return [$obj];
},
"26::mixOfficalCampaign" : function(__DIV, $releaseOrder){
var __THIS;
__THIS=__DIV.__THIS;
//  this.sort : releaseOrder
var T1=DU.Ref($releaseOrder);
var T2=DU.Ref(__THIS);
OObj.SetChild(T2,"sort",T1);
//  this.isOfficial : true
var T4=true;
var T5=DU.Ref(__THIS);
OObj.SetChild(T5,"isOfficial",T4);
return [];
},
"39::mixBookStyles" : function(__DIV, $backStyle, $lineStyle, $foreStyle){
var __THIS;
__THIS=__DIV.__THIS;
//  this.backStyle : backStyle
var T3=DU.Ref($backStyle);
var T4=DU.Ref(__THIS);
OObj.SetChild(T4,"backStyle",T3);
//  this.lineStyle : lineStyle
var T6=DU.Ref($lineStyle);
var T7=DU.Ref(__THIS);
OObj.SetChild(T7,"lineStyle",T6);
//  this.foreStyle : foreStyle
var T9=DU.Ref($foreStyle);
var T10=DU.Ref(__THIS);
OObj.SetChild(T10,"foreStyle",T9);
return [];
},
"52::mixComingSoon" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  this.comingSoon : true
var T0=true;
var T1=DU.Ref(__THIS);
OObj.SetChild(T1,"comingSoon",T0);
return [];
},
"65::GetAllCampaigns" : function(__DIV){
var $list;
//  ::GetAllCampaigns(=> list) => ^AllCampaigns
var T0="campai_2";
var T1=DU.Ref(__RUN.getScratchFile(T0,"AllCam_16"));
$list=T1;
return [$list];
},
"78::GetOfficialCampaigns" : function(__DIV){
var $list,$sorted,$$iter2,$it,$$iter3;
//  @sorted : dim()
var T0=new OObj();
$sorted=T0;
//  for ^AllCampaigns
var T2="campai_2";
var T3=DU.Ref(__RUN.getScratchFile(T2,"AllCam_16"));
var T4=DU.MakeIter(T3);
$$iter2=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref($$iter2);
T7.Next();
}var T9=DU.Ref($$iter2);
var T10=T9.iter.done;
var T11=!T10;
if(!T11){break;}
var T13=DU.Ref($$iter2);
var T14=T13.iter.value[0];
$it=T14;
//  if it.?isOfficial ? false
var T16=DU.Ref($it);
if(OObj.HasChildKey(T16,"isOfficial"))
{
var T17=T16;
var T18=OObj.DotAccess(T17,"isOfficial");
}else {var T18=null;}
if(T18 != null)
{
var T21=T18;
}else{
var T21=false;
}if(T21)
{
//  sorted[it.sort] : it
var T23=DU.Ref($it);
var T24=DU.Ref($sorted);
var T25=DU.Ref($it);
var T26=OObj.DotAccess(T25,"sort");
OObj.SetPath(T24,[T26],T23);
}continue;
}//  list : dim()
var T30=$it;
$it=undefined;
var T32=new OObj();
$list=T32;
//  for sorted
var T34=DU.Ref($sorted);
var T35=DU.MakeIter(T34);
$$iter3=T35;
for(var T37=0;;T37++)
{
if(T37>0)
{
var T38=DU.Ref($$iter3);
T38.Next();
}var T40=DU.Ref($$iter3);
var T41=T40.iter.done;
var T42=!T41;
if(!T42){break;}
var T44=DU.Ref($$iter3);
var T45=T44.iter.value[0];
$it=T45;
//  list.$List.Add(it)
var T47=DU.Ref($list);
var T48=DU.Ref($it);
var T49=[T48];
var T50=__RUN.getStaticGlo("List.Add").func({__THIS:T47},...T49);
var T51=DU.ReadReturn(T50,1);
continue;
}return [$list];
},
"91::GetCustomCampaigns" : function(__DIV){
var $list,$sorted,$$iter2,$it,$$iter3;
//  @sorted : dim()
var T0=new OObj();
$sorted=T0;
//  for ^AllCampaigns
var T2="campai_2";
var T3=DU.Ref(__RUN.getScratchFile(T2,"AllCam_16"));
var T4=DU.MakeIter(T3);
$$iter2=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref($$iter2);
T7.Next();
}var T9=DU.Ref($$iter2);
var T10=T9.iter.done;
var T11=!T10;
if(!T11){break;}
var T13=DU.Ref($$iter2);
var T14=T13.iter.value[0];
$it=T14;
//  if !(it.?isOfficial ? false)
var T16=DU.Ref($it);
if(OObj.HasChildKey(T16,"isOfficial"))
{
var T17=T16;
var T18=OObj.DotAccess(T17,"isOfficial");
}else {var T18=null;}
if(T18 != null)
{
var T21=T18;
}else{
var T21=false;
}var T22=!T21;
if(T22)
{
//  sorted[it.name] : it
var T24=DU.Ref($it);
var T25=DU.Ref($sorted);
var T26=DU.Ref($it);
var T27=OObj.DotAccess(T26,"name");
OObj.SetPath(T25,[T27],T24);
}continue;
}//  list : dim()
var T31=$it;
$it=undefined;
var T33=new OObj();
$list=T33;
//  for sorted
var T35=DU.Ref($sorted);
var T36=DU.MakeIter(T35);
$$iter3=T36;
for(var T38=0;;T38++)
{
if(T38>0)
{
var T39=DU.Ref($$iter3);
T39.Next();
}var T41=DU.Ref($$iter3);
var T42=T41.iter.done;
var T43=!T42;
if(!T43){break;}
var T45=DU.Ref($$iter3);
var T46=T45.iter.value[0];
$it=T46;
//  list.$List.Add(it)
var T48=DU.Ref($list);
var T49=DU.Ref($it);
var T50=[T49];
var T51=__RUN.getStaticGlo("List.Add").func({__THIS:T48},...T50);
var T52=DU.ReadReturn(T51,1);
continue;
}return [$list];
},
"104::LookupByName" : function(__DIV, $name){
var $campaign,$$iter2,$it;
//  for $GetAllCampaigns()
var T1="campai_2";
var T2=DU.Ref(__RUN.getScratchFile(T1,"AllCam_16"));
var T3=DU.MakeIter(T2);
$$iter2=T3;
for(var T5=0;;T5++)
{
if(T5>0)
{
var T6=DU.Ref($$iter2);
T6.Next();
}var T8=DU.Ref($$iter2);
var T9=T8.iter.done;
var T10=!T9;
if(!T10){break;}
var T12=DU.Ref($$iter2);
var T13=T12.iter.value[0];
$it=T13;
//  if it.$GetName() = name
var T15=DU.Ref($it);
var T16=OObj.DotAccess(T15,"name");
var T17=DU.Ref($name);
var T18=DU.AreEqual(T16,T17);
if(T18)
{
//  return it
var T20=DU.Ref($it);
$campaign=T20;
return [$campaign];
}continue;
}return [$campaign];
},
"117::mixTooltipGen" : function(__DIV, $lamb){
var __THIS;
__THIS=__DIV.__THIS;
//  this.tooltipGen : free? lamb
var T1=$lamb;
$lamb=undefined;
var T2=DU.Ref(__THIS);
OObj.SetChild(T2,"tooltipGen",T1);
return [];
},
"130::mixSlides" : function(__DIV, $slides){
var __THIS;
__THIS=__DIV.__THIS;
//  this.slides.$List.AppendList(free slides)
var T1=DU.Ref(__THIS);
var T2=OObj.DotAccess(T1,"slides");
var T3=$slides;
$slides=undefined;
var T4=[T3];
var T5=__RUN.getStaticGlo("List.AppendList").func({__THIS:T2},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"143::mixMission" : function(__DIV, $key, $number, $name, $img, $slides, $backSty, $lineSty, $foreSty, $narrative){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$mixSlides(dim)
var T9=DU.Ref(__THIS);
var T10=new OObj();
//  $Checkpoint(key, "Mission " + number +": " + name)
var T11=new OObj();
var T12=DU.Ref($key);
OObj.SetChild(T11,"checkpoint",T12);
var T14=new OObj();
var T15="Mission ";
var T16=DU.Ref($number);
var T17=gVal(T15)+gVal(T16);
var T18=": ";
var T19=gVal(T17)+gVal(T18);
var T20=DU.Ref($name);
var T21=gVal(T19)+gVal(T20);
OObj.SetChild(T14,"progress",T21);
OObj.SetChild(T11,"delta",T14);
OObj.SetChild(T10,0,T11);
//  $Scenario(img, number, name, backSty, lineSty, foreSty)
var T25=DU.Ref($img);
var T26=DU.Ref($number);
var T27=DU.Ref($name);
var T28=DU.Ref($backSty);
var T29=DU.Ref($lineSty);
var T30=DU.Ref($foreSty);
var T31=[T25,T26,T27,T28,T29,T30];
var T32=__RUN.getStaticGlo("Slide.Scenario").func(null,...T31);
var T33=DU.ReadReturn(T32,1);
OObj.SetChild(T10,1,T33);
var T35=[T10];
var T36=__RUN.getStaticGlo("Campaign.mixSlides").func({__THIS:T9},...T35);
var T37=DU.ReadReturn(T36,1);
//  if narrative != null
var T39=DU.Ref($narrative);
var T40=null;
var T41=!DU.AreEqual(T39,T40);
if(T41)
{
//  this.slides.$List.Add($Narrative(narrative))
var T43=DU.Ref(__THIS);
var T44=OObj.DotAccess(T43,"slides");
var T45=DU.Ref($narrative);
var T46=[T45];
var T47=__RUN.getStaticGlo("Slide.Narrative").func(null,...T46);
var T48=DU.ReadReturn(T47,1);
var T49=[T48];
var T50=__RUN.getStaticGlo("List.Add").func({__THIS:T44},...T49);
var T51=DU.ReadReturn(T50,1);
}//  this.$mixSlides(free slides)
var T54=DU.Ref(__THIS);
var T55=$slides;
$slides=undefined;
var T56=[T55];
var T57=__RUN.getStaticGlo("Campaign.mixSlides").func({__THIS:T54},...T56);
var T58=DU.ReadReturn(T57,1);
return [];
},
"156::mixModeSelect" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$mixSlides(dim)
var T0=DU.Ref(__THIS);
var T1=new OObj();
//  $Slide.CampaignMode()
var T2=__RUN.getStaticGlo("Slide.CampaignMode").func(null);
var T3=DU.ReadReturn(T2,1);
OObj.SetChild(T1,0,T3);
var T5=[T1];
var T6=__RUN.getStaticGlo("Campaign.mixSlides").func({__THIS:T0},...T5);
var T7=DU.ReadReturn(T6,1);
return [];
},
"169::mixDifficulty" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$mixSlides(dim)
var T0=DU.Ref(__THIS);
var T1=new OObj();
var T2=[T1];
var T3=__RUN.getStaticGlo("Campaign.mixSlides").func({__THIS:T0},...T2);
var T4=DU.ReadReturn(T3,1);
return [];
},
"182::mixHeroSelection" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$mixSlides(dim)
var T0=DU.Ref(__THIS);
var T1=new OObj();
//  $NumPlayers()
var T2=__RUN.getStaticGlo("Slide.NumPlayers").func(null);
var T3=DU.ReadReturn(T2,1);
OObj.SetChild(T1,0,T3);
//  $HeroPicker(1)
var T5=1;
var T6=[T5];
var T7=__RUN.getStaticGlo("Slide.HeroPicker").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
OObj.SetChild(T1,1,T8);
//  $If(`stage.state.players > 1`, $HeroPicker(2))
var T10=OObj.MakeFunc(__FUNCS["campai_2"]["195_func"],{});
var T11=2;
var T12=[T11];
var T13=__RUN.getStaticGlo("Slide.HeroPicker").func(null,...T12);
var T14=DU.ReadReturn(T13,1);
var T15=[T10,T14];
var T16=__RUN.getStaticGlo("Slide.If").func(null,...T15);
var T17=DU.ReadReturn(T16,1);
OObj.SetChild(T1,2,T17);
//  $If(`stage.state.players > 2`, $HeroPicker(3))
var T19=OObj.MakeFunc(__FUNCS["campai_2"]["208_func"],{});
var T20=3;
var T21=[T20];
var T22=__RUN.getStaticGlo("Slide.HeroPicker").func(null,...T21);
var T23=DU.ReadReturn(T22,1);
var T24=[T19,T23];
var T25=__RUN.getStaticGlo("Slide.If").func(null,...T24);
var T26=DU.ReadReturn(T25,1);
OObj.SetChild(T1,3,T26);
//  $If(`stage.state.players > 3`, $HeroPicker(4))
var T28=OObj.MakeFunc(__FUNCS["campai_2"]["221_func"],{});
var T29=4;
var T30=[T29];
var T31=__RUN.getStaticGlo("Slide.HeroPicker").func(null,...T30);
var T32=DU.ReadReturn(T31,1);
var T33=[T28,T32];
var T34=__RUN.getStaticGlo("Slide.If").func(null,...T33);
var T35=DU.ReadReturn(T34,1);
OObj.SetChild(T1,4,T35);
var T37=[T1];
var T38=__RUN.getStaticGlo("Campaign.mixSlides").func({__THIS:T0},...T37);
var T39=DU.ReadReturn(T38,1);
return [];
},
"195_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3=OObj.DotAccess(T2,"players");
var T4=1;
var T5=gVal(T3) > gVal(T4);
return [T5];},
"208_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3=OObj.DotAccess(T2,"players");
var T4=2;
var T5=gVal(T3) > gVal(T4);
return [T5];},
"221_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3=OObj.DotAccess(T2,"players");
var T4=3;
var T5=gVal(T3) > gVal(T4);
return [T5];},
"234::mixProductInfo" : function(__DIV, $requiredComponents){
var __THIS,$text,$$iter2,$it;
__THIS=__DIV.__THIS;
//  @text : "**Requirement**: This campaign requires the following components:\n"
var T1="**Requirement**: This campaign requires the following components:\n";
$text=T1;
//  text +: "* Core Set\n"
var T3=DU.Ref($text);
var T4="* Core Set\n";
var T5=gVal(T3)+gVal(T4);
$text=T5;
//  for requiredComponents
var T7=DU.Ref($requiredComponents);
var T8=DU.MakeIter(T7);
$$iter2=T8;
for(var T10=0;;T10++)
{
if(T10>0)
{
var T11=DU.Ref($$iter2);
T11.Next();
}var T13=DU.Ref($$iter2);
var T14=T13.iter.done;
var T15=!T14;
if(!T15){break;}
var T17=DU.Ref($$iter2);
var T18=T17.iter.value[0];
$it=T18;
//  text +: "* " + it + "\n"
var T20=DU.Ref($text);
var T21="* ";
var T22=DU.Ref($it);
var T23=gVal(T21)+gVal(T22);
var T24="\n";
var T25=gVal(T23)+gVal(T24);
var T26=gVal(T20)+gVal(T25);
$text=T26;
continue;
}//  this.$mixSlides(dim)
var T29=$it;
$it=undefined;
var T31=DU.Ref(__THIS);
var T32=new OObj();
//  $Slide.Popup(this.$Campaign.GetName(), text)
var T33=DU.Ref(__THIS);
var T34=OObj.DotAccess(T33,"name");
var T35=DU.Ref($text);
var T36=[T34,T35];
var T37=__RUN.getStaticGlo("Slide.Popup").func(null,...T36);
var T38=DU.ReadReturn(T37,1);
OObj.SetChild(T32,0,T38);
var T40=[T32];
var T41=__RUN.getStaticGlo("Campaign.mixSlides").func({__THIS:T31},...T40);
var T42=DU.ReadReturn(T41,1);
return [];
},
"247::mixSaveGameReminder" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$mixSlides(dim)
var T0=DU.Ref(__THIS);
var T1=new OObj();
//  $Slide.Popup("Saved Data", textdata)
var T2="Saved Data";
var T3=new OObj();
var T4="Your campaign progress will automatically be saved between missions";
OObj.SetChild(T3,0,T4);
var T6="using your browser's local storage.";
OObj.SetChild(T3,1,T6);
var T8="";
OObj.SetChild(T3,2,T8);
var T10="**Caution:** clearing your browser history can delete your saved campaigns.";
OObj.SetChild(T3,3,T10);
var T12="";
OObj.SetChild(T3,4,T12);
var T14=[T2,T3];
var T15=__RUN.getStaticGlo("Slide.Popup").func(null,...T14);
var T16=DU.ReadReturn(T15,1);
OObj.SetChild(T1,0,T16);
var T18=[T1];
var T19=__RUN.getStaticGlo("Campaign.mixSlides").func({__THIS:T0},...T18);
var T20=DU.ReadReturn(T19,1);
return [];
},
"260::mixWrapUpDefeat" : function(__DIV, $slides){
var __THIS,$idx,$$idx2;
__THIS=__DIV.__THIS;
//  for @idx in slides
var T1=DU.Ref($slides);
var T2=OObj.getFirstKey(T1);
$idx=T2;
for(var T4=0;;T4++)
{
if(T4>0)
{
var T5=DU.Ref($slides);
var T6=DU.Ref($idx);
var T7=OObj.getNextKey(T5,T6);
var T8=$idx;
$idx=null;
$$idx2=T8;
$idx=T7;
}var T11=DU.Ref($idx);
var T12=T11 != null;
if(!T12){break;}
//  this.slides.$List.Add($Slide.IfDefeat(free slides[idx]))
var T14=DU.Ref(__THIS);
var T15=OObj.DotAccess(T14,"slides");
var T16=DU.Ref($slides);
var T17=DU.Ref($idx);
var T18=OObj.FreePath(T16, [T17]);
var T19=[T18];
var T20=__RUN.getStaticGlo("Slide.IfDefeat").func(null,...T19);
var T21=DU.ReadReturn(T20,1);
var T22=[T21];
var T23=__RUN.getStaticGlo("List.Add").func({__THIS:T15},...T22);
var T24=DU.ReadReturn(T23,1);
continue;
}return [];
},
"273::mixWrapUpVictory" : function(__DIV, $slides){
var __THIS,$idx,$$idx2;
__THIS=__DIV.__THIS;
//  for @idx in slides
var T1=DU.Ref($slides);
var T2=OObj.getFirstKey(T1);
$idx=T2;
for(var T4=0;;T4++)
{
if(T4>0)
{
var T5=DU.Ref($slides);
var T6=DU.Ref($idx);
var T7=OObj.getNextKey(T5,T6);
var T8=$idx;
$idx=null;
$$idx2=T8;
$idx=T7;
}var T11=DU.Ref($idx);
var T12=T11 != null;
if(!T12){break;}
//  this.slides.$List.Add($Slide.IfNotDefeat(free slides[idx]))
var T14=DU.Ref(__THIS);
var T15=OObj.DotAccess(T14,"slides");
var T16=DU.Ref($slides);
var T17=DU.Ref($idx);
var T18=OObj.FreePath(T16, [T17]);
var T19=[T18];
var T20=__RUN.getStaticGlo("Slide.IfNotDefeat").func(null,...T19);
var T21=DU.ReadReturn(T20,1);
var T22=[T21];
var T23=__RUN.getStaticGlo("List.Add").func({__THIS:T15},...T22);
var T24=DU.ReadReturn(T23,1);
continue;
}return [];
},
"286::MakeHeader" : function(__DIV){
var $img,__THIS,$$inThis2;
__THIS=__DIV.__THIS;
//  => dim this.img.$Img.MakeElem()
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"img");
$$inThis2=T1;
var T3="img";
var T4=[T3];
var T5=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
var T7=DU.Ref(T6);
var T8="src";
var T9=DU.Ref($$inThis2);
var T10=OObj.DotAccess(T9,"path");
var T11=[T8,T10];
var T12=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T7},...T11);
var T13=DU.Ref(T6);
var T14="alt";
var T15=DU.Ref($$inThis2);
var T16=OObj.DotAccess(T15,"alt");
if(T16 != null)
{
var T19=T16;
}else{
var T19="";
}var T20=[T14,T19];
var T21=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T13},...T20);
//  mixin $Dom.Style.AddClasses("vh", "vImg")
var T22=DU.Ref(T6);
var T23="vh";
var T24="vImg";
var T25=[T23,T24];
var T26=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T22},...T25);
$img=T6;
return [$img];
},
"299::MakeBadge" : function(__DIV){
var $elem,__THIS,$$inThis2;
__THIS=__DIV.__THIS;
//  => dim $Dom.Div.Create()
var T0="div";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
//  mixin $Dom.Style.AddClasses("campaignBadgeContainer")
var T4=DU.Ref(T3);
var T5="campaignBadgeContainer";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T4},...T6);
//  mixin $Dom.AppendChild(dim this.img.$Img.MakeElem())
var T8=DU.Ref(T3);
var T9=DU.Ref(__THIS);
var T10=OObj.DotAccess(T9,"img");
$$inThis2=T10;
var T12="img";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T13);
var T15=DU.ReadReturn(T14,1);
var T16=DU.Ref(T15);
var T17="src";
var T18=DU.Ref($$inThis2);
var T19=OObj.DotAccess(T18,"path");
var T20=[T17,T19];
var T21=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T16},...T20);
var T22=DU.Ref(T15);
var T23="alt";
var T24=DU.Ref($$inThis2);
var T25=OObj.DotAccess(T24,"alt");
if(T25 != null)
{
var T28=T25;
}else{
var T28="";
}var T29=[T23,T28];
var T30=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T22},...T29);
//  mixin $Dom.Style.AddClasses("campaignBadge")
var T31=DU.Ref(T15);
var T32="campaignBadge";
var T33=[T32];
var T34=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T31},...T33);
var T35=[T15];
var T36=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T8},...T35);
$elem=T3;
return [$elem];
},
"312::MakeImage" : function(__DIV){
var $img,__THIS,$$inThis2;
__THIS=__DIV.__THIS;
//  ::.MakeImage(=> img) => this.img.$Img.MakeElem()
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"img");
$$inThis2=T1;
var T3="img";
var T4=[T3];
var T5=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
var T7=DU.Ref(T6);
var T8="src";
var T9=DU.Ref($$inThis2);
var T10=OObj.DotAccess(T9,"path");
var T11=[T8,T10];
var T12=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T7},...T11);
var T13=DU.Ref(T6);
var T14="alt";
var T15=DU.Ref($$inThis2);
var T16=OObj.DotAccess(T15,"alt");
if(T16 != null)
{
var T19=T16;
}else{
var T19="";
}var T20=[T14,T19];
var T21=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T13},...T20);
$img=T6;
return [$img];
},
"325::GetName" : function(__DIV){
var $name,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetName(=> name) => this.name
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"name");
$name=T1;
return [$name];
},
"338::GetImagePath" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.GetImagePath() => this.img.$Img.GetPath()
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"img");
var T2=OObj.DotAccess(T1,"path");
return [];
},
"351::mixApplyExtraStyles" : function(__DIV, $camp){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$Img.mixApplyExtraStyles(camp.img)
var T1=DU.Ref(__THIS);
var T2=DU.Ref($camp);
var T3=OObj.DotAccess(T2,"img");
var T4=[T3];
var T5=__RUN.getStaticGlo("Img.mixApplyExtraStyles").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"364::IsExpert" : function(__DIV){
var $bool,__THIS;
__THIS=__DIV.__THIS;
//  ::.IsExpert( => bool) => this.?isExpertMode ? false
var T0=DU.Ref(__THIS);
if(OObj.HasChildKey(T0,"isExpertMode"))
{
var T1=T0;
var T2=OObj.DotAccess(T1,"isExpertMode");
}else {var T2=null;}
if(T2 != null)
{
var T5=T2;
}else{
var T5=false;
}$bool=T5;
return [$bool];
},
"377::GetHero" : function(__DIV, $idx){
var $hero,__THIS,$name;
__THIS=__DIV.__THIS;
//  @name : this["player",idx,"hero"] ? ""
var T1=DU.Ref(__THIS);
var T2="player";
var T3=DU.Ref($idx);
var T4="hero";
var T5=OObj.GetPath(T1,[T2,T3,T4]);
if(T5 != null)
{
var T8=T5;
}else{
var T8="";
}$name=T8;
//  return $Heroes.LookupByName(name)
var T10=DU.Ref($name);
var T11=[T10];
var T12=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
$hero=T13;
return [$hero];
},
"390::GetHp" : function(__DIV, $idx){
var $hp,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetHp(idx => hp) => this["player",idx,"hp"] ? 0
var T1=DU.Ref(__THIS);
var T2="player";
var T3=DU.Ref($idx);
var T4="hp";
var T5=OObj.GetPath(T1,[T2,T3,T4]);
if(T5 != null)
{
var T8=T5;
}else{
var T8=0;
}$hp=T8;
return [$hp];
},
"403::IsComplete" : function(__DIV){
var $bool,__THIS;
__THIS=__DIV.__THIS;
//  ::.IsComplete(=> bool) => this[$Campaign.Complete] ? false
var T0=DU.Ref(__THIS);
var T1="complete";
var T2=OObj.GetPath(T0,[T1]);
if(T2 != null)
{
var T5=T2;
}else{
var T5=false;
}$bool=T5;
return [$bool];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\campaign\Red Skull.wng
__FUNCS["Red Sk_3"] = {
"13_func" : function(__DIV){
var $state,$player;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
if('$player' in __DIV.capture){$player=__DIV.capture["$player"];}
var T1=DU.Ref($state);
var T2=DU.Ref($player);
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("RedSkull.TooltipGen").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [T5];},
"26_func44" : async function(__DIV, $stage){
var $opts,$$iter2,$it;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @opts : dim()
var T1=new OObj();
$opts=T1;
//  for dim("Laser Rifle", "Energy Shield", "Power Gauntlets", "Exo Suit")
var T3=new OObj();
var T4="Laser Rifle";
OObj.SetChild(T3,0,T4);
var T6="Energy Shield";
OObj.SetChild(T3,1,T6);
var T8="Power Gauntlets";
OObj.SetChild(T3,2,T8);
var T10="Exo Suit";
OObj.SetChild(T3,3,T10);
var T12=DU.MakeIter(T3);
$$iter2=T12;
for(var T14=0;;T14++)
{
if(T14>0)
{
var T15=DU.Ref($$iter2);
T15.Next();
}var T17=DU.Ref($$iter2);
var T18=T17.iter.done;
var T19=!T18;
if(!T19){break;}
var T21=DU.Ref($$iter2);
var T22=T21.iter.value[0];
$it=T22;
//  opts.$List.Add($CheckList.MakeCheck(it, null, lambda, stage.ghost[$RedSkull.Weapon, it] ? false))
var T24=DU.Ref($opts);
var T25=DU.Ref($it);
var T26=null;
var T27=OObj.MakeFunc(__FUNCS["Red Sk_3"]["39_func47"],{$stage: DU.Ref($stage),$it: DU.Ref($it)});
var T28=DU.Ref($stage);
var T29=OObj.DotAccess(T28,"ghost");
var T30="experimental weapon";
var T31=DU.Ref($it);
var T32=OObj.GetPath(T29,[T30,T31]);
if(T32 != null)
{
var T35=T32;
}else{
var T35=false;
}var T36=[T25,T26,T27,T35];
var T37=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T36);
var T38=DU.ReadReturn(T37,1);
var T39=[T38];
var T40=__RUN.getStaticGlo("List.Add").func({__THIS:T24},...T39);
var T41=DU.ReadReturn(T40,1);
continue;
}//  await $CheckList.DoChecklist(stage, "Experimental Weapons"
var T44=$it;
$it=undefined;
var T46=DU.Ref($stage);
var T47="Experimental Weapons";
var T48="Which *EXPERIMENTAL* attachments entered the game?";
var T49=DU.Ref($opts);
var T50=null;
var T51=true;
var T53=[T46,T47,T48,T49,T50,T51];
var T54=await __RUN.getStaticGlo("Slide.CheckList.DoChecklist").func(null,...T53);
var T55=DU.ReadReturn(T54,1);
return [];
},
"39_func47" : function(__DIV){
var $stage,$it;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
//  stage.delta[$RedSkull.Weapon, it] : true
var T1=true;
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"delta");
var T4="experimental weapon";
var T5=DU.Ref($it);
OObj.SetPath(T3,[T4,T5],T1);
return [];
},
"52_func54" : async function(__DIV, $stage){
var $text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @text : "Each player chooses a TECH upgrade from the Hydra Campaign set and adds it to their deck."
var T1="Each player chooses a TECH upgrade from the Hydra Campaign set and adds it to their deck.";
$text=T1;
//  await $RedSkull.DoDistributeVictory(stage, $RedSkull.TechUp, text, dim)
var T3=DU.Ref($stage);
var T4="tech upgrade";
var T5=DU.Ref($text);
var T6=new OObj();
//  "Adrenal Stims"
var T7="Adrenal Stims";
OObj.SetChild(T6,0,T7);
//  "Tactical Scanner"
var T9="Tactical Scanner";
OObj.SetChild(T6,1,T9);
//  "Emergency Teleport"
var T11="Emergency Teleport";
OObj.SetChild(T6,2,T11);
//  "Laser Cannon"
var T13="Laser Cannon";
OObj.SetChild(T6,3,T13);
var T16=[T3,T4,T5,T6];
var T17=await __RUN.getStaticGlo("RedSkull.DoDistributeVictory").func(null,...T16);
var T18=DU.ReadReturn(T17,1);
return [];
},
"65_func85" : async function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $RedSkull.DoRecordDelay(stage)
var T1=DU.Ref($stage);
var T3=[T1];
var T4=await __RUN.getStaticGlo("RedSkull.DoRecordDelay").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"78_func90" : async function(__DIV, $stage){
var $$parTmp2,$$$sOut23,$text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @text : $GTW(textdata)
var T1=new OObj();
var T2="Each player may choose a \"Basic\" *Condition* upgrade from the Campaign set,";
OObj.SetChild(T1,0,T2);
var T4="attach it to their identity, and add it to their deck.";
OObj.SetChild(T1,1,T4);
$$parTmp2=T1;
var T9=DU.Ref($$parTmp2);
var T10=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T9});
var T11=DU.ReadReturn(T10,1);
if(T11)
{
var T13=DU.Ref($$parTmp2);
var T14=" ";
var T15=[T14];
var T16=__RUN.getStaticGlo("List.Join").func({__THIS:T13},...T15);
var T17=DU.ReadReturn(T16,1);
$$$sOut23=T17;
}else
{
var T20=DU.Ref($$parTmp2);
$$$sOut23=T20;
}var T22=DU.Ref($$$sOut23);
$text=T22;
//  await $RedSkull.DoDistributeVictory(stage, $RedSkull.Condition, text, dim)
var T24=DU.Ref($stage);
var T25="condition";
var T26=DU.Ref($text);
var T27=new OObj();
//  "Basic Thwart Upgrade"
var T28="Basic Thwart Upgrade";
OObj.SetChild(T27,0,T28);
//  "Basic Attack Upgrade"
var T30="Basic Attack Upgrade";
OObj.SetChild(T27,1,T30);
//  "Basic Defense Upgrade"
var T32="Basic Defense Upgrade";
OObj.SetChild(T27,2,T32);
//  "Basic Recovery Upgrade"
var T34="Basic Recovery Upgrade";
OObj.SetChild(T27,3,T34);
var T37=[T24,T25,T26,T27];
var T38=await __RUN.getStaticGlo("RedSkull.DoDistributeVictory").func(null,...T37);
var T39=DU.ReadReturn(T38,1);
return [];
},
"91_func126" : async function(__DIV, $stage){
var $text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @text : "Each player who rescured an ally from the Taskmaster encounter set adds those allies to their deck"
var T1="Each player who rescured an ally from the Taskmaster encounter set adds those allies to their deck";
$text=T1;
//  await $RedSkull.DoDistributeVictoryMulti(stage, $RedSkull.AlliesUnlocked, text, dim)
var T3=DU.Ref($stage);
var T4="allies";
var T5=DU.Ref($text);
var T6=new OObj();
//  "Moon Knight"
var T7="Moon Knight";
OObj.SetChild(T6,0,T7);
//  "Shang-Chi"
var T9="Shang-Chi";
OObj.SetChild(T6,1,T9);
//  "White Tiger"
var T11="White Tiger";
OObj.SetChild(T6,2,T11);
//  "Elektra"
var T13="Elektra";
OObj.SetChild(T6,3,T13);
var T16=[T3,T4,T5,T6];
var T17=await __RUN.getStaticGlo("RedSkull.DoDistributeVictoryMulti").func(null,...T16);
var T18=DU.ReadReturn(T17,1);
return [];
},
"104_func159" : async function(__DIV, $stage){
var $text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @text : "Which players ended the game engaged with an enemy?"
var T1="Which players ended the game engaged with an enemy?";
$text=T1;
//  await $CheckList.DoPlayerList(stage, $RedSkull.EnemyEngaged, "Victory", text,
var T3=DU.Ref($stage);
var T4="enemy engaged";
var T5="Victory";
var T6=DU.Ref($text);
var T7="Engaged with an enemy";
var T8=OObj.MakeFunc(__FUNCS["Red Sk_3"]["117_func"],{});
var T9="Not in play";
var T11=[T3,T4,T5,T6,T7,T8,T9];
var T12=await __RUN.getStaticGlo("Slide.CheckList.DoPlayerList").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
return [];
},
"117_func" : function(__DIV){
var $player;
if('$player' in __DIV.capture){$player=__DIV.capture["$player"];}
var T1=DU.Ref($player);
var T2="hp";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=1;
}var T7=0;
var T8=gVal(T6) > gVal(T7);
return [T8];},
"130_func164" : async function(__DIV, $stage){
var $text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @text : "Is the Hydra Prison side scheme still in play?"
var T1="Is the Hydra Prison side scheme still in play?";
$text=T1;
//  await $DoFork(stage, $RedSkull.Prison, "Victory", text, dim)
var T3=DU.Ref($stage);
var T4="prison in play";
var T5="Victory";
var T6=DU.Ref($text);
var T7=new OObj();
//  $MakeOption("Hydra Prison in play", true)
var T8="Hydra Prison in play";
var T9=true;
var T10=[T8,T9];
var T11=__RUN.getStaticGlo("Slide.Fork.MakeOption").func(null,...T10);
var T12=DU.ReadReturn(T11,1);
OObj.SetChild(T7,0,T12);
//  $MakeOption("Not in play", false)
var T14="Not in play";
var T15=false;
var T16=[T14,T15];
var T17=__RUN.getStaticGlo("Slide.Fork.MakeOption").func(null,...T16);
var T18=DU.ReadReturn(T17,1);
OObj.SetChild(T7,1,T18);
var T21=[T3,T4,T5,T6,T7];
var T22=await __RUN.getStaticGlo("Slide.Fork.DoFork").func(null,...T21);
var T23=DU.ReadReturn(T22,1);
return [];
},
"143_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
var T2=[T1];
var T3=__RUN.getStaticGlo("RedSkull.IfPromptForPrisoners").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [T4];},
"156_func171" : async function(__DIV, $stage){
var $poss,$list;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @poss : $RedSkull.GetAlliesFreed(stage.state)
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3=[T2];
var T4=__RUN.getStaticGlo("RedSkull.GetAlliesFreed").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$poss=T5;
//  @list : poss.$List.Map(`$MakeCheck(it, null, lambda, stage.ghost[$RedSkull.AlliesInPrison, it])`)
var T7=DU.Ref($poss);
var T8=OObj.MakeFunc(__FUNCS["Red Sk_3"]["169_func"],{$stage: DU.Ref($stage)});
var T9=[T8];
var T10=__RUN.getStaticGlo("List.Map").func({__THIS:T7},...T9);
var T11=DU.ReadReturn(T10,1);
$list=T11;
//  await $DoChecklist(stage, "Victory", $GT(textdata), list, null, true)
var T13=DU.Ref($stage);
var T14="Victory";
var T15=new OObj();
var T16="Which allies are underneath the Hydra Prison side scheme?";
OObj.SetChild(T15,0,T16);
var T18="";
OObj.SetChild(T15,1,T18);
var T20="**These allies cannot be included in any deck for the remainder of the campaign.**";
OObj.SetChild(T15,2,T20);
var T22="";
OObj.SetChild(T15,3,T22);
var T24=[T15];
var T25=__RUN.getStaticGlo("GT").func(null,...T24);
var T26=DU.ReadReturn(T25,1);
var T27=DU.Ref($list);
var T28=null;
var T29=true;
var T31=[T13,T14,T26,T27,T28,T29];
var T32=await __RUN.getStaticGlo("Slide.CheckList.DoChecklist").func(null,...T31);
var T33=DU.ReadReturn(T32,1);
return [];
},
"169_func" : function(__DIV){
var $it,$stage;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($it);
var T2=null;
var T3=OObj.MakeFunc(__FUNCS["Red Sk_3"]["182_func-1"],{$it: DU.Ref($it),$stage: DU.Ref($stage)});
var T4=DU.Ref($stage);
var T5=OObj.DotAccess(T4,"ghost");
var T6="allies in prison";
var T7=DU.Ref($it);
var T8=OObj.GetPath(T5,[T6,T7]);
var T9=[T1,T2,T3,T8];
var T10=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T9);
var T11=DU.ReadReturn(T10,1);
return [T11];},
"182_func-1" : function(__DIV){
var $stage,$it;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
//  stage.delta[$RedSkull.AlliesInPrison, it] : true
var T1=true;
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"delta");
var T4="allies in prison";
var T5=DU.Ref($it);
OObj.SetPath(T3,[T4,T5],T1);
return [];
},
"195_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
var T2=[T1];
var T3=__RUN.getStaticGlo("RedSkull.IfUpgradeConditions").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [T4];},
"208_func181" : async function(__DIV, $stage){
var $text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @text : "Which players ended the game in hero form?"
var T1="Which players ended the game in hero form?";
$text=T1;
//  await $RedSkull.DoUpgradeCondition(stage)
var T3=DU.Ref($stage);
var T5=[T3];
var T6=await __RUN.getStaticGlo("RedSkull.DoUpgradeCondition").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
return [];
},
"221_func215" : async function(__DIV, $stage){
var $cnt,$text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @cnt : stage.state[$RedSkull.DelayCounters] ? 1
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3="delay counters";
var T4=OObj.GetPath(T2,[T3]);
if(T4 != null)
{
var T7=T4;
}else{
var T7=1;
}$cnt=T7;
//  if stage.state.$Campaign.State.IsExpert()
var T9=DU.Ref($stage);
var T10=OObj.DotAccess(T9,"state");
if(OObj.HasChildKey(T10,"isExpertMode"))
{
var T11=T10;
var T12=OObj.DotAccess(T11,"isExpertMode");
}else {var T12=null;}
if(T12 != null)
{
var T15=T12;
}else{
var T15=false;
}if(T15)
{
//  cnt *: stage.state.players
var T17=DU.Ref($cnt);
var T18=DU.Ref($stage);
var T19=OObj.DotAccess(T18,"state");
var T20=OObj.DotAccess(T19,"players");
var T21=gVal(T17)*gVal(T20);
$cnt=T21;
}//  @text : "Place <em><b>" + cnt + "</b></em> threat counters on the main scheme."
var T24="Place <em><b>";
var T25=DU.Ref($cnt);
var T26=gVal(T24)+gVal(T25);
var T27="</b></em> threat counters on the main scheme.";
var T28=gVal(T26)+gVal(T27);
$text=T28;
//  await $Slide.DoSimplePopup(stage, "Setup", text)
var T30=DU.Ref($stage);
var T31="Setup";
var T32=DU.Ref($text);
var T34=[T30,T31,T32];
var T35=await __RUN.getStaticGlo("Slide.DoSimplePopup").func(null,...T34);
var T36=DU.ReadReturn(T35,1);
return [];
},
"234_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
var T2=[T1];
var T3=__RUN.getStaticGlo("RedSkull.IfEnemyEngaged").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [T4];},
"247_func227" : async function(__DIV, $stage){
var $text;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @text : "Players engaged with an enemy after the last mission deal themselves an encounter card"
var T1="Players engaged with an enemy after the last mission deal themselves an encounter card";
$text=T1;
//  await $CheckList.DoPlayerSpecificInstructions(stage, "Setup", text, lambda(player))
var T3=DU.Ref($stage);
var T4="Setup";
var T5=DU.Ref($text);
var T6=OObj.MakeFunc(__FUNCS["Red Sk_3"]["260_func229"],{});
var T8=[T3,T4,T5,T6];
var T9=await __RUN.getStaticGlo("Slide.CheckList.DoPlayerSpecificInstructions").func(null,...T8);
var T10=DU.ReadReturn(T9,1);
return [];
},
"260_func229" : function(__DIV, $player){
var $$sOut2;
if('$player' in __DIV.capture){$player=__DIV.capture["$player"];}
//  player[$RedSkull.EnemyEngaged] ? false : "Deal 1 face down encounter card"
var T2=DU.Ref($player);
var T3="enemy engaged";
var T4=OObj.GetPath(T2,[T3]);
if(T4 != null)
{
var T7=T4;
}else{
var T7=false;
}if(T7)
{
var T9="Deal 1 face down encounter card";
$$sOut2=T9;
}else
{
//  else : ""
var T12="";
$$sOut2=T12;
}var T14=DU.Ref($$sOut2);
return [T14];},
"273_func236" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  stage.delta[$Campaign.Defeated] : true
var T1=true;
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"delta");
var T4="defeated";
OObj.SetPath(T3,[T4],T1);
return [];
},
"286_func240" : function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  stage.delta[$Campaign.Complete] : true
var T1=true;
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"delta");
var T4="complete";
OObj.SetPath(T3,[T4],T1);
return [];
},
"299_func248" : function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  stage.delta[$Campaign.Victory] : true
var T1=true;
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"delta");
var T4="victory";
OObj.SetPath(T3,[T4],T1);
return [];
},
"312::TooltipGen" : function(__DIV, $state, $player){
var $tooltip,$addCard,$remCard,$$iter2,$key,$$struct3,$$key4,$$$key45,$card,$$struct6,$$card7,$$iter8,$it,$$iter9;
//  @addCard : dim()
var T2=new OObj();
$addCard=T2;
//  @remCard : dim()
var T4=new OObj();
$remCard=T4;
//  for @key : dim($TechUp, $Condition)
var T6=new OObj();
var T7="tech upgrade";
OObj.SetChild(T6,0,T7);
var T9="condition";
OObj.SetChild(T6,1,T9);
var T11=DU.MakeIter(T6);
$$iter2=T11;
for(var T13=0;;T13++)
{
if(T13>0)
{
var T14=DU.Ref($$iter2);
T14.Next();
}var T16=DU.Ref($$iter2);
var T17=T16.iter.done;
var T18=!T17;
if(!T18){break;}
var T20=DU.Ref($$iter2);
var T21=T20.iter.value[0];
$key=T21;
//  if player[key] != null
var T23=DU.Ref($player);
var T24=DU.Ref($key);
var T25=OObj.GetPath(T23,[T24]);
var T26=null;
var T27=!DU.AreEqual(T25,T26);
if(T27)
{
//  addCard.$List.Add(player[key])
var T29=DU.Ref($addCard);
var T30=DU.Ref($player);
var T31=DU.Ref($key);
var T32=OObj.GetPath(T30,[T31]);
var T33=[T32];
var T34=__RUN.getStaticGlo("List.Add").func({__THIS:T29},...T33);
var T35=DU.ReadReturn(T34,1);
}continue;
}//  for @card of player[$AlliesUnlocked] ? dim()
var T39=$key;
$key=undefined;
var T41=DU.Ref($player);
var T42="allies";
var T43=OObj.GetPath(T41,[T42]);
if(T43 != null)
{
var T46=T43;
}else{
var T46=new OObj();
}$$struct3=T46;
var T48=DU.Ref($$struct3);
var T49=OObj.getFirstKey(T48);
$$key4=T49;
for(var T51=0;;T51++)
{
if(T51>0)
{
var T52=DU.Ref($$struct3);
var T53=DU.Ref($$key4);
var T54=OObj.getNextKey(T52,T53);
var T55=$$key4;
$$key4=null;
$$$key45=T55;
$$key4=T54;
}var T58=DU.Ref($$key4);
var T59=T58 != null;
if(!T59){break;}
var T61=DU.Ref($$struct3);
var T62=DU.Ref($$key4);
var T63=OObj.GetPath(T61,[T62]);
$card=T63;
//  if state[$AlliesInPrison, card] ? false
var T65=DU.Ref($state);
var T66="allies in prison";
var T67=DU.Ref($card);
var T68=OObj.GetPath(T65,[T66,T67]);
if(T68 != null)
{
var T71=T68;
}else{
var T71=false;
}if(T71)
{
//  remCard.$List.Add(card)
var T73=DU.Ref($remCard);
var T74=DU.Ref($card);
var T75=[T74];
var T76=__RUN.getStaticGlo("List.Add").func({__THIS:T73},...T75);
var T77=DU.ReadReturn(T76,1);
}else
{
//  else
//  addCard.$List.Add(card)
var T81=DU.Ref($addCard);
var T82=DU.Ref($card);
var T83=[T82];
var T84=__RUN.getStaticGlo("List.Add").func({__THIS:T81},...T83);
var T85=DU.ReadReturn(T84,1);
}continue;
}//  for @card in player[$Obligations] ? dim()
var T88=$$$key45;
$$$key45=null;
$$key4=T88;
var T90=$card;
$card=undefined;
var T92=DU.Ref($player);
var T93="obligations";
var T94=OObj.GetPath(T92,[T93]);
if(T94 != null)
{
var T97=T94;
}else{
var T97=new OObj();
}$$struct6=T97;
var T99=DU.Ref($$struct6);
var T100=OObj.getFirstKey(T99);
$card=T100;
for(var T102=0;;T102++)
{
if(T102>0)
{
var T103=DU.Ref($$struct6);
var T104=DU.Ref($card);
var T105=OObj.getNextKey(T103,T104);
var T106=$card;
$card=null;
$$card7=T106;
$card=T105;
}var T109=DU.Ref($card);
var T110=T109 != null;
if(!T110){break;}
//  addCard.$List.Add(card)
var T112=DU.Ref($addCard);
var T113=DU.Ref($card);
var T114=[T113];
var T115=__RUN.getStaticGlo("List.Add").func({__THIS:T112},...T114);
var T116=DU.ReadReturn(T115,1);
continue;
}//  if addCard.$Obj.HasChildren()
var T119=$$card7;
$$card7=null;
$card=T119;
var T122=DU.Ref($addCard);
var T123=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T122});
var T124=DU.ReadReturn(T123,1);
if(T124)
{
//  tooltip : "Additional Cards:"
var T126="Additional Cards:";
$tooltip=T126;
//  for addCard
var T128=DU.Ref($addCard);
var T129=DU.MakeIter(T128);
$$iter8=T129;
for(var T131=0;;T131++)
{
if(T131>0)
{
var T132=DU.Ref($$iter8);
T132.Next();
}var T134=DU.Ref($$iter8);
var T135=T134.iter.done;
var T136=!T135;
if(!T136){break;}
var T138=DU.Ref($$iter8);
var T139=T138.iter.value[0];
$it=T139;
//  tooltip +: "\n\n" + "* *" + it + "*"
var T141=DU.Ref($tooltip);
var T142="\n\n";
var T143="* *";
var T144=gVal(T142)+gVal(T143);
var T145=DU.Ref($it);
var T146=gVal(T144)+gVal(T145);
var T147="*";
var T148=gVal(T146)+gVal(T147);
var T149=gVal(T141)+gVal(T148);
$tooltip=T149;
continue;
}//  for remCard
var T152=$it;
$it=undefined;
var T154=DU.Ref($remCard);
var T155=DU.MakeIter(T154);
$$iter9=T155;
for(var T157=0;;T157++)
{
if(T157>0)
{
var T158=DU.Ref($$iter9);
T158.Next();
}var T160=DU.Ref($$iter9);
var T161=T160.iter.done;
var T162=!T161;
if(!T162){break;}
var T164=DU.Ref($$iter9);
var T165=T164.iter.value[0];
$it=T165;
//  tooltip +: "\n\n" + "* ~~" + it + "~~"
var T167=DU.Ref($tooltip);
var T168="\n\n";
var T169="* ~~";
var T170=gVal(T168)+gVal(T169);
var T171=DU.Ref($it);
var T172=gVal(T170)+gVal(T171);
var T173="~~";
var T174=gVal(T172)+gVal(T173);
var T175=gVal(T167)+gVal(T174);
$tooltip=T175;
continue;
}var T178=$it;
$it=undefined;
}return [$tooltip];
},
"325::HealSlide" : function(__DIV){
var $slide;
//  => $IfCanHeal($Create(lambda(stage => async)))
var T0=OObj.MakeFunc(__FUNCS["Red Sk_3"]["338_func292"],{});
var T1=[T0];
var T2=__RUN.getStaticGlo("Slide.Create").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
var T4=[T3];
var T5=__RUN.getStaticGlo("RedSkull.IfCanHeal").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
$slide=T6;
return [$slide];
},
"338_func292" : async function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoHeal(stage)
var T1=DU.Ref($stage);
var T3=[T1];
var T4=await __RUN.getStaticGlo("RedSkull.DoHeal").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"351::IfCanHeal" : function(__DIV, $subSlide){
var $slide;
//  => $If(lambda(state => bool), free subSlide)
var T1=OObj.MakeFunc(__FUNCS["Red Sk_3"]["364_func296"],{});
var T2=$subSlide;
$subSlide=undefined;
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("Slide.If").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$slide=T5;
return [$slide];
},
"364_func296" : function(__DIV, $state){
var $bool,$$struct2,$idx,$$idx3,$hero;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
//  if !state.$Campaign.State.IsExpert()
var T1=DU.Ref($state);
if(OObj.HasChildKey(T1,"isExpertMode"))
{
var T2=T1;
var T3=OObj.DotAccess(T2,"isExpertMode");
}else {var T3=null;}
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}var T7=!T6;
if(T7)
{
//  return false
var T9=false;
$bool=T9;
return [$bool];
}//  for @idx in state.player
var T13=DU.Ref($state);
var T14=OObj.DotAccess(T13,"player");
$$struct2=T14;
var T16=DU.Ref($$struct2);
var T17=OObj.getFirstKey(T16);
$idx=T17;
for(var T19=0;;T19++)
{
if(T19>0)
{
var T20=DU.Ref($$struct2);
var T21=DU.Ref($idx);
var T22=OObj.getNextKey(T20,T21);
var T23=$idx;
$idx=null;
$$idx3=T23;
$idx=T22;
}var T26=DU.Ref($idx);
var T27=T26 != null;
if(!T27){break;}
//  @hero : state.$Campaign.State.GetHero(idx)
var T29=DU.Ref($state);
var T30=DU.Ref($idx);
var T31=[T30];
var T32=__RUN.getStaticGlo("Campaign.State.GetHero").func({__THIS:T29},...T31);
var T33=DU.ReadReturn(T32,1);
$hero=T33;
//  if state.$Campaign.State.GetHp(idx) < hero.$Heroes.GetHp()
var T35=DU.Ref($state);
var T36="player";
var T37=DU.Ref($idx);
var T38="hp";
var T39=OObj.GetPath(T35,[T36,T37,T38]);
if(T39 != null)
{
var T42=T39;
}else{
var T42=0;
}var T43=DU.Ref($hero);
var T44=OObj.DotAccess(T43,"hp");
var T45=gVal(T42) < gVal(T44);
if(T45)
{
//  return true
var T47=true;
$bool=T47;
return [$bool];
}continue;
}//  return false
var T52=$$idx3;
$$idx3=null;
$idx=T52;
var T54=$hero;
$hero=undefined;
var T56=false;
$bool=T56;
return [$bool];
},
"377::SetupTechCards" : function(__DIV){
var $slide;
//  => $Setup(textdata)
var T0=new OObj();
var T1="Each player searches their deck for all cards with the setup keyword and puts them into play.";
OObj.SetChild(T0,0,T1);
var T3="";
OObj.SetChild(T0,1,T3);
var T5=[T0];
var T6=__RUN.getStaticGlo("Slide.Setup").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
$slide=T7;
return [$slide];
},
"390::IfWeapons" : function(__DIV, $state){
var $bool;
//  => state[$Weapon] != null
var T1=DU.Ref($state);
var T2="experimental weapon";
var T3=OObj.GetPath(T1,[T2]);
var T4=null;
var T5=!DU.AreEqual(T3,T4);
$bool=T5;
return [$bool];
},
"403::SetupWeapons" : function(__DIV){
var $slide,$lbl;
//  @lbl : $GT(textdata)
var T0=new OObj();
var T1="Shuffle each *EXPERIMENTAL* attachment recorded in the capaign log into the encounter deck";
OObj.SetChild(T0,0,T1);
var T3=[T0];
var T4=__RUN.getStaticGlo("GT").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$lbl=T5;
//  slide : $Slide.If(`$IfWeapons(state)`, $CheckList("Experimental Weapons", dim, lbl, $Img.PowerGauntlets))
var T7=OObj.MakeFunc(__FUNCS["Red Sk_3"]["416_func"],{});
var T8="Experimental Weapons";
var T9=new OObj();
//  $CheckList.MakeCheck("Laser Rifle", `stage.state[$Weapon, "Laser Rifle"] ? false`)
var T10="Laser Rifle";
var T11=OObj.MakeFunc(__FUNCS["Red Sk_3"]["429_func"],{});
var T12=[T10,T11];
var T13=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T12);
var T14=DU.ReadReturn(T13,1);
OObj.SetChild(T9,0,T14);
//  $CheckList.MakeCheck("Energy Shield", `stage.state[$Weapon, "Energy Shield"] ? false`)
var T16="Energy Shield";
var T17=OObj.MakeFunc(__FUNCS["Red Sk_3"]["442_func"],{});
var T18=[T16,T17];
var T19=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T18);
var T20=DU.ReadReturn(T19,1);
OObj.SetChild(T9,1,T20);
//  $CheckList.MakeCheck("Power Gauntlets", `stage.state[$Weapon, "Power Gauntlets"] ? false`)
var T22="Power Gauntlets";
var T23=OObj.MakeFunc(__FUNCS["Red Sk_3"]["455_func"],{});
var T24=[T22,T23];
var T25=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T24);
var T26=DU.ReadReturn(T25,1);
OObj.SetChild(T9,2,T26);
//  $CheckList.MakeCheck("Exo Suit", `stage.state[$Weapon, "Exo Suit"] ? false`)
var T28="Exo Suit";
var T29=OObj.MakeFunc(__FUNCS["Red Sk_3"]["468_func"],{});
var T30=[T28,T29];
var T31=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T30);
var T32=DU.ReadReturn(T31,1);
OObj.SetChild(T9,3,T32);
var T34=DU.Ref($lbl);
var T35=DU.Ref(__RUN.getStaticGlo("Img.PowerGauntlets"));
var T36=[T8,T9,T34,T35];
var T37=__RUN.getStaticGlo("Slide.CheckList").func(null,...T36);
var T38=DU.ReadReturn(T37,1);
var T39=[T7,T38];
var T40=__RUN.getStaticGlo("Slide.If").func(null,...T39);
var T41=DU.ReadReturn(T40,1);
$slide=T41;
return [$slide];
},
"416_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
var T2="experimental weapon";
var T3=OObj.GetPath(T1,[T2]);
var T4=null;
var T5=!DU.AreEqual(T3,T4);
return [T5];},
"429_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3="experimental weapon";
var T4="Laser Rifle";
var T5=OObj.GetPath(T2,[T3,T4]);
if(T5 != null)
{
var T8=T5;
}else{
var T8=false;
}return [T8];},
"442_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3="experimental weapon";
var T4="Energy Shield";
var T5=OObj.GetPath(T2,[T3,T4]);
if(T5 != null)
{
var T8=T5;
}else{
var T8=false;
}return [T8];},
"455_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3="experimental weapon";
var T4="Power Gauntlets";
var T5=OObj.GetPath(T2,[T3,T4]);
if(T5 != null)
{
var T8=T5;
}else{
var T8=false;
}return [T8];},
"468_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
var T3="experimental weapon";
var T4="Exo Suit";
var T5=OObj.GetPath(T2,[T3,T4]);
if(T5 != null)
{
var T8=T5;
}else{
var T8=false;
}return [T8];},
"481::DoPickNumbers" : async function(__DIV, $stage){
var $pipe,$$parTmp2,$$$sOut23,$pop,$container,$assignments,$$struct4,$idx,$$idx5,$hero,$num;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : dim $Popup.Create("Obligations")
var T10="Obligations";
var T11=[T10];
var T12=__RUN.getStaticGlo("Popup.Create").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T14=DU.Ref(T13);
var T15=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T16=DU.ReadReturn(T15,1);
//  mixin $SetHtml($MarkdownToHtml($GTW(textdata)))
var T17=DU.Ref(T16);
var T18=new OObj();
var T19="Each player is assigned a number 1 to 4.";
OObj.SetChild(T18,0,T19);
var T21="This number corresponds to obligations which might later be added to the player's deck.";
OObj.SetChild(T18,1,T21);
var T23="";
OObj.SetChild(T18,2,T23);
$$parTmp2=T18;
var T28=DU.Ref($$parTmp2);
var T29=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T28});
var T30=DU.ReadReturn(T29,1);
if(T30)
{
var T32=DU.Ref($$parTmp2);
var T33=" ";
var T34=[T33];
var T35=__RUN.getStaticGlo("List.Join").func({__THIS:T32},...T34);
var T36=DU.ReadReturn(T35,1);
$$$sOut23=T36;
}else
{
var T39=DU.Ref($$parTmp2);
$$$sOut23=T39;
}var T41=DU.Ref($$$sOut23);
var T42=[T41];
var T43=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T42);
var T44=DU.ReadReturn(T43,1);
var T45=[T44];
var T46=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T17},...T45);
var T47=[T16];
var T48=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T14},...T47);
$pop=T13;
//  @container : pop.$AppendChild(dim $Div.Create())
var T50=DU.Ref($pop);
var T51="div";
var T52=[T51];
var T53=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T52);
var T54=DU.ReadReturn(T53,1);
//  mixin $Style.AddClasses("numberAssignments")
var T55=DU.Ref(T54);
var T56="numberAssignments";
var T57=[T56];
var T58=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T55},...T57);
var T59=[T54];
var T60=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T50},...T59);
var T61=DU.ReadReturn(T60,1);
$container=T61;
//  @assignments : dim(1,2,3,4)
var T63=new OObj();
var T64=1;
OObj.SetChild(T63,0,T64);
var T66=2;
OObj.SetChild(T63,1,T66);
var T68=3;
OObj.SetChild(T63,2,T68);
var T70=4;
OObj.SetChild(T63,3,T70);
$assignments=T63;
//  assignments.$List.Shuffle()
var T73=DU.Ref($assignments);
var T74=__RUN.getStaticGlo("List.Shuffle").func({__THIS:T73});
var T75=DU.ReadReturn(T74,1);
//  for @idx in stage.state.player
var T77=DU.Ref($stage);
var T78=OObj.DotAccess(T77,"state");
var T79=OObj.DotAccess(T78,"player");
$$struct4=T79;
var T81=DU.Ref($$struct4);
var T82=OObj.getFirstKey(T81);
$idx=T82;
for(var T84=0;;T84++)
{
if(T84>0)
{
var T85=DU.Ref($$struct4);
var T86=DU.Ref($idx);
var T87=OObj.getNextKey(T85,T86);
var T88=$idx;
$idx=null;
$$idx5=T88;
$idx=T87;
}var T91=DU.Ref($idx);
var T92=T91 != null;
if(!T92){break;}
//  @hero : $Heroes.LookupByName(stage.state.player[idx].hero)
var T94=DU.Ref($stage);
var T95=OObj.DotAccess(T94,"state");
var T96=OObj.DotAccess(T95,"player");
var T97=DU.Ref($idx);
var T98=OObj.GetPath(T96,[T97]);
var T99=OObj.DotAccess(T98,"hero");
var T100=[T99];
var T101=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T100);
var T102=DU.ReadReturn(T101,1);
$hero=T102;
//  @num : assignments[idx - 1]
var T104=DU.Ref($assignments);
var T105=DU.Ref($idx);
var T106=1;
var T107=gVal(T105)-gVal(T106);
var T108=OObj.GetPath(T104,[T107]);
$num=T108;
//  stage.delta["player",idx,"obligationNum"] : num
var T110=DU.Ref($num);
var T111=DU.Ref($stage);
var T112=OObj.DotAccess(T111,"delta");
var T113="player";
var T114=DU.Ref($idx);
var T115="obligationNum";
OObj.SetPath(T112,[T113,T114,T115],T110);
//  container.$AppendChild(dim $Div.Create())
var T117=DU.Ref($container);
var T118="div";
var T119=[T118];
var T120=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T119);
var T121=DU.ReadReturn(T120,1);
//  mixin $Style.AddClasses("assigned")
var T122=DU.Ref(T121);
var T123="assigned";
var T124=[T123];
var T125=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T122},...T124);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T126=DU.Ref(T121);
var T127=DU.Ref($hero);
var T128=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T127});
var T129=DU.ReadReturn(T128,1);
var T130=[T129];
var T131=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T126},...T130);
//  mixin $AppendChild($Paragraph.Create("" + num))
var T132=DU.Ref(T121);
var T133="";
var T134=DU.Ref($num);
var T135=gVal(T133)+gVal(T134);
var T136=[T135];
var T137=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T136);
var T138=DU.ReadReturn(T137,1);
var T139=[T138];
var T140=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T132},...T139);
var T141=[T121];
var T142=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T117},...T141);
var T143=DU.ReadReturn(T142,1);
continue;
}//  pop.$Popup.AddBotRightButton(lambda)
var T146=$$idx5;
$$idx5=null;
$idx=T146;
var T148=$hero;
$hero=undefined;
var T150=$num;
$num=undefined;
var T152=DU.Ref($pop);
var T153=OObj.MakeFunc(__FUNCS["Red Sk_3"]["494_func346"],{$pipe: DU.Ref($pipe)});
var T154=[T153];
var T155=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T152},...T154);
var T156=DU.ReadReturn(T155,1);
//  $Slide.HookAdvance(stage, lambda)
var T158=DU.Ref($stage);
var T159=OObj.MakeFunc(__FUNCS["Red Sk_3"]["507_func349"],{$pipe: DU.Ref($pipe)});
var T160=[T158,T159];
var T161=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T160);
var T162=DU.ReadReturn(T161,1);
//  await pipe.$Pipe.ReadAsync()
var T164=DU.Ref($pipe);
var T166=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T164});
var T167=DU.ReadReturn(T166,1);
//  pop.$Style.AddClasses("fadingOut")
var T169=DU.Ref($pop);
var T170="fadingOut";
var T171=[T170];
var T172=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T169},...T171);
var T173=DU.ReadReturn(T172,1);
//  await $Job.Pause(50)
var T175=50;
var T177=[T175];
var T178=await __RUN.getStaticGlo("Job.Pause").func(null,...T177);
var T179=DU.ReadReturn(T178,1);
return [];
},
"494_func346" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"507_func349" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"520::DoDistributeVictory" : async function(__DIV, $stage, $key, $text, $cards){
var $pipe,$$$sOut22,$pop,$container,$selectors,$$struct3,$idx,$$idx4,$hero,$alive,$playerCard,$rightPane,$drop,$$iter5,$it,$$idx6,$$idx7,$pick,$val;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T4=DU.Ref($stage);
var T5=OObj.DotAccess(T4,"ct");
var T6=OObj.DotAccess(T5,"pipes");
var T7=__RUN.getStaticGlo("Pipe.Create").func(null);
var T8=DU.ReadReturn(T7,1);
var T9=[T8];
var T10=__RUN.getStaticGlo("List.Add").func({__THIS:T6},...T9);
var T11=DU.ReadReturn(T10,1);
$pipe=T11;
//  @pop : dim $Popup.Create("Victory")
var T13="Victory";
var T14=[T13];
var T15=__RUN.getStaticGlo("Popup.Create").func(null,...T14);
var T16=DU.ReadReturn(T15,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T17=DU.Ref(T16);
var T18=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T19=DU.ReadReturn(T18,1);
//  mixin $SetHtml($MarkdownToHtml($GTW(text)))
var T20=DU.Ref(T19);
var T23=DU.Ref($text);
var T24=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T23});
var T25=DU.ReadReturn(T24,1);
if(T25)
{
var T27=DU.Ref($text);
var T28=" ";
var T29=[T28];
var T30=__RUN.getStaticGlo("List.Join").func({__THIS:T27},...T29);
var T31=DU.ReadReturn(T30,1);
$$$sOut22=T31;
}else
{
var T34=DU.Ref($text);
$$$sOut22=T34;
}var T36=DU.Ref($$$sOut22);
var T37=[T36];
var T38=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T37);
var T39=DU.ReadReturn(T38,1);
var T40=[T39];
var T41=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T20},...T40);
var T42=[T19];
var T43=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T17},...T42);
$pop=T16;
//  @container : pop.$AppendChild(dim $Div.Create())
var T45=DU.Ref($pop);
var T46="div";
var T47=[T46];
var T48=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T47);
var T49=DU.ReadReturn(T48,1);
//  mixin $Style.AddClasses("playerCardAssign")
var T50=DU.Ref(T49);
var T51="playerCardAssign";
var T52=[T51];
var T53=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T50},...T52);
var T54=[T49];
var T55=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T45},...T54);
var T56=DU.ReadReturn(T55,1);
$container=T56;
//  @selectors : dim() // not every hero gets a selector!
var T58=new OObj();
$selectors=T58;
//  for @idx in stage.state.player
var T60=DU.Ref($stage);
var T61=OObj.DotAccess(T60,"state");
var T62=OObj.DotAccess(T61,"player");
$$struct3=T62;
var T64=DU.Ref($$struct3);
var T65=OObj.getFirstKey(T64);
$idx=T65;
for(var T67=0;;T67++)
{
if(T67>0)
{
var T68=DU.Ref($$struct3);
var T69=DU.Ref($idx);
var T70=OObj.getNextKey(T68,T69);
var T71=$idx;
$idx=null;
$$idx4=T71;
$idx=T70;
}var T74=DU.Ref($idx);
var T75=T74 != null;
if(!T75){break;}
//  @hero : stage.state.$Campaign.State.GetHero(idx)
var T77=DU.Ref($stage);
var T78=OObj.DotAccess(T77,"state");
var T79=DU.Ref($idx);
var T80=[T79];
var T81=__RUN.getStaticGlo("Campaign.State.GetHero").func({__THIS:T78},...T80);
var T82=DU.ReadReturn(T81,1);
$hero=T82;
//  @alive : !stage.state.$Campaign.State.IsExpert() | stage.state.$Campaign.State.GetHp(idx) > 0
var T84=DU.Ref($stage);
var T85=OObj.DotAccess(T84,"state");
if(OObj.HasChildKey(T85,"isExpertMode"))
{
var T86=T85;
var T87=OObj.DotAccess(T86,"isExpertMode");
}else {var T87=null;}
if(T87 != null)
{
var T90=T87;
}else{
var T90=false;
}var T91=!T90;
if(!!T91)
{
var T104=true;
}else{
var T94=DU.Ref($stage);
var T95=OObj.DotAccess(T94,"state");
var T96="player";
var T97=DU.Ref($idx);
var T98="hp";
var T99=OObj.GetPath(T95,[T96,T97,T98]);
if(T99 != null)
{
var T102=T99;
}else{
var T102=0;
}var T103=0;
var T104=gVal(T102) > gVal(T103);
}$alive=T104;
//  @playerCard : container.$AppendChild(dim $Div.Create())
var T106=DU.Ref($container);
var T107="div";
var T108=[T107];
var T109=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T108);
var T110=DU.ReadReturn(T109,1);
//  mixin $Style.AddClasses("player")
var T111=DU.Ref(T110);
var T112="player";
var T113=[T112];
var T114=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T111},...T113);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T115=DU.Ref(T110);
var T116=DU.Ref($hero);
var T117=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T116});
var T118=DU.ReadReturn(T117,1);
var T119=[T118];
var T120=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T115},...T119);
var T121=[T110];
var T122=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T106},...T121);
var T123=DU.ReadReturn(T122,1);
$playerCard=T123;
//  if !alive
var T125=DU.Ref($alive);
var T126=!T125;
if(T126)
{
//  playerCard.$Style.AddClasses("dead")
var T128=DU.Ref($playerCard);
var T129="dead";
var T130=[T129];
var T131=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T128},...T130);
var T132=DU.ReadReturn(T131,1);
}//  @rightPane : playerCard.$AppendChild(dim $Div.Create())
var T135=DU.Ref($playerCard);
var T136="div";
var T137=[T136];
var T138=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T137);
var T139=DU.ReadReturn(T138,1);
//  mixin $Style.AddClasses("pickers")
var T140=DU.Ref(T139);
var T141="pickers";
var T142=[T141];
var T143=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T140},...T142);
var T144=[T139];
var T145=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T135},...T144);
var T146=DU.ReadReturn(T145,1);
$rightPane=T146;
//  if alive
var T148=DU.Ref($alive);
if(T148)
{
//  @drop : rightPane.$AppendChild(dim $Dropdown.Create())
var T150=DU.Ref($rightPane);
var T151="select";
var T152=[T151];
var T153=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T152);
var T154=DU.ReadReturn(T153,1);
//  mixin $Dropdown.AddOption("")
var T155=DU.Ref(T154);
var T156="";
var T157=[T156];
var T158=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T155},...T157);
var T159=[T154];
var T160=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T150},...T159);
var T161=DU.ReadReturn(T160,1);
$drop=T161;
//  for cards
var T163=DU.Ref($cards);
var T164=DU.MakeIter(T163);
$$iter5=T164;
for(var T166=0;;T166++)
{
if(T166>0)
{
var T167=DU.Ref($$iter5);
T167.Next();
}var T169=DU.Ref($$iter5);
var T170=T169.iter.done;
var T171=!T170;
if(!T171){break;}
var T173=DU.Ref($$iter5);
var T174=T173.iter.value[0];
$it=T174;
//  drop.$Dropdown.AddOption(it, it)
var T176=DU.Ref($drop);
var T177=DU.Ref($it);
var T178=DU.Ref($it);
var T179=[T177,T178];
var T180=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T176},...T179);
var T181=DU.ReadReturn(T180,1);
continue;
}//  drop.$Dropdown.SetValue(stage.ghost["player", idx, key] ? "")
var T184=$it;
$it=undefined;
var T186=DU.Ref($drop);
var T187="value";
var T188=DU.Ref($stage);
var T189=OObj.DotAccess(T188,"ghost");
var T190="player";
var T191=DU.Ref($idx);
var T192=DU.Ref($key);
var T193=OObj.GetPath(T189,[T190,T191,T192]);
if(T193 != null)
{
var T196=T193;
}else{
var T196="";
}var T197=[T187,T196];
var T198=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T186},...T197);
var T199=DU.ReadReturn(T198,1);
//  selectors[idx] : drop
var T201=DU.Ref($drop);
var T202=DU.Ref($selectors);
var T203=DU.Ref($idx);
OObj.SetPath(T202,[T203],T201);
}else
{
//  else
var T206=$drop;
$drop=undefined;
var T208=$$iter5;
$$iter5=undefined;
//  rightPane.$AppendChild(dim $Paragraph.Create("Recovering (not participating)"))
var T211=DU.Ref($rightPane);
var T212="Recovering (not participating)";
var T213=[T212];
var T214=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T213);
var T215=DU.ReadReturn(T214,1);
var T216=[T215];
var T217=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T211},...T216);
var T218=DU.ReadReturn(T217,1);
}continue;
}//  pop.$Popup.AddBotRightButton(lambda)
var T221=$$idx4;
$$idx4=null;
$idx=T221;
var T223=$hero;
$hero=undefined;
var T225=$alive;
$alive=undefined;
var T227=$playerCard;
$playerCard=undefined;
var T229=$rightPane;
$rightPane=undefined;
var T231=DU.Ref($pop);
var T232=OObj.MakeFunc(__FUNCS["Red Sk_3"]["533_func389"],{$pipe: DU.Ref($pipe)});
var T233=[T232];
var T234=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T231},...T233);
var T235=DU.ReadReturn(T234,1);
//  $Slide.HookAdvance(stage, lambda)
var T237=DU.Ref($stage);
var T238=OObj.MakeFunc(__FUNCS["Red Sk_3"]["546_func392"],{$pipe: DU.Ref($pipe)});
var T239=[T237,T238];
var T240=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T239);
var T241=DU.ReadReturn(T240,1);
//  await pipe.$Pipe.ReadAsync()
var T243=DU.Ref($pipe);
var T245=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T243});
var T246=DU.ReadReturn(T245,1);
//  for @pick of selectors at @idx
var T248=DU.Ref($selectors);
var T249=OObj.getFirstKey(T248);
var T250=$idx;
$idx=null;
$$idx6=T250;
$idx=T249;
for(var T253=0;;T253++)
{
if(T253>0)
{
var T254=DU.Ref($selectors);
var T255=DU.Ref($idx);
var T256=OObj.getNextKey(T254,T255);
var T257=$idx;
$idx=null;
$$idx7=T257;
$idx=T256;
}var T260=DU.Ref($idx);
var T261=T260 != null;
if(!T261){break;}
var T263=DU.Ref($selectors);
var T264=DU.Ref($idx);
var T265=OObj.GetPath(T263,[T264]);
$pick=T265;
//  @val : pick.$Dropdown.GetValue()
var T267=DU.Ref($pick);
var T268="value";
var T269=[T268];
var T270=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T267},...T269);
var T271=DU.ReadReturn(T270,1);
$val=T271;
//  if val != ""
var T273=DU.Ref($val);
var T274="";
var T275=!DU.AreEqual(T273,T274);
if(T275)
{
//  stage.delta["player", idx, key] : val
var T277=DU.Ref($val);
var T278=DU.Ref($stage);
var T279=OObj.DotAccess(T278,"delta");
var T280="player";
var T281=DU.Ref($idx);
var T282=DU.Ref($key);
OObj.SetPath(T279,[T280,T281,T282],T277);
}continue;
}//  pop.$Style.AddClasses("fadingOut")
var T286=$$idx7;
$$idx7=null;
$idx=T286;
var T288=$pick;
$pick=undefined;
var T290=$val;
$val=undefined;
var T292=DU.Ref($pop);
var T293="fadingOut";
var T294=[T293];
var T295=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T292},...T294);
var T296=DU.ReadReturn(T295,1);
//  await $Job.Pause(50)
var T298=50;
var T300=[T298];
var T301=await __RUN.getStaticGlo("Job.Pause").func(null,...T300);
var T302=DU.ReadReturn(T301,1);
return [];
},
"533_func389" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"546_func392" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"559::DoHeal" : async function(__DIV, $stage){
var $pipe,$$parTmp2,$$$sOut23,$pop,$container,$allObligations,$checks,$selectors,$$struct4,$idx,$$idx5,$hp,$hero,$alive,$currOblig,$possOblig,$ghost,$playerCard,$rightPane,$id,$lbl,$paneAdd,$chk,$lblObligation,$$iter6,$it,$pick,$$idx7,$$idx8;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : dim $Popup.Create("Persistent Damage")
var T10="Persistent Damage";
var T11=[T10];
var T12=__RUN.getStaticGlo("Popup.Create").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T14=DU.Ref(T13);
var T15=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T16=DU.ReadReturn(T15,1);
//  mixin $SetHtml($MarkdownToHtml($GTW(textdata)))
var T17=DU.Ref(T16);
var T18=new OObj();
var T19="Each player may heal to full health by adding an obligation from their";
OObj.SetChild(T18,0,T19);
var T21="expert-campaign set to their deck.";
OObj.SetChild(T18,1,T21);
var T23="";
OObj.SetChild(T18,2,T23);
$$parTmp2=T18;
var T28=DU.Ref($$parTmp2);
var T29=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T28});
var T30=DU.ReadReturn(T29,1);
if(T30)
{
var T32=DU.Ref($$parTmp2);
var T33=" ";
var T34=[T33];
var T35=__RUN.getStaticGlo("List.Join").func({__THIS:T32},...T34);
var T36=DU.ReadReturn(T35,1);
$$$sOut23=T36;
}else
{
var T39=DU.Ref($$parTmp2);
$$$sOut23=T39;
}var T41=DU.Ref($$$sOut23);
var T42=[T41];
var T43=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T42);
var T44=DU.ReadReturn(T43,1);
var T45=[T44];
var T46=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T17},...T45);
var T47=[T16];
var T48=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T14},...T47);
$pop=T13;
//  @container : pop.$AppendChild(dim $Div.Create())
var T50=DU.Ref($pop);
var T51="div";
var T52=[T51];
var T53=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T52);
var T54=DU.ReadReturn(T53,1);
//  mixin $Style.AddClasses("healing")
var T55=DU.Ref(T54);
var T56="healing";
var T57=[T56];
var T58=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T55},...T57);
var T59=[T54];
var T60=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T50},...T59);
var T61=DU.ReadReturn(T60,1);
$container=T61;
//  @allObligations : dim
var T63=new OObj();
//  "Zola's Algorithm"
var T64="Zola's Algorithm";
OObj.SetChild(T63,0,T64);
//  "Medial Emergency"
var T66="Medial Emergency";
OObj.SetChild(T63,1,T66);
//  "Martial Law"
var T68="Martial Law";
OObj.SetChild(T63,2,T68);
//  "Anti-Hero Propaganda"
var T70="Anti-Hero Propaganda";
OObj.SetChild(T63,3,T70);
$allObligations=T63;
//  @checks : dim()
var T73=new OObj();
$checks=T73;
//  @selectors : dim()
var T75=new OObj();
$selectors=T75;
//  for @idx in stage.state.player
var T77=DU.Ref($stage);
var T78=OObj.DotAccess(T77,"state");
var T79=OObj.DotAccess(T78,"player");
$$struct4=T79;
var T81=DU.Ref($$struct4);
var T82=OObj.getFirstKey(T81);
$idx=T82;
for(var T84=0;;T84++)
{
if(T84>0)
{
var T85=DU.Ref($$struct4);
var T86=DU.Ref($idx);
var T87=OObj.getNextKey(T85,T86);
var T88=$idx;
$idx=null;
$$idx5=T88;
$idx=T87;
}var T91=DU.Ref($idx);
var T92=T91 != null;
if(!T92){break;}
//  @hp : stage.state.$Campaign.State.GetHp(idx)
var T94=DU.Ref($stage);
var T95=OObj.DotAccess(T94,"state");
var T96="player";
var T97=DU.Ref($idx);
var T98="hp";
var T99=OObj.GetPath(T95,[T96,T97,T98]);
if(T99 != null)
{
var T102=T99;
}else{
var T102=0;
}$hp=T102;
//  @hero : stage.state.$Campaign.State.GetHero(idx)
var T104=DU.Ref($stage);
var T105=OObj.DotAccess(T104,"state");
var T106=DU.Ref($idx);
var T107=[T106];
var T108=__RUN.getStaticGlo("Campaign.State.GetHero").func({__THIS:T105},...T107);
var T109=DU.ReadReturn(T108,1);
$hero=T109;
//  @alive : hp > 0
var T111=DU.Ref($hp);
var T112=0;
var T113=gVal(T111) > gVal(T112);
$alive=T113;
//  @currOblig : stage.state.player[idx, $Obligations]
var T115=DU.Ref($stage);
var T116=OObj.DotAccess(T115,"state");
var T117=OObj.DotAccess(T116,"player");
var T118=DU.Ref($idx);
var T119="obligations";
var T120=OObj.GetPath(T117,[T118,T119]);
$currOblig=T120;
//  @possOblig : allObligations.$List.Filter(`!currOblig[it]`)
var T122=DU.Ref($allObligations);
var T123=OObj.MakeFunc(__FUNCS["Red Sk_3"]["572_func"],{$currOblig: DU.Ref($currOblig),$it: DU.Ref($it)});
var T124=[T123];
var T125=__RUN.getStaticGlo("List.Filter").func({__THIS:T122},...T124);
var T126=DU.ReadReturn(T125,1);
$possOblig=T126;
//  @ghost : stage.ghost["player", idx, $Obligations]
var T128=DU.Ref($stage);
var T129=OObj.DotAccess(T128,"ghost");
var T130="player";
var T131=DU.Ref($idx);
var T132="obligations";
var T133=OObj.GetPath(T129,[T130,T131,T132]);
$ghost=T133;
//  @playerCard : container.$AppendChild(dim $Div.Create())
var T135=DU.Ref($container);
var T136="div";
var T137=[T136];
var T138=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T137);
var T139=DU.ReadReturn(T138,1);
//  mixin $Style.AddClasses("player")
var T140=DU.Ref(T139);
var T141="player";
var T142=[T141];
var T143=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T140},...T142);
//  mixin $Style.SetClassIf("dead", !alive)
var T144=DU.Ref(T139);
var T145="dead";
var T146=DU.Ref($alive);
var T147=!T146;
var T148=[T145,T147];
var T149=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T144},...T148);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T150=DU.Ref(T139);
var T151=DU.Ref($hero);
var T152=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T151});
var T153=DU.ReadReturn(T152,1);
var T154=[T153];
var T155=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T150},...T154);
//  mixin $AppendChild(dim $Div.Create())
var T156=DU.Ref(T139);
var T157="div";
var T158=[T157];
var T159=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T158);
var T160=DU.ReadReturn(T159,1);
//  mixin $AppendChild(dim $Paragraph.Create("HP"))
var T161=DU.Ref(T160);
var T162="HP";
var T163=[T162];
var T164=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T163);
var T165=DU.ReadReturn(T164,1);
//  mixin $Style.AddClasses("hpLbl")
var T166=DU.Ref(T165);
var T167="hpLbl";
var T168=[T167];
var T169=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T166},...T168);
var T170=[T165];
var T171=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T161},...T170);
//  mixin $AppendChild(dim $Paragraph.Create("" + hp + "/" + hero.$Heroes.GetHp()))
var T172=DU.Ref(T160);
var T173="";
var T174=DU.Ref($hp);
var T175=gVal(T173)+gVal(T174);
var T176="/";
var T177=gVal(T175)+gVal(T176);
var T178=DU.Ref($hero);
var T179=OObj.DotAccess(T178,"hp");
var T180=gVal(T177)+gVal(T179);
var T181=[T180];
var T182=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T181);
var T183=DU.ReadReturn(T182,1);
//  mixin $Style.AddClasses("hp")
var T184=DU.Ref(T183);
var T185="hp";
var T186=[T185];
var T187=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T184},...T186);
var T188=[T183];
var T189=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T172},...T188);
var T190=[T160];
var T191=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T156},...T190);
var T192=[T139];
var T193=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T135},...T192);
var T194=DU.ReadReturn(T193,1);
$playerCard=T194;
//  @rightPane : playerCard.$AppendChild(dim $Div.Create())
var T196=DU.Ref($playerCard);
var T197="div";
var T198=[T197];
var T199=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T198);
var T200=DU.ReadReturn(T199,1);
//  mixin $Style.AddClasses("rPane")
var T201=DU.Ref(T200);
var T202="rPane";
var T203=[T202];
var T204=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T201},...T203);
var T205=[T200];
var T206=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T196},...T205);
var T207=DU.ReadReturn(T206,1);
$rightPane=T207;
//  @id : "chkOpt" + ~idx
var T209="chkOpt";
var T210=DU.Ref($idx);
var T211=T210;
var T212=gVal(T209)+gVal(T211);
$id=T212;
//  @lbl : rightPane.$AppendChild(dim $Checkbox.CreateLabelFor(id))
var T214=DU.Ref($rightPane);
var T215="label";
var T216=[T215];
var T217=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T216);
var T218=DU.ReadReturn(T217,1);
var T219=DU.Ref(T218);
var T220="htmlFor";
var T221=DU.Ref($id);
var T222=[T220,T221];
var T223=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T219},...T222);
//  mixin $Style.SetClassIf("noDisp", hp >= hero.$Heroes.GetHp() | !alive)
var T224=DU.Ref(T218);
var T225="noDisp";
var T226=DU.Ref($hp);
var T227=DU.Ref($hero);
var T228=OObj.DotAccess(T227,"hp");
var T229=gVal(T226) >= gVal(T228);
if(!!T229)
{
var T233=true;
}else{
var T232=DU.Ref($alive);
var T233=!T232;
}var T234=[T225,T233];
var T235=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T224},...T234);
var T236=[T218];
var T237=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T214},...T236);
var T238=DU.ReadReturn(T237,1);
$lbl=T238;
//  @paneAdd : rightPane.$AppendChild(dim $Div.Create())
var T240=DU.Ref($rightPane);
var T241="div";
var T242=[T241];
var T243=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T242);
var T244=DU.ReadReturn(T243,1);
//  mixin $Style.SetClassIf("noDisp", alive & ghost = null)
var T245=DU.Ref(T244);
var T246="noDisp";
var T247=DU.Ref($alive);
if(!T247)
{
var T252=false;
}else{
var T250=DU.Ref($ghost);
var T251=null;
var T252=DU.AreEqual(T250,T251);
}var T253=[T246,T252];
var T254=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T245},...T253);
var T255=[T244];
var T256=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T240},...T255);
var T257=DU.ReadReturn(T256,1);
$paneAdd=T257;
//  (@chk, checks[idx]) : lbl.$AppendChild(dim $Checkbox.Create())
var T259=DU.Ref($lbl);
var T260="input";
var T261=[T260];
var T262=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T261);
var T263=DU.ReadReturn(T262,1);
var T264=DU.Ref(T263);
var T265="checkbox";
var T266=[T265];
var T267=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T264},...T266);
//  mixin $SetId(id)
var T268=DU.Ref(T263);
var T269=DU.Ref($id);
var T270=[T269];
var T271=__RUN.getStaticGlo("Dom.SetId").func({__THIS:T268},...T270);
//  mixin $Checkbox.SetIsChecked(!alive | ghost != null)
var T272=DU.Ref(T263);
var T273=DU.Ref($alive);
var T274=!T273;
if(!!T274)
{
var T279=true;
}else{
var T277=DU.Ref($ghost);
var T278=null;
var T279=!DU.AreEqual(T277,T278);
}var T280=[T279];
var T281=__RUN.getStaticGlo("Dom.Checkbox.SetIsChecked").func({__THIS:T272},...T280);
var T282=[T263];
var T283=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T259},...T282);
var T284=DU.ReadReturn(T283,1);
$chk=T284;
var T286=DU.Ref($chk);
var T287=DU.Ref($checks);
var T288=DU.Ref($idx);
OObj.SetPath(T287,[T288],T286);
//  chk.$Checkbox.HookChange(lambda)
var T290=DU.Ref($chk);
var T291=OObj.MakeFunc(__FUNCS["Red Sk_3"]["585_func459"],{$paneAdd: DU.Ref($paneAdd),$chk: DU.Ref($chk)});
var T292=[T291];
var T293=__RUN.getStaticGlo("Dom.Checkbox.HookChange").func({__THIS:T290},...T292);
var T294=DU.ReadReturn(T293,1);
//  lbl.$AppendChild(dim $Paragraph.Create("Heal to full health"))
var T296=DU.Ref($lbl);
var T297="Heal to full health";
var T298=[T297];
var T299=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T298);
var T300=DU.ReadReturn(T299,1);
var T301=[T300];
var T302=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T296},...T301);
var T303=DU.ReadReturn(T302,1);
//  @lblObligation : paneAdd.$AppendChild(dim $Paragraph.Create("Select an obligation to add to your deck:"))
var T305=DU.Ref($paneAdd);
var T306="Select an obligation to add to your deck:";
var T307=[T306];
var T308=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T307);
var T309=DU.ReadReturn(T308,1);
//  mixin $Style.AddClasses("obligation")
var T310=DU.Ref(T309);
var T311="obligation";
var T312=[T311];
var T313=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T310},...T312);
var T314=[T309];
var T315=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T305},...T314);
var T316=DU.ReadReturn(T315,1);
$lblObligation=T316;
//  selectors[idx] : paneAdd.$AppendChild(dim $Dropdown.Create())
var T318=DU.Ref($paneAdd);
var T319="select";
var T320=[T319];
var T321=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T320);
var T322=DU.ReadReturn(T321,1);
var T323=[T322];
var T324=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T318},...T323);
var T325=DU.ReadReturn(T324,1);
var T326=DU.Ref($selectors);
var T327=DU.Ref($idx);
OObj.SetPath(T326,[T327],T325);
//  for possOblig
var T329=DU.Ref($possOblig);
var T330=DU.MakeIter(T329);
$$iter6=T330;
for(var T332=0;;T332++)
{
if(T332>0)
{
var T333=DU.Ref($$iter6);
T333.Next();
}var T335=DU.Ref($$iter6);
var T336=T335.iter.done;
var T337=!T336;
if(!T337){break;}
var T339=DU.Ref($$iter6);
var T340=T339.iter.value[0];
$it=T340;
//  selectors[idx].$Dropdown.AddOption(it, it)
var T342=DU.Ref($selectors);
var T343=DU.Ref($idx);
var T344=OObj.GetPath(T342,[T343]);
var T345=DU.Ref($it);
var T346=DU.Ref($it);
var T347=[T345,T346];
var T348=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T344},...T347);
var T349=DU.ReadReturn(T348,1);
continue;
}//  @pick : possOblig.$List.QuickPick()
var T352=$it;
$it=undefined;
var T354=DU.Ref($possOblig);
var T355=__RUN.getStaticGlo("List.QuickPick").func({__THIS:T354});
var T356=DU.ReadReturn(T355,1);
$pick=T356;
//  if ghost != null
var T358=DU.Ref($ghost);
var T359=null;
var T360=!DU.AreEqual(T358,T359);
if(T360)
{
//  pick : ghost.$Obj.NextKey()
var T362=DU.Ref($ghost);
var T363=__RUN.getStaticGlo("Obj.NextKey").func({__THIS:T362});
var T364=DU.ReadReturn(T363,1);
$pick=T364;
}//  selectors[idx].$Dropdown.SetValue(pick)
var T367=DU.Ref($selectors);
var T368=DU.Ref($idx);
var T369=OObj.GetPath(T367,[T368]);
var T370="value";
var T371=DU.Ref($pick);
var T372=[T370,T371];
var T373=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T369},...T372);
var T374=DU.ReadReturn(T373,1);
continue;
}//  pop.$Popup.AddBotRightButton(lambda)
var T377=$$idx5;
$$idx5=null;
$idx=T377;
var T379=$hp;
$hp=undefined;
var T381=$hero;
$hero=undefined;
var T383=$alive;
$alive=undefined;
var T385=$currOblig;
$currOblig=undefined;
var T387=$possOblig;
$possOblig=undefined;
var T389=$ghost;
$ghost=undefined;
var T391=$playerCard;
$playerCard=undefined;
var T393=$rightPane;
$rightPane=undefined;
var T395=$id;
$id=undefined;
var T397=$lbl;
$lbl=undefined;
var T399=$paneAdd;
$paneAdd=undefined;
var T401=$chk;
$chk=undefined;
var T403=$lblObligation;
$lblObligation=undefined;
var T405=$$iter6;
$$iter6=undefined;
var T407=$pick;
$pick=undefined;
var T409=DU.Ref($pop);
var T410=OObj.MakeFunc(__FUNCS["Red Sk_3"]["598_func474"],{$pipe: DU.Ref($pipe)});
var T411=[T410];
var T412=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T409},...T411);
var T413=DU.ReadReturn(T412,1);
//  $Slide.HookAdvance(stage, lambda)
var T415=DU.Ref($stage);
var T416=OObj.MakeFunc(__FUNCS["Red Sk_3"]["611_func477"],{$pipe: DU.Ref($pipe)});
var T417=[T415,T416];
var T418=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T417);
var T419=DU.ReadReturn(T418,1);
//  await pipe.$Pipe.ReadAsync()
var T421=DU.Ref($pipe);
var T423=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T421});
var T424=DU.ReadReturn(T423,1);
//  for @chk of checks at @idx
var T426=DU.Ref($checks);
var T427=OObj.getFirstKey(T426);
var T428=$idx;
$idx=null;
$$idx7=T428;
$idx=T427;
for(var T431=0;;T431++)
{
if(T431>0)
{
var T432=DU.Ref($checks);
var T433=DU.Ref($idx);
var T434=OObj.getNextKey(T432,T433);
var T435=$idx;
$idx=null;
$$idx8=T435;
$idx=T434;
}var T438=DU.Ref($idx);
var T439=T438 != null;
if(!T439){break;}
var T441=DU.Ref($checks);
var T442=DU.Ref($idx);
var T443=OObj.GetPath(T441,[T442]);
$chk=T443;
//  if chk.$Checkbox.IsChecked()
var T445=DU.Ref($chk);
var T446="checked";
var T447=[T446];
var T448=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T445},...T447);
var T449=DU.ReadReturn(T448,1);
if(T449)
{
//  @pick : selectors[idx].$Dropdown.GetValue()
var T451=DU.Ref($selectors);
var T452=DU.Ref($idx);
var T453=OObj.GetPath(T451,[T452]);
var T454="value";
var T455=[T454];
var T456=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T453},...T455);
var T457=DU.ReadReturn(T456,1);
$pick=T457;
//  stage.delta["player", idx, $Obligations, pick] : true
var T459=true;
var T460=DU.Ref($stage);
var T461=OObj.DotAccess(T460,"delta");
var T462="player";
var T463=DU.Ref($idx);
var T464="obligations";
var T465=DU.Ref($pick);
OObj.SetPath(T461,[T462,T463,T464,T465],T459);
//  @hero : stage.state.$Campaign.State.GetHero(idx)
var T467=DU.Ref($stage);
var T468=OObj.DotAccess(T467,"state");
var T469=DU.Ref($idx);
var T470=[T469];
var T471=__RUN.getStaticGlo("Campaign.State.GetHero").func({__THIS:T468},...T470);
var T472=DU.ReadReturn(T471,1);
$hero=T472;
//  stage.delta["player", idx, "hp"] : hero.$Heroes.GetHp()
var T474=DU.Ref($hero);
var T475=OObj.DotAccess(T474,"hp");
var T476=DU.Ref($stage);
var T477=OObj.DotAccess(T476,"delta");
var T478="player";
var T479=DU.Ref($idx);
var T480="hp";
OObj.SetPath(T477,[T478,T479,T480],T475);
}var T483=$pick;
$pick=undefined;
var T485=$hero;
$hero=undefined;
continue;
}//  pop.$Style.AddClasses("fadingOut")
var T488=$$idx8;
$$idx8=null;
$idx=T488;
var T490=$chk;
$chk=undefined;
var T492=DU.Ref($pop);
var T493="fadingOut";
var T494=[T493];
var T495=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T492},...T494);
var T496=DU.ReadReturn(T495,1);
//  await $Job.Pause(50)
var T498=50;
var T500=[T498];
var T501=await __RUN.getStaticGlo("Job.Pause").func(null,...T500);
var T502=DU.ReadReturn(T501,1);
return [];
},
"572_func" : function(__DIV){
var $currOblig,$it;
if('$currOblig' in __DIV.capture){$currOblig=__DIV.capture["$currOblig"];}
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
var T1=DU.Ref($currOblig);
var T2=DU.Ref($it);
var T3=OObj.GetPath(T1,[T2]);
var T4=!T3;
return [T4];},
"585_func459" : function(__DIV){
var $paneAdd,$chk;
if('$paneAdd' in __DIV.capture){$paneAdd=__DIV.capture["$paneAdd"];}
if('$chk' in __DIV.capture){$chk=__DIV.capture["$chk"];}
//  paneAdd.$Style.SetClassIf("noDisp", !chk.$Checkbox.IsChecked())
var T1=DU.Ref($paneAdd);
var T2="noDisp";
var T3=DU.Ref($chk);
var T4="checked";
var T5=[T4];
var T6=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T3},...T5);
var T7=DU.ReadReturn(T6,1);
var T8=!T7;
var T9=[T2,T8];
var T10=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T1},...T9);
var T11=DU.ReadReturn(T10,1);
return [];
},
"598_func474" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"611_func477" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"624::DoRecordDelay" : async function(__DIV, $stage){
var $pipe,$$parTmp2,$$$sOut23,$pop,$initNum,$entryField;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : dim $Popup.Create("Delay")
var T10="Delay";
var T11=[T10];
var T12=__RUN.getStaticGlo("Popup.Create").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T14=DU.Ref(T13);
var T15=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T16=DU.ReadReturn(T15,1);
//  mixin $SetHtml($MarkdownToHtml($GTW(textdata)))
var T17=DU.Ref(T16);
var T18=new OObj();
var T19="How many delay counters are on the main scheme?";
OObj.SetChild(T18,0,T19);
var T21="";
OObj.SetChild(T18,1,T21);
$$parTmp2=T18;
var T26=DU.Ref($$parTmp2);
var T27=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T26});
var T28=DU.ReadReturn(T27,1);
if(T28)
{
var T30=DU.Ref($$parTmp2);
var T31=" ";
var T32=[T31];
var T33=__RUN.getStaticGlo("List.Join").func({__THIS:T30},...T32);
var T34=DU.ReadReturn(T33,1);
$$$sOut23=T34;
}else
{
var T37=DU.Ref($$parTmp2);
$$$sOut23=T37;
}var T39=DU.Ref($$$sOut23);
var T40=[T39];
var T41=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T40);
var T42=DU.ReadReturn(T41,1);
var T43=[T42];
var T44=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T17},...T43);
var T45=[T16];
var T46=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T14},...T45);
$pop=T13;
//  @initNum : stage.ghost[$DelayCounters] ? 5
var T48=DU.Ref($stage);
var T49=OObj.DotAccess(T48,"ghost");
var T50="delay counters";
var T51=OObj.GetPath(T49,[T50]);
if(T51 != null)
{
var T54=T51;
}else{
var T54=5;
}$initNum=T54;
//  @entryField : pop.$AppendChild(dim $NumberEntry.Create())
var T56=DU.Ref($pop);
var T57="input";
var T58=[T57];
var T59=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T58);
var T60=DU.ReadReturn(T59,1);
var T61=DU.Ref(T60);
var T62="number";
var T63=[T62];
var T64=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T61},...T63);
//  mixin $Style.AddClasses("numberEntry")
var T65=DU.Ref(T60);
var T66="numberEntry";
var T67=[T66];
var T68=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T65},...T67);
//  mixin $NumberEntry.SetText(initNum)
var T69=DU.Ref(T60);
var T70=DU.Ref($initNum);
var T71=[T70];
var T72=__RUN.getStaticGlo("Dom.NumberEntry.SetText").func({__THIS:T69},...T71);
var T73=[T60];
var T74=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T56},...T73);
var T75=DU.ReadReturn(T74,1);
$entryField=T75;
//  pop.$Popup.AddBotRightButton(`pipe.$Pipe.Kill()`)
var T77=DU.Ref($pop);
var T78=OObj.MakeFunc(__FUNCS["Red Sk_3"]["637_func"],{$pipe: DU.Ref($pipe)});
var T79=[T78];
var T80=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T77},...T79);
var T81=DU.ReadReturn(T80,1);
//  $Slide.HookAdvance(stage, `pipe.$Pipe.Kill()`)
var T83=DU.Ref($stage);
var T84=OObj.MakeFunc(__FUNCS["Red Sk_3"]["650_func"],{$pipe: DU.Ref($pipe)});
var T85=[T83,T84];
var T86=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T85);
var T87=DU.ReadReturn(T86,1);
//  await pipe.$Pipe.ReadAsync()
var T89=DU.Ref($pipe);
var T91=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T89});
var T92=DU.ReadReturn(T91,1);
//  if stage.ct.$Canceler.IsLive()
var T94=DU.Ref($stage);
var T95=OObj.DotAccess(T94,"ct");
var T96=OObj.DotAccess(T95,"live");
if(T96)
{
//  stage.delta[$DelayCounters] : $Math.Floor(entryField.$NumberEntry.GetText())
var T98=DU.Ref($entryField);
var T99="value";
var T100=[T99];
var T101=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T98},...T100);
var T102=DU.ReadReturn(T101,1);
var T103=[T102];
var T104=__RUN.getStaticGlo("Math.Floor").func(null,...T103);
var T105=DU.ReadReturn(T104,1);
var T106=DU.Ref($stage);
var T107=OObj.DotAccess(T106,"delta");
var T108="delay counters";
OObj.SetPath(T107,[T108],T105);
//  pop.$Style.AddClasses("fadingOut")
var T110=DU.Ref($pop);
var T111="fadingOut";
var T112=[T111];
var T113=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T110},...T112);
var T114=DU.ReadReturn(T113,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T116=50;
var T118=[T116];
var T119=await __RUN.getStaticGlo("Job.Pause").func(null,...T118);
var T120=DU.ReadReturn(T119,1);
}return [];
},
"637_func" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [T3];},
"650_func" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [T3];},
"663::DoDistributeVictoryMulti" : async function(__DIV, $stage, $key, $text, $cards){
var $pipe,$$$sOut22,$pop,$container,$panesForSelectors,$selectors,$placeholder,$$struct3,$idx,$$idx4,$hero,$alive,$playerCard,$$idx5,$$idx6,$arr,$$key7,$$$key78,$pick,$val;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T4=DU.Ref($stage);
var T5=OObj.DotAccess(T4,"ct");
var T6=OObj.DotAccess(T5,"pipes");
var T7=__RUN.getStaticGlo("Pipe.Create").func(null);
var T8=DU.ReadReturn(T7,1);
var T9=[T8];
var T10=__RUN.getStaticGlo("List.Add").func({__THIS:T6},...T9);
var T11=DU.ReadReturn(T10,1);
$pipe=T11;
//  @pop : dim $Popup.Create("Victory")
var T13="Victory";
var T14=[T13];
var T15=__RUN.getStaticGlo("Popup.Create").func(null,...T14);
var T16=DU.ReadReturn(T15,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T17=DU.Ref(T16);
var T18=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T19=DU.ReadReturn(T18,1);
//  mixin $SetHtml($MarkdownToHtml($GTW(text)))
var T20=DU.Ref(T19);
var T23=DU.Ref($text);
var T24=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T23});
var T25=DU.ReadReturn(T24,1);
if(T25)
{
var T27=DU.Ref($text);
var T28=" ";
var T29=[T28];
var T30=__RUN.getStaticGlo("List.Join").func({__THIS:T27},...T29);
var T31=DU.ReadReturn(T30,1);
$$$sOut22=T31;
}else
{
var T34=DU.Ref($text);
$$$sOut22=T34;
}var T36=DU.Ref($$$sOut22);
var T37=[T36];
var T38=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T37);
var T39=DU.ReadReturn(T38,1);
var T40=[T39];
var T41=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T20},...T40);
var T42=[T19];
var T43=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T17},...T42);
$pop=T16;
//  @container : pop.$AppendChild(dim $Div.Create())
var T45=DU.Ref($pop);
var T46="div";
var T47=[T46];
var T48=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T47);
var T49=DU.ReadReturn(T48,1);
//  mixin $Style.AddClasses("playerCardAssign", "multi")
var T50=DU.Ref(T49);
var T51="playerCardAssign";
var T52="multi";
var T53=[T51,T52];
var T54=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T50},...T53);
var T55=[T49];
var T56=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T45},...T55);
var T57=DU.ReadReturn(T56,1);
$container=T57;
//  @panesForSelectors : dim()
var T59=new OObj();
$panesForSelectors=T59;
//  @selectors : dim()
var T61=new OObj();
$selectors=T61;
//  @placeholder : dim
var T63=new OObj();
$placeholder=T63;
//  placeholder.syncSelectors : lambda
var T65=OObj.MakeFunc(__FUNCS["Red Sk_3"]["676_func536"],{$stage: DU.Ref($stage),$key: DU.Ref($key),$cards: DU.Ref($cards),$panesForSelectors: DU.Ref($panesForSelectors),$selectors: DU.Ref($selectors),$placeholder: DU.Ref($placeholder),$idx: DU.Ref($idx)});
var T66=DU.Ref($placeholder);
OObj.SetChild(T66,"syncSelectors",T65);
//  for @idx in stage.state.player
var T68=DU.Ref($stage);
var T69=OObj.DotAccess(T68,"state");
var T70=OObj.DotAccess(T69,"player");
$$struct3=T70;
var T72=DU.Ref($$struct3);
var T73=OObj.getFirstKey(T72);
$idx=T73;
for(var T75=0;;T75++)
{
if(T75>0)
{
var T76=DU.Ref($$struct3);
var T77=DU.Ref($idx);
var T78=OObj.getNextKey(T76,T77);
var T79=$idx;
$idx=null;
$$idx4=T79;
$idx=T78;
}var T82=DU.Ref($idx);
var T83=T82 != null;
if(!T83){break;}
//  @hero : stage.state.$Campaign.State.GetHero(idx)
var T85=DU.Ref($stage);
var T86=OObj.DotAccess(T85,"state");
var T87=DU.Ref($idx);
var T88=[T87];
var T89=__RUN.getStaticGlo("Campaign.State.GetHero").func({__THIS:T86},...T88);
var T90=DU.ReadReturn(T89,1);
$hero=T90;
//  @alive : !stage.state.$Campaign.State.IsExpert() | stage.state.$Campaign.State.GetHp(idx) > 0
var T92=DU.Ref($stage);
var T93=OObj.DotAccess(T92,"state");
if(OObj.HasChildKey(T93,"isExpertMode"))
{
var T94=T93;
var T95=OObj.DotAccess(T94,"isExpertMode");
}else {var T95=null;}
if(T95 != null)
{
var T98=T95;
}else{
var T98=false;
}var T99=!T98;
if(!!T99)
{
var T112=true;
}else{
var T102=DU.Ref($stage);
var T103=OObj.DotAccess(T102,"state");
var T104="player";
var T105=DU.Ref($idx);
var T106="hp";
var T107=OObj.GetPath(T103,[T104,T105,T106]);
if(T107 != null)
{
var T110=T107;
}else{
var T110=0;
}var T111=0;
var T112=gVal(T110) > gVal(T111);
}$alive=T112;
//  @playerCard : container.$AppendChild(dim $Div.Create())
var T114=DU.Ref($container);
var T115="div";
var T116=[T115];
var T117=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T116);
var T118=DU.ReadReturn(T117,1);
//  mixin $Style.AddClasses("player")
var T119=DU.Ref(T118);
var T120="player";
var T121=[T120];
var T122=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T119},...T121);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T123=DU.Ref(T118);
var T124=DU.Ref($hero);
var T125=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T124});
var T126=DU.ReadReturn(T125,1);
var T127=[T126];
var T128=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T123},...T127);
var T129=[T118];
var T130=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T114},...T129);
var T131=DU.ReadReturn(T130,1);
$playerCard=T131;
//  if !alive
var T133=DU.Ref($alive);
var T134=!T133;
if(T134)
{
//  playerCard.$Style.AddClasses("dead")
var T136=DU.Ref($playerCard);
var T137="dead";
var T138=[T137];
var T139=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T136},...T138);
var T140=DU.ReadReturn(T139,1);
}//  panesForSelectors[idx] : playerCard.$AppendChild(dim $Div.Create())
var T143=DU.Ref($playerCard);
var T144="div";
var T145=[T144];
var T146=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T145);
var T147=DU.ReadReturn(T146,1);
//  mixin $Style.AddClasses("pickers")
var T148=DU.Ref(T147);
var T149="pickers";
var T150=[T149];
var T151=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T148},...T150);
var T152=[T147];
var T153=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T143},...T152);
var T154=DU.ReadReturn(T153,1);
var T155=DU.Ref($panesForSelectors);
var T156=DU.Ref($idx);
OObj.SetPath(T155,[T156],T154);
//  if alive
var T158=DU.Ref($alive);
if(T158)
{
//  selectors[idx] : dim()
var T160=new OObj();
var T161=DU.Ref($selectors);
var T162=DU.Ref($idx);
OObj.SetPath(T161,[T162],T160);
}else
{
//  else
//  panesForSelectors[idx].$AppendChild(dim $Paragraph.Create("Recovering (not participating)"))
var T166=DU.Ref($panesForSelectors);
var T167=DU.Ref($idx);
var T168=OObj.GetPath(T166,[T167]);
var T169="Recovering (not participating)";
var T170=[T169];
var T171=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T170);
var T172=DU.ReadReturn(T171,1);
var T173=[T172];
var T174=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T168},...T173);
var T175=DU.ReadReturn(T174,1);
}continue;
}//  $(placeholder.syncSelectors)
var T178=$$idx4;
$$idx4=null;
$idx=T178;
var T180=$hero;
$hero=undefined;
var T182=$alive;
$alive=undefined;
var T184=$playerCard;
$playerCard=undefined;
var T186=DU.Ref($placeholder);
var T187=OObj.DotAccess(T186,"syncSelectors");
var T188=OObj._RunLambda(T187,{});
var T189=DU.ReadReturn(T188,1);
//  pop.$Popup.AddBotRightButton(lambda)
var T191=DU.Ref($pop);
var T192=OObj.MakeFunc(__FUNCS["Red Sk_3"]["702_func562"],{$pipe: DU.Ref($pipe)});
var T193=[T192];
var T194=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T191},...T193);
var T195=DU.ReadReturn(T194,1);
//  $Slide.HookAdvance(stage, lambda)
var T197=DU.Ref($stage);
var T198=OObj.MakeFunc(__FUNCS["Red Sk_3"]["715_func565"],{$pipe: DU.Ref($pipe)});
var T199=[T197,T198];
var T200=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T199);
var T201=DU.ReadReturn(T200,1);
//  await pipe.$Pipe.ReadAsync()
var T203=DU.Ref($pipe);
var T205=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T203});
var T206=DU.ReadReturn(T205,1);
//  for @arr of selectors at @idx
var T208=DU.Ref($selectors);
var T209=OObj.getFirstKey(T208);
var T210=$idx;
$idx=null;
$$idx5=T210;
$idx=T209;
for(var T213=0;;T213++)
{
if(T213>0)
{
var T214=DU.Ref($selectors);
var T215=DU.Ref($idx);
var T216=OObj.getNextKey(T214,T215);
var T217=$idx;
$idx=null;
$$idx6=T217;
$idx=T216;
}var T220=DU.Ref($idx);
var T221=T220 != null;
if(!T221){break;}
var T223=DU.Ref($selectors);
var T224=DU.Ref($idx);
var T225=OObj.GetPath(T223,[T224]);
$arr=T225;
//  stage.delta["player", idx, key] : dim()
var T227=new OObj();
var T228=DU.Ref($stage);
var T229=OObj.DotAccess(T228,"delta");
var T230="player";
var T231=DU.Ref($idx);
var T232=DU.Ref($key);
OObj.SetPath(T229,[T230,T231,T232],T227);
//  for @pick of arr
var T234=DU.Ref($arr);
var T235=OObj.getFirstKey(T234);
$$key7=T235;
for(var T237=0;;T237++)
{
if(T237>0)
{
var T238=DU.Ref($arr);
var T239=DU.Ref($$key7);
var T240=OObj.getNextKey(T238,T239);
var T241=$$key7;
$$key7=null;
$$$key78=T241;
$$key7=T240;
}var T244=DU.Ref($$key7);
var T245=T244 != null;
if(!T245){break;}
var T247=DU.Ref($arr);
var T248=DU.Ref($$key7);
var T249=OObj.GetPath(T247,[T248]);
$pick=T249;
//  @val : pick.$Dropdown.GetValue()
var T251=DU.Ref($pick);
var T252="value";
var T253=[T252];
var T254=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T251},...T253);
var T255=DU.ReadReturn(T254,1);
$val=T255;
//  if val != ""
var T257=DU.Ref($val);
var T258="";
var T259=!DU.AreEqual(T257,T258);
if(T259)
{
//  stage.delta["player", idx, key].$List.Add(val)
var T261=DU.Ref($stage);
var T262=OObj.DotAccess(T261,"delta");
var T263="player";
var T264=DU.Ref($idx);
var T265=DU.Ref($key);
var T266=OObj.GetPath(T262,[T263,T264,T265]);
var T267=DU.Ref($val);
var T268=[T267];
var T269=__RUN.getStaticGlo("List.Add").func({__THIS:T266},...T268);
var T270=DU.ReadReturn(T269,1);
}continue;
}var T274=$$$key78;
$$$key78=null;
$$key7=T274;
var T276=$pick;
$pick=undefined;
var T278=$val;
$val=undefined;
continue;
}//  pop.$Style.AddClasses("fadingOut")
var T281=$$idx6;
$$idx6=null;
$idx=T281;
var T283=$arr;
$arr=undefined;
var T285=$$key7;
$$key7=undefined;
var T287=DU.Ref($pop);
var T288="fadingOut";
var T289=[T288];
var T290=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T287},...T289);
var T291=DU.ReadReturn(T290,1);
//  await $Job.Pause(50)
var T293=50;
var T295=[T293];
var T296=await __RUN.getStaticGlo("Job.Pause").func(null,...T295);
var T297=DU.ReadReturn(T296,1);
return [];
},
"676_func536" : function(__DIV){
var $selectors,$idx,$$idx2,$cIdx,$stage,$key,$prev,$panesForSelectors,$cards,$placeholder,$drop,$it;
if('$selectors' in __DIV.capture){$selectors=__DIV.capture["$selectors"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$key' in __DIV.capture){$key=__DIV.capture["$key"];}
if('$panesForSelectors' in __DIV.capture){$panesForSelectors=__DIV.capture["$panesForSelectors"];}
if('$cards' in __DIV.capture){$cards=__DIV.capture["$cards"];}
if('$placeholder' in __DIV.capture){$placeholder=__DIV.capture["$placeholder"];}
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
//  for @idx in selectors
var T1=DU.Ref($selectors);
var T2=OObj.getFirstKey(T1);
$idx=T2;
for(var T4=0;;T4++)
{
if(T4>0)
{
var T5=DU.Ref($selectors);
var T6=DU.Ref($idx);
var T7=OObj.getNextKey(T5,T6);
var T8=$idx;
$idx=null;
$$idx2=T8;
$idx=T7;
}var T11=DU.Ref($idx);
var T12=T11 != null;
if(!T12){break;}
//  while !selectors[idx].$List.Any(`it.$Dropdown.GetValue() = ""`)
for(var T14=0;;T14++)
{
var T15=DU.Ref($selectors);
var T16=DU.Ref($idx);
var T17=OObj.GetPath(T15,[T16]);
var T18=OObj.MakeFunc(__FUNCS["Red Sk_3"]["689_func"],{$it: DU.Ref($it)});
var T19=[T18];
var T20=__RUN.getStaticGlo("List.Any").func({__THIS:T17},...T19);
var T21=DU.ReadReturn(T20,1);
var T22=!T21;
if(!T22){break;}
//  @cIdx : selectors[idx].$Obj.Count()
var T24=DU.Ref($selectors);
var T25=DU.Ref($idx);
var T26=OObj.GetPath(T24,[T25]);
var T27=__RUN.getStaticGlo("Obj.Count").func({__THIS:T26});
var T28=DU.ReadReturn(T27,1);
$cIdx=T28;
//  @prev : stage.ghost["player", idx, key, cIdx]
var T30=DU.Ref($stage);
var T31=OObj.DotAccess(T30,"ghost");
var T32="player";
var T33=DU.Ref($idx);
var T34=DU.Ref($key);
var T35=DU.Ref($cIdx);
var T36=OObj.GetPath(T31,[T32,T33,T34,T35]);
$prev=T36;
//  @drop : dim $addSelectorToPane(panesForSelectors[idx], cards, prev)
var T38=DU.Ref($panesForSelectors);
var T39=DU.Ref($idx);
var T40=OObj.GetPath(T38,[T39]);
var T41=DU.Ref($cards);
var T42=DU.Ref($prev);
var T43=[T40,T41,T42];
var T44=__RUN.getStaticGlo("RedSkull.addSelectorToPane").func(null,...T43);
var T45=DU.ReadReturn(T44,1);
//  mixin $Dropdown.HookChange(placeholder.syncSelectors)
var T46=DU.Ref(T45);
var T47=DU.Ref($placeholder);
var T48=OObj.DotAccess(T47,"syncSelectors");
var T49=[T48];
var T50=__RUN.getStaticGlo("Dom.Dropdown.HookChange").func({__THIS:T46},...T49);
$drop=T45;
//  selectors[idx].$List.Add(drop)
var T52=DU.Ref($selectors);
var T53=DU.Ref($idx);
var T54=OObj.GetPath(T52,[T53]);
var T55=DU.Ref($drop);
var T56=[T55];
var T57=__RUN.getStaticGlo("List.Add").func({__THIS:T54},...T56);
var T58=DU.ReadReturn(T57,1);
continue;
}var T61=$cIdx;
$cIdx=undefined;
var T63=$prev;
$prev=undefined;
var T65=$drop;
$drop=undefined;
continue;
}return [];
},
"689_func" : function(__DIV){
var $it;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
var T1=DU.Ref($it);
var T2="value";
var T3=[T2];
var T4=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
var T6="";
var T7=DU.AreEqual(T5,T6);
return [T7];},
"702_func562" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"715_func565" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"728::addSelectorToPane" : function(__DIV, $pane, $options, $selected){
var $drop,$$iter2,$it;
//  drop : pane.$AppendChild(dim $Dropdown.Create())
var T3=DU.Ref($pane);
var T4="select";
var T5=[T4];
var T6=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
//  mixin $Dropdown.AddOption("")
var T8=DU.Ref(T7);
var T9="";
var T10=[T9];
var T11=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T8},...T10);
var T12=[T7];
var T13=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T3},...T12);
var T14=DU.ReadReturn(T13,1);
$drop=T14;
//  for options
var T16=DU.Ref($options);
var T17=DU.MakeIter(T16);
$$iter2=T17;
for(var T19=0;;T19++)
{
if(T19>0)
{
var T20=DU.Ref($$iter2);
T20.Next();
}var T22=DU.Ref($$iter2);
var T23=T22.iter.done;
var T24=!T23;
if(!T24){break;}
var T26=DU.Ref($$iter2);
var T27=T26.iter.value[0];
$it=T27;
//  drop.$Dropdown.AddOption(it, it)
var T29=DU.Ref($drop);
var T30=DU.Ref($it);
var T31=DU.Ref($it);
var T32=[T30,T31];
var T33=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T29},...T32);
var T34=DU.ReadReturn(T33,1);
continue;
}//  if selected != null
var T37=$it;
$it=undefined;
var T40=DU.Ref($selected);
var T41=null;
var T42=!DU.AreEqual(T40,T41);
if(T42)
{
//  drop.$Dropdown.SetValue(selected)
var T44=DU.Ref($drop);
var T45="value";
var T46=DU.Ref($selected);
var T47=[T45,T46];
var T48=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T44},...T47);
var T49=DU.ReadReturn(T48,1);
}return [$drop];
},
"741::IfPromptForPrisoners" : function(__DIV, $state){
var $bool;
//  if state[$RedSkull.Prison] ? false
var T1=DU.Ref($state);
var T2="prison in play";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}if(T6)
{
//  return $GetAlliesFreed(state).$Obj.Count() > 0
var T8=DU.Ref($state);
var T9=[T8];
var T10=__RUN.getStaticGlo("RedSkull.GetAlliesFreed").func(null,...T9);
var T11=DU.ReadReturn(T10,1);
var T12=__RUN.getStaticGlo("Obj.Count").func({__THIS:T11});
var T13=DU.ReadReturn(T12,1);
var T14=0;
var T15=gVal(T13) > gVal(T14);
$bool=T15;
return [$bool];
}//  return false
var T19=false;
$bool=T19;
return [$bool];
},
"754::GetAlliesFreed" : function(__DIV, $state){
var $list,$$iter2,$it;
//  list : dim()
var T1=new OObj();
$list=T1;
//  for state.player
var T3=DU.Ref($state);
var T4=OObj.DotAccess(T3,"player");
var T5=DU.MakeIter(T4);
$$iter2=T5;
for(var T7=0;;T7++)
{
if(T7>0)
{
var T8=DU.Ref($$iter2);
T8.Next();
}var T10=DU.Ref($$iter2);
var T11=T10.iter.done;
var T12=!T11;
if(!T12){break;}
var T14=DU.Ref($$iter2);
var T15=T14.iter.value[0];
$it=T15;
//  if it[$AlliesUnlocked] != null
var T17=DU.Ref($it);
var T18="allies";
var T19=OObj.GetPath(T17,[T18]);
var T20=null;
var T21=!DU.AreEqual(T19,T20);
if(T21)
{
//  list.$List.AppendList(copy it[$AlliesUnlocked])
var T23=DU.Ref($list);
var T24=DU.Ref($it);
var T25="allies";
var T26=OObj.GetPath(T24,[T25]);
var T27=DU.Copy(T26);
var T28=[T27];
var T29=__RUN.getStaticGlo("List.AppendList").func({__THIS:T23},...T28);
var T30=DU.ReadReturn(T29,1);
}continue;
}return [$list];
},
"767::IfUpgradeConditions" : function(__DIV, $state){
var $bool;
//  if state[$RedSkull.Prison] ? false
var T1=DU.Ref($state);
var T2="prison in play";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}if(T6)
{
//  return false
var T8=false;
$bool=T8;
return [$bool];
}//  bool : state.player.$List.Any(`it[$Condition] != null`)
var T12=DU.Ref($state);
var T13=OObj.DotAccess(T12,"player");
var T14=OObj.MakeFunc(__FUNCS["Red Sk_3"]["780_func"],{});
var T15=[T14];
var T16=__RUN.getStaticGlo("List.Any").func({__THIS:T13},...T15);
var T17=DU.ReadReturn(T16,1);
$bool=T17;
return [$bool];
},
"780_func" : function(__DIV){
var $it;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
var T1=DU.Ref($it);
var T2="condition";
var T3=OObj.GetPath(T1,[T2]);
var T4=null;
var T5=!DU.AreEqual(T3,T4);
return [T5];},
"793::DoUpgradeCondition" : async function(__DIV, $stage){
var $pipe,$pop,$elems,$$struct2,$idx,$$idx3,$player,$hero,$condition,$isEnabled,$id,$isPreChecked,$lbl,$chk,$$sOut4,$disp,$rPane,$textBonus,$ctlBonus,$$struct5,$$idx6,$$idx7,$prev,$$$sOut28;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : dim $Popup.Create("Victory")
var T10="Victory";
var T11=[T10];
var T12=__RUN.getStaticGlo("Popup.Create").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $Style.AddClasses("upgradeCard")
var T14=DU.Ref(T13);
var T15="upgradeCard";
var T16=[T15];
var T17=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T14},...T16);
//  mixin $Popup.AddMarkdown(textdata)
var T18=DU.Ref(T13);
var T19=new OObj();
var T20="Each player who ended the game in hero form may replace their \"Basic\"";
OObj.SetChild(T19,0,T20);
var T22="*Condition* upgarde with it's \"Improved\" side";
OObj.SetChild(T19,1,T22);
var T24=[T19];
var T25=__RUN.getStaticGlo("Popup.AddMarkdown").func({__THIS:T18},...T24);
//  mixin $Popup.AddBotRightButton(lambda)
var T26=DU.Ref(T13);
var T27=OObj.MakeFunc(__FUNCS["Red Sk_3"]["806_func615"],{$pipe: DU.Ref($pipe)});
var T28=[T27];
var T29=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T26},...T28);
$pop=T13;
//  $Slide.HookAdvance(stage, lambda)
var T31=DU.Ref($stage);
var T32=OObj.MakeFunc(__FUNCS["Red Sk_3"]["819_func618"],{$pipe: DU.Ref($pipe)});
var T33=[T31,T32];
var T34=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T33);
var T35=DU.ReadReturn(T34,1);
//  @elems : dim()
var T37=new OObj();
$elems=T37;
//  for @player of stage.state.player at @idx
var T39=DU.Ref($stage);
var T40=OObj.DotAccess(T39,"state");
var T41=OObj.DotAccess(T40,"player");
$$struct2=T41;
var T43=DU.Ref($$struct2);
var T44=OObj.getFirstKey(T43);
$idx=T44;
for(var T46=0;;T46++)
{
if(T46>0)
{
var T47=DU.Ref($$struct2);
var T48=DU.Ref($idx);
var T49=OObj.getNextKey(T47,T48);
var T50=$idx;
$idx=null;
$$idx3=T50;
$idx=T49;
}var T53=DU.Ref($idx);
var T54=T53 != null;
if(!T54){break;}
var T56=DU.Ref($$struct2);
var T57=DU.Ref($idx);
var T58=OObj.GetPath(T56,[T57]);
$player=T58;
//  @hero : $Heroes.LookupByName(stage.state.player[idx].hero)
var T60=DU.Ref($stage);
var T61=OObj.DotAccess(T60,"state");
var T62=OObj.DotAccess(T61,"player");
var T63=DU.Ref($idx);
var T64=OObj.GetPath(T62,[T63]);
var T65=OObj.DotAccess(T64,"hero");
var T66=[T65];
var T67=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T66);
var T68=DU.ReadReturn(T67,1);
$hero=T68;
//  @condition : player[$Condition] ? ""
var T70=DU.Ref($player);
var T71="condition";
var T72=OObj.GetPath(T70,[T71]);
if(T72 != null)
{
var T75=T72;
}else{
var T75="";
}$condition=T75;
//  @isEnabled : condition != "" & (player.?hp ? 1) > 0
var T77=DU.Ref($condition);
var T78="";
var T79=!DU.AreEqual(T77,T78);
if(!T79)
{
var T89=false;
}else{
var T82=DU.Ref($player);
if(OObj.HasChildKey(T82,"hp"))
{
var T83=T82;
var T84=OObj.DotAccess(T83,"hp");
}else {var T84=null;}
if(T84 != null)
{
var T87=T84;
}else{
var T87=1;
}var T88=0;
var T89=gVal(T87) > gVal(T88);
}$isEnabled=T89;
//  @id : "chkOpt" + ~idx
var T91="chkOpt";
var T92=DU.Ref($idx);
var T93=T92;
var T94=gVal(T91)+gVal(T93);
$id=T94;
//  @isPreChecked : stage.ghost["player", idx, $Condition] ? false
var T96=DU.Ref($stage);
var T97=OObj.DotAccess(T96,"ghost");
var T98="player";
var T99=DU.Ref($idx);
var T100="condition";
var T101=OObj.GetPath(T97,[T98,T99,T100]);
if(T101 != null)
{
var T104=T101;
}else{
var T104=false;
}$isPreChecked=T104;
//  @lbl : pop.$AppendChild(dim $Checkbox.CreateLabelFor(id))
var T106=DU.Ref($pop);
var T107="label";
var T108=[T107];
var T109=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T108);
var T110=DU.ReadReturn(T109,1);
var T111=DU.Ref(T110);
var T112="htmlFor";
var T113=DU.Ref($id);
var T114=[T112,T113];
var T115=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T111},...T114);
//  mixin $AppendChild(dim $Div.Create())
var T116=DU.Ref(T110);
var T117="div";
var T118=[T117];
var T119=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T118);
var T120=DU.ReadReturn(T119,1);
//  mixin $Style.AddClasses("player")
var T121=DU.Ref(T120);
var T122="player";
var T123=[T122];
var T124=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T121},...T123);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T125=DU.Ref(T120);
var T126=DU.Ref($hero);
var T127=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T126});
var T128=DU.ReadReturn(T127,1);
var T129=[T128];
var T130=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T125},...T129);
var T131=[T120];
var T132=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T116},...T131);
//  mixin $Style.SetClassIf("disabled", !isEnabled)
var T133=DU.Ref(T110);
var T134="disabled";
var T135=DU.Ref($isEnabled);
var T136=!T135;
var T137=[T134,T136];
var T138=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T133},...T137);
var T139=[T110];
var T140=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T106},...T139);
var T141=DU.ReadReturn(T140,1);
$lbl=T141;
//  @chk : lbl.$AppendChild(dim $Checkbox.Create())
var T143=DU.Ref($lbl);
var T144="input";
var T145=[T144];
var T146=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T145);
var T147=DU.ReadReturn(T146,1);
var T148=DU.Ref(T147);
var T149="checkbox";
var T150=[T149];
var T151=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T148},...T150);
//  mixin $SetId(id)
var T152=DU.Ref(T147);
var T153=DU.Ref($id);
var T154=[T153];
var T155=__RUN.getStaticGlo("Dom.SetId").func({__THIS:T152},...T154);
var T156=[T147];
var T157=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T143},...T156);
var T158=DU.ReadReturn(T157,1);
$chk=T158;
//  if isPreChecked
var T160=DU.Ref($isPreChecked);
if(T160)
{
//  chk.$Checkbox.SetIsChecked(true)
var T162=DU.Ref($chk);
var T163="checked";
var T164=true;
var T165=[T163,T164];
var T166=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T162},...T165);
var T167=DU.ReadReturn(T166,1);
}//  if !isEnabled
var T171=DU.Ref($isEnabled);
var T172=!T171;
if(T172)
{
//  chk.$SetAttribute("disabled", "disabled")
var T174=DU.Ref($chk);
var T175="disabled";
var T176="disabled";
var T177=[T175,T176];
var T178=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T174},...T177);
var T179=DU.ReadReturn(T178,1);
}//  elems[idx] : chk
var T182=DU.Ref($chk);
var T183=DU.Ref($elems);
var T184=DU.Ref($idx);
OObj.SetPath(T183,[T184],T182);
//  condition = "" : "No Basic condition to upgrade"
var T187=DU.Ref($condition);
var T188="";
var T189=DU.AreEqual(T187,T188);
if(T189)
{
var T191="No Basic condition to upgrade";
$$sOut4=T191;
}else
{
//  isEnabled : "Ended the game in hero mode"
var T195=DU.Ref($isEnabled);
if(T195)
{
var T197="Ended the game in hero mode";
$$sOut4=T197;
}else
{
//  else : "Recovering (not participating)"
var T200="Recovering (not participating)";
$$sOut4=T200;
}}var T202=DU.Ref($$sOut4);
$disp=T202;
//  @rPane : lbl.$AppendChild(dim $Div.Create())
var T204=DU.Ref($lbl);
var T205="div";
var T206=[T205];
var T207=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T206);
var T208=DU.ReadReturn(T207,1);
var T209=[T208];
var T210=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T204},...T209);
var T211=DU.ReadReturn(T210,1);
$rPane=T211;
//  rPane.$AppendChild(dim $Paragraph.Create())
var T213=DU.Ref($rPane);
var T214=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T215=DU.ReadReturn(T214,1);
//  mixin $SetHtml($MarkdownToHtml(disp))
var T216=DU.Ref(T215);
var T217=DU.Ref($disp);
var T218=[T217];
var T219=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T218);
var T220=DU.ReadReturn(T219,1);
var T221=[T220];
var T222=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T216},...T221);
var T223=[T215];
var T224=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T213},...T223);
var T225=DU.ReadReturn(T224,1);
//  @textBonus : "Replace " + condition + " with it's upgraded side"
var T227="Replace ";
var T228=DU.Ref($condition);
var T229=gVal(T227)+gVal(T228);
var T230=" with it's upgraded side";
var T231=gVal(T229)+gVal(T230);
$textBonus=T231;
//  @ctlBonus : rPane.$AppendChild(dim $Paragraph.Create(textBonus))
var T233=DU.Ref($rPane);
var T234=DU.Ref($textBonus);
var T235=[T234];
var T236=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T235);
var T237=DU.ReadReturn(T236,1);
//  mixin $Style.AddClasses("bonus")
var T238=DU.Ref(T237);
var T239="bonus";
var T240=[T239];
var T241=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T238},...T240);
//  mixin $Style.SetClassIf("noDisp", !isPreChecked)
var T242=DU.Ref(T237);
var T243="noDisp";
var T244=DU.Ref($isPreChecked);
var T245=!T244;
var T246=[T243,T245];
var T247=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T242},...T246);
var T248=[T237];
var T249=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T233},...T248);
var T250=DU.ReadReturn(T249,1);
$ctlBonus=T250;
//  chk.$Checkbox.HookChange(lambda)
var T252=DU.Ref($chk);
var T253=OObj.MakeFunc(__FUNCS["Red Sk_3"]["832_func653"],{$chk: DU.Ref($chk),$ctlBonus: DU.Ref($ctlBonus)});
var T254=[T253];
var T255=__RUN.getStaticGlo("Dom.Checkbox.HookChange").func({__THIS:T252},...T254);
var T256=DU.ReadReturn(T255,1);
continue;
}//  await pipe.$Pipe.ReadAsync()
var T259=$$idx3;
$$idx3=null;
$idx=T259;
var T261=$player;
$player=undefined;
var T263=$hero;
$hero=undefined;
var T265=$condition;
$condition=undefined;
var T267=$isEnabled;
$isEnabled=undefined;
var T269=$id;
$id=undefined;
var T271=$isPreChecked;
$isPreChecked=undefined;
var T273=$lbl;
$lbl=undefined;
var T275=$chk;
$chk=undefined;
var T277=$disp;
$disp=undefined;
var T279=$rPane;
$rPane=undefined;
var T281=$textBonus;
$textBonus=undefined;
var T283=$ctlBonus;
$ctlBonus=undefined;
var T285=DU.Ref($pipe);
var T287=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T285});
var T288=DU.ReadReturn(T287,1);
//  if stage.ct.$Canceler.IsLive()
var T290=DU.Ref($stage);
var T291=OObj.DotAccess(T290,"ct");
var T292=OObj.DotAccess(T291,"live");
if(T292)
{
//  for @idx in stage.state.player
var T294=DU.Ref($stage);
var T295=OObj.DotAccess(T294,"state");
var T296=OObj.DotAccess(T295,"player");
$$struct5=T296;
var T298=DU.Ref($$struct5);
var T299=OObj.getFirstKey(T298);
var T300=$idx;
$idx=null;
$$idx6=T300;
$idx=T299;
for(var T303=0;;T303++)
{
if(T303>0)
{
var T304=DU.Ref($$struct5);
var T305=DU.Ref($idx);
var T306=OObj.getNextKey(T304,T305);
var T307=$idx;
$idx=null;
$$idx7=T307;
$idx=T306;
}var T310=DU.Ref($idx);
var T311=T310 != null;
if(!T311){break;}
//  if elems[idx].$Checkbox.IsChecked()
var T314=DU.Ref($elems);
var T315=DU.Ref($idx);
var T316=OObj.GetPath(T314,[T315]);
var T317="checked";
var T318=[T317];
var T319=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T316},...T318);
var T320=DU.ReadReturn(T319,1);
if(T320)
{
//  @prev : stage.state["player", idx, $Condition]
var T322=DU.Ref($stage);
var T323=OObj.DotAccess(T322,"state");
var T324="player";
var T325=DU.Ref($idx);
var T326="condition";
var T327=OObj.GetPath(T323,[T324,T325,T326]);
$prev=T327;
//  stage.delta["player", idx, $Condition] : $GetUpgradedCondition(prev)
var T331=DU.Ref($prev);
var T332="Basic Thwart Upgrade";
var T333=DU.AreEqual(T331,T332);
if(T333)
{
var T335="Improved Thwart Upgrade";
$$$sOut28=T335;
}else
{
var T339=DU.Ref($prev);
var T340="Basic Attack Upgrade";
var T341=DU.AreEqual(T339,T340);
if(T341)
{
var T343="Improved Attack Upgrade";
$$$sOut28=T343;
}else
{
var T347=DU.Ref($prev);
var T348="Basic Defense Upgrade";
var T349=DU.AreEqual(T347,T348);
if(T349)
{
var T351="Improved Defense Upgrade";
$$$sOut28=T351;
}else
{
var T355=DU.Ref($prev);
var T356="Basic Recovery Upgrade";
var T357=DU.AreEqual(T355,T356);
if(T357)
{
var T359="Improved Recovery Upgrade";
$$$sOut28=T359;
}else
{
var T362="";
$$$sOut28=T362;
}}}}var T364=DU.Ref($$$sOut28);
var T365=DU.Ref($stage);
var T366=OObj.DotAccess(T365,"delta");
var T367="player";
var T368=DU.Ref($idx);
var T369="condition";
OObj.SetPath(T366,[T367,T368,T369],T364);
}var T372=$prev;
$prev=undefined;
continue;
}//  pop.$Style.AddClasses("fadingOut")
var T375=$$idx7;
$$idx7=null;
$idx=T375;
var T377=DU.Ref($pop);
var T378="fadingOut";
var T379=[T378];
var T380=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T377},...T379);
var T381=DU.ReadReturn(T380,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T383=50;
var T385=[T383];
var T386=await __RUN.getStaticGlo("Job.Pause").func(null,...T385);
var T387=DU.ReadReturn(T386,1);
}return [];
},
"806_func615" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"819_func618" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"832_func653" : function(__DIV){
var $ctlBonus,$chk;
if('$ctlBonus' in __DIV.capture){$ctlBonus=__DIV.capture["$ctlBonus"];}
if('$chk' in __DIV.capture){$chk=__DIV.capture["$chk"];}
//  ctlBonus.$Style.SetClassIf("noDisp", !chk.$Checkbox.IsChecked())
var T1=DU.Ref($ctlBonus);
var T2="noDisp";
var T3=DU.Ref($chk);
var T4="checked";
var T5=[T4];
var T6=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T3},...T5);
var T7=DU.ReadReturn(T6,1);
var T8=!T7;
var T9=[T2,T8];
var T10=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T1},...T9);
var T11=DU.ReadReturn(T10,1);
return [];
},
"845::GetUpgradedCondition" : function(__DIV, $condition){
var $$sOut2;
//  "Basic Thwart Upgrade" : "Improved Thwart Upgrade"
var T2=DU.Ref($condition);
var T3="Basic Thwart Upgrade";
var T4=DU.AreEqual(T2,T3);
if(T4)
{
var T6="Improved Thwart Upgrade";
$$sOut2=T6;
}else
{
//  "Basic Attack Upgrade" : "Improved Attack Upgrade"
var T10=DU.Ref($condition);
var T11="Basic Attack Upgrade";
var T12=DU.AreEqual(T10,T11);
if(T12)
{
var T14="Improved Attack Upgrade";
$$sOut2=T14;
}else
{
//  "Basic Defense Upgrade" : "Improved Defense Upgrade"
var T18=DU.Ref($condition);
var T19="Basic Defense Upgrade";
var T20=DU.AreEqual(T18,T19);
if(T20)
{
var T22="Improved Defense Upgrade";
$$sOut2=T22;
}else
{
//  "Basic Recovery Upgrade" : "Improved Recovery Upgrade"
var T26=DU.Ref($condition);
var T27="Basic Recovery Upgrade";
var T28=DU.AreEqual(T26,T27);
if(T28)
{
var T30="Improved Recovery Upgrade";
$$sOut2=T30;
}else
{
//  else : ""
var T33="";
$$sOut2=T33;
}}}}var T35=DU.Ref($$sOut2);
$condition=T35;
return [$condition];
},
"858::IfEnemyEngaged" : function(__DIV, $state){
var $bool;
//  if !state.$Campaign.State.IsExpert()
var T1=DU.Ref($state);
if(OObj.HasChildKey(T1,"isExpertMode"))
{
var T2=T1;
var T3=OObj.DotAccess(T2,"isExpertMode");
}else {var T3=null;}
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}var T7=!T6;
if(T7)
{
//  return false
var T9=false;
$bool=T9;
return [$bool];
}//  bool : state.player.$List.Any(`it[$EnemyEngaged] ? false`)
var T13=DU.Ref($state);
var T14=OObj.DotAccess(T13,"player");
var T15=OObj.MakeFunc(__FUNCS["Red Sk_3"]["871_func"],{});
var T16=[T15];
var T17=__RUN.getStaticGlo("List.Any").func({__THIS:T14},...T16);
var T18=DU.ReadReturn(T17,1);
$bool=T18;
return [$bool];
},
"871_func" : function(__DIV){
var $it;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
var T1=DU.Ref($it);
var T2="enemy engaged";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}return [T6];},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\dom.wng
__FUNCS["dom.wn_4"] = {
"13::Create" : function(__DIV){
var $div;
//  ::Create( => div) => $CreateElement("div")
var T0="div";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
$div=T3;
return [$div];
},
"26::Create" : function(__DIV){
var $button;
//  ::Create(=> button) => $CreateElement("button")
var T0="button";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
$button=T3;
return [$button];
},
"39::HookClick" : function(__DIV, $lamb){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.HookClick(lamb) => this.$HookEvent("click", free? lamb)
var T1=DU.Ref(__THIS);
var T2="click";
var T3=$lamb;
$lamb=undefined;
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.HookEvent").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"52::Create" : function(__DIV){
var $checkbox;
//  ::Create(=> checkbox) => $Input.Create("checkbox")
var T0="input";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
var T4=DU.Ref(T3);
var T5="checkbox";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T4},...T6);
$checkbox=T3;
return [$checkbox];
},
"65::CreateLabelFor" : function(__DIV, $id){
var $label;
//  => dim $CreateElement("label")
var T1="label";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
//  mixin $SetAttribute("htmlFor", id)
var T5=DU.Ref(T4);
var T6="htmlFor";
var T7=DU.Ref($id);
var T8=[T6,T7];
var T9=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T5},...T8);
$label=T4;
return [$label];
},
"78::HookChange" : function(__DIV, $lamb){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.HookChange(lamb) => this.$HookEvent("change", free? lamb)
var T1=DU.Ref(__THIS);
var T2="change";
var T3=$lamb;
$lamb=undefined;
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.HookEvent").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"91::IsChecked" : function(__DIV){
var $checked,__THIS;
__THIS=__DIV.__THIS;
//  ::.IsChecked(=> checked) => this.$GetAttribute("checked")
var T0=DU.Ref(__THIS);
var T1="checked";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T0},...T2);
var T4=DU.ReadReturn(T3,1);
$checked=T4;
return [$checked];
},
"104::SetIsChecked" : function(__DIV, $checked){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$SetAttribute("checked", checked)
var T1=DU.Ref(__THIS);
var T2="checked";
var T3=DU.Ref($checked);
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"117::Create" : function(__DIV){
var $input;
//  ::Create(=> input) => $Input.Create("text")
var T0="input";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
var T4=DU.Ref(T3);
var T5="text";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T4},...T6);
$input=T3;
return [$input];
},
"130::SetText" : function(__DIV, $text){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.SetText(text) \ this.$SetAttribute("value", text)
var T1=DU.Ref(__THIS);
var T2="value";
var T3=DU.Ref($text);
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"143::GetText" : function(__DIV){
var $text,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetText(=> text) => this.$GetAttribute("value")
var T0=DU.Ref(__THIS);
var T1="value";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T0},...T2);
var T4=DU.ReadReturn(T3,1);
$text=T4;
return [$text];
},
"156::Create" : function(__DIV){
var $input;
//  ::Create(=> input) => $Input.Create("number")
var T0="input";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
var T4=DU.Ref(T3);
var T5="number";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T4},...T6);
$input=T3;
return [$input];
},
"169::SetText" : function(__DIV, $num){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.SetText(num) \ this.$SetAttribute("value", num)
var T1=DU.Ref(__THIS);
var T2="value";
var T3=DU.Ref($num);
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"182::GetText" : function(__DIV){
var $num,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetText(=> num) => this.$GetAttribute("value")
var T0=DU.Ref(__THIS);
var T1="value";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T0},...T2);
var T4=DU.ReadReturn(T3,1);
$num=T4;
return [$num];
},
"195::Create" : function(__DIV){
var $elem;
//  ::Create(=> elem) => $CreateElement("select")
var T0="select";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
$elem=T3;
return [$elem];
},
"208::AddOption" : function(__DIV, $text, $val){
var __THIS;
__THIS=__DIV.__THIS;
//  val ?: ""
var T2=$val==null;
if(T2)
{
var T4="";
$val=T4;
}//  this.$AppendChild(dim $CreateElement("option"))
var T6=DU.Ref(__THIS);
var T7="option";
var T8=[T7];
var T9=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T8);
var T10=DU.ReadReturn(T9,1);
//  mixin $SetAttribute("value", val)
var T11=DU.Ref(T10);
var T12="value";
var T13=DU.Ref($val);
var T14=[T12,T13];
var T15=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T11},...T14);
//  mixin $SetText(text)
var T16=DU.Ref(T10);
var T17=DU.Ref($text);
var T18=[T17];
var T19=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T16},...T18);
var T20=[T10];
var T21=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T6},...T20);
var T22=DU.ReadReturn(T21,1);
return [];
},
"221::GetValue" : function(__DIV){
var $val,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetValue(=> val) => this.$GetAttribute("value")
var T0=DU.Ref(__THIS);
var T1="value";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T0},...T2);
var T4=DU.ReadReturn(T3,1);
$val=T4;
return [$val];
},
"234::SetValue" : function(__DIV, $val){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.SetValue(val) \ this.$SetAttribute("value", val)
var T1=DU.Ref(__THIS);
var T2="value";
var T3=DU.Ref($val);
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"247::HookChange" : function(__DIV, $lamb){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.HookChange(lamb) => this.$HookEvent("change", free? lamb)
var T1=DU.Ref(__THIS);
var T2="change";
var T3=$lamb;
$lamb=undefined;
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.HookEvent").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"260::Create" : function(__DIV, $type){
var $input;
//  input : dim $CreateElement("input")
var T1="input";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
//  mixin $Input.SetType(type)
var T5=DU.Ref(T4);
var T6=DU.Ref($type);
var T7=[T6];
var T8=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T5},...T7);
$input=T4;
return [$input];
},
"273::Create" : function(__DIV, $text){
var $para;
//  para : $CreateElement("p")
var T1="p";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$para=T4;
//  if text != null \ para.$SetText(text)
var T6=DU.Ref($text);
var T7=null;
var T8=!DU.AreEqual(T6,T7);
if(T8)
{
var T10=DU.Ref($para);
var T11=DU.Ref($text);
var T12=[T11];
var T13=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T10},...T12);
var T14=DU.ReadReturn(T13,1);
}return [$para];
},
"286::Create" : function(__DIV, $level, $text){
var $elem;
//  elem : $CreateElement("h" + level)
var T2="h";
var T3=DU.Ref($level);
var T4=gVal(T2)+gVal(T3);
var T5=[T4];
var T6=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
$elem=T7;
//  if text != null \ elem.$SetText(text)
var T9=DU.Ref($text);
var T10=null;
var T11=!DU.AreEqual(T9,T10);
if(T11)
{
var T13=DU.Ref($elem);
var T14=DU.Ref($text);
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T13},...T15);
var T17=DU.ReadReturn(T16,1);
}return [$elem];
},
"299::Create" : function(__DIV, $path, $alt){
var $img;
//  => dim $CreateElement("img")
var T2="img";
var T3=[T2];
var T4=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
//  mixin $SetAttribute("src", path)
var T6=DU.Ref(T5);
var T7="src";
var T8=DU.Ref($path);
var T9=[T7,T8];
var T10=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T6},...T9);
//  mixin $SetAttribute("alt", alt ? "")
var T11=DU.Ref(T5);
var T12="alt";
var T13=DU.Ref($alt);
if(T13 != null)
{
var T16=T13;
}else{
var T16="";
}var T17=[T12,T16];
var T18=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T11},...T17);
$img=T5;
return [$img];
},
"312::HideShow" : function(__DIV, $show){
var __THIS;
__THIS=__DIV.__THIS;
//  if show \ this.$Style.RemoveClasses("noDisp")
var T1=DU.Ref($show);
if(T1)
{
var T3=DU.Ref(__THIS);
var T4="noDisp";
var T5=[T4];
var T6=__RUN.getStaticGlo("Dom.Style.RemoveClasses").func({__THIS:T3},...T5);
var T7=DU.ReadReturn(T6,1);
}else
{
//  else \ this.$Style.AddClasses("noDisp")
var T11=DU.Ref(__THIS);
var T12="noDisp";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T11},...T13);
var T15=DU.ReadReturn(T14,1);
}return [];
},
"325::SetBackgroundColor" : function(__DIV, $clr){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$Style.SetAttribute("backgroundColor", clr)
var T1=DU.Ref(__THIS);
var T2="backgroundColor";
var T3=DU.Ref($clr);
var T4=[T2,T3];
var T5=__RUN.getStaticGlo("Dom.Style.SetAttribute").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"338::SetBackgroundImage" : function(__DIV, $url){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$Style.SetAttribute("backgroundImage", "url(" + url + ")")
var T1=DU.Ref(__THIS);
var T2="backgroundImage";
var T3="url(";
var T4=DU.Ref($url);
var T5=gVal(T3)+gVal(T4);
var T6=")";
var T7=gVal(T5)+gVal(T6);
var T8=[T2,T7];
var T9=__RUN.getStaticGlo("Dom.Style.SetAttribute").func({__THIS:T1},...T8);
var T10=DU.ReadReturn(T9,1);
return [];
},
"351::SetClassIf" : function(__DIV, $class, $condition){
var __THIS;
__THIS=__DIV.__THIS;
//  if condition \ this.$AddClasses(class)
var T2=DU.Ref($condition);
if(T2)
{
var T4=DU.Ref(__THIS);
var T5=DU.Ref($class);
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T4},...T6);
var T8=DU.ReadReturn(T7,1);
}else
{
//  else \ this.$RemoveClasses(class)
var T12=DU.Ref(__THIS);
var T13=DU.Ref($class);
var T14=[T13];
var T15=__RUN.getStaticGlo("Dom.Style.RemoveClasses").func({__THIS:T12},...T14);
var T16=DU.ReadReturn(T15,1);
}return [];
},
"364::ToggleBetweenClasses" : function(__DIV, $condition, $trueClass, $falseClass){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$SetClassIf(trueClass, condition)
var T3=DU.Ref(__THIS);
var T4=DU.Ref($trueClass);
var T5=DU.Ref($condition);
var T6=[T4,T5];
var T7=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
//  this.$SetClassIf(falseClass, !condition)
var T10=DU.Ref(__THIS);
var T11=DU.Ref($falseClass);
var T12=DU.Ref($condition);
var T13=!T12;
var T14=[T11,T13];
var T15=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T10},...T14);
var T16=DU.ReadReturn(T15,1);
return [];
},
"377::Hide" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.Hide() => this.$Style.AddClasses("nodisp")
var T0=DU.Ref(__THIS);
var T1="nodisp";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T0},...T2);
var T4=DU.ReadReturn(T3,1);
return [];
},
"390::Show" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.Show() => this.$Style.RemoveClasses("nodisp")
var T0=DU.Ref(__THIS);
var T1="nodisp";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.Style.RemoveClasses").func({__THIS:T0},...T2);
var T4=DU.ReadReturn(T3,1);
return [];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\global.wng
__FUNCS["global_5"] = {
"13::HookKeyDown" : function(__DIV, $ct, $lamb){
//  ^KeyListeners.$List.Add(dim)
var T2="global_5";
var T3=DU.Ref(__RUN.getScratchFile(T2,"KeyLis_19"));
var T4=new OObj();
//  pipe : ct.$Canceler.MakePipe()
var T5=DU.Ref($ct);
var T6=OObj.DotAccess(T5,"pipes");
var T7=__RUN.getStaticGlo("Pipe.Create").func(null);
var T8=DU.ReadReturn(T7,1);
var T9=[T8];
var T10=__RUN.getStaticGlo("List.Add").func({__THIS:T6},...T9);
var T11=DU.ReadReturn(T10,1);
OObj.SetChild(T4,"pipe",T11);
//  lamb : free lamb
var T13=$lamb;
$lamb=undefined;
OObj.SetChild(T4,"lamb",T13);
var T15=[T4];
var T16=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T15);
var T17=DU.ReadReturn(T16,1);
return [];
},
"26::MakeComicBookCard" : function(__DIV, $card, $series, $seriesSub, $issue, $title, $backSty, $lineSty, $foreSty){
var $book,$$alt2;
//  book : dim $Div.Create()
var T8="div";
var T9=[T8];
var T10=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T9);
var T11=DU.ReadReturn(T10,1);
//  mixin $Style.AddClasses("bigBook", backSty, lineSty, foreSty)
var T12=DU.Ref(T11);
var T13="bigBook";
var T14=DU.Ref($backSty);
var T15=DU.Ref($lineSty);
var T16=DU.Ref($foreSty);
var T17=[T13,T14,T15,T16];
var T18=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T12},...T17);
//  mixin $AppendChild(dim $Div.Create())
var T19=DU.Ref(T11);
var T20="div";
var T21=[T20];
var T22=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T21);
var T23=DU.ReadReturn(T22,1);
//  mixin $Style.AddClasses("cardBack")
var T24=DU.Ref(T23);
var T25="cardBack";
var T26=[T25];
var T27=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T24},...T26);
//  mixin $Style.SetBackgroundImage(card.$Img.GetPath())
var T28=DU.Ref(T23);
var T29=DU.Ref($card);
var T30=OObj.DotAccess(T29,"path");
var T31=[T30];
var T32=__RUN.getStaticGlo("Dom.Style.SetBackgroundImage").func({__THIS:T28},...T31);
//  mixin $Img.mixApplyExtraStyles(card)
var T33=DU.Ref(T23);
var T34=DU.Ref($card);
var T35=[T34];
var T36=__RUN.getStaticGlo("Img.mixApplyExtraStyles").func({__THIS:T33},...T35);
var T37=[T23];
var T38=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T19},...T37);
//  mixin $AppendChild(dim $Div.Create())
var T39=DU.Ref(T11);
var T40="div";
var T41=[T40];
var T42=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T41);
var T43=DU.ReadReturn(T42,1);
//  mixin $Style.AddClasses("topBack", "back")
var T44=DU.Ref(T43);
var T45="topBack";
var T46="back";
var T47=[T45,T46];
var T48=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T44},...T47);
var T49=[T43];
var T50=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T39},...T49);
//  mixin $AppendChild(dim $Div.Create())
var T51=DU.Ref(T11);
var T52="div";
var T53=[T52];
var T54=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T53);
var T55=DU.ReadReturn(T54,1);
//  mixin $Style.AddClasses("topDots")
var T56=DU.Ref(T55);
var T57="topDots";
var T58=[T57];
var T59=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T56},...T58);
var T60=[T55];
var T61=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T51},...T60);
//  mixin $AppendChild(dim $Div.Create())
var T62=DU.Ref(T11);
var T63="div";
var T64=[T63];
var T65=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T64);
var T66=DU.ReadReturn(T65,1);
//  mixin $Style.AddClasses("title")
var T67=DU.Ref(T66);
var T68="title";
var T69=[T68];
var T70=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T67},...T69);
//  mixin $SetText(series)
var T71=DU.Ref(T66);
var T72=DU.Ref($series);
var T73=[T72];
var T74=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T71},...T73);
//  mixin $AppendChild(dim $Div.Create())
var T75=DU.Ref(T66);
var T76="div";
var T77=[T76];
var T78=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T77);
var T79=DU.ReadReturn(T78,1);
//  mixin $Style.AddClasses("seriesSub")
var T80=DU.Ref(T79);
var T81="seriesSub";
var T82=[T81];
var T83=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T80},...T82);
//  mixin $SetText(seriesSub)
var T84=DU.Ref(T79);
var T85=DU.Ref($seriesSub);
var T86=[T85];
var T87=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T84},...T86);
var T88=[T79];
var T89=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T75},...T88);
var T90=[T66];
var T91=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T62},...T90);
//  mixin $AppendChild(dim $Div.Create())
var T92=DU.Ref(T11);
var T93="div";
var T94=[T93];
var T95=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T94);
var T96=DU.ReadReturn(T95,1);
//  mixin $Style.AddClasses("issueNum", "back")
var T97=DU.Ref(T96);
var T98="issueNum";
var T99="back";
var T100=[T98,T99];
var T101=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T97},...T100);
//  mixin $SetText("#" + issue)
var T102=DU.Ref(T96);
var T103="#";
var T104=DU.Ref($issue);
var T105=gVal(T103)+gVal(T104);
var T106=[T105];
var T107=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T102},...T106);
//  mixin $AppendChild($Paragraph.Create("20XX"))
var T108=DU.Ref(T96);
var T109="20XX";
var T110=[T109];
var T111=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T110);
var T112=DU.ReadReturn(T111,1);
var T113=[T112];
var T114=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T108},...T113);
//  mixin $AppendChild($Paragraph.Create("JAN"))
var T115=DU.Ref(T96);
var T116="JAN";
var T117=[T116];
var T118=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T117);
var T119=DU.ReadReturn(T118,1);
var T120=[T119];
var T121=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T115},...T120);
var T122=[T96];
var T123=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T92},...T122);
//  mixin $AppendChild(dim $Div.Create())
var T124=DU.Ref(T11);
var T125="div";
var T126=[T125];
var T127=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T126);
var T128=DU.ReadReturn(T127,1);
//  mixin $Style.AddClasses("botBack", "back")
var T129=DU.Ref(T128);
var T130="botBack";
var T131="back";
var T132=[T130,T131];
var T133=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T129},...T132);
var T134=[T128];
var T135=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T124},...T134);
//  mixin $AppendChild(dim $Div.Create())
var T136=DU.Ref(T11);
var T137="div";
var T138=[T137];
var T139=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T138);
var T140=DU.ReadReturn(T139,1);
//  mixin $Style.AddClasses("botDots")
var T141=DU.Ref(T140);
var T142="botDots";
var T143=[T142];
var T144=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T141},...T143);
var T145=[T140];
var T146=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T136},...T145);
//  mixin $AppendChild(dim $Image.Create("assets/barcode.png"))
var T147=DU.Ref(T11);
var T148="img";
var T149=[T148];
var T150=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T149);
var T151=DU.ReadReturn(T150,1);
var T152=DU.Ref(T151);
var T153="src";
var T154="assets/barcode.png";
var T155=[T153,T154];
var T156=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T152},...T155);
var T157=DU.Ref(T151);
var T158="alt";
var T159=DU.Ref($$alt2);
if(T159 != null)
{
var T162=T159;
}else{
var T162="";
}var T163=[T158,T162];
var T164=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T157},...T163);
//  mixin $Style.AddClasses("barcode")
var T165=DU.Ref(T151);
var T166="barcode";
var T167=[T166];
var T168=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T165},...T167);
var T169=[T151];
var T170=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T147},...T169);
//  mixin $AppendChild(dim $Div.Create())
var T171=DU.Ref(T11);
var T172="div";
var T173=[T172];
var T174=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T173);
var T175=DU.ReadReturn(T174,1);
//  mixin $Style.AddClasses("subtitleBack")
var T176=DU.Ref(T175);
var T177="subtitleBack";
var T178=[T177];
var T179=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T176},...T178);
//  mixin $AppendChild(dim $Div.Create())
var T180=DU.Ref(T175);
var T181="div";
var T182=[T181];
var T183=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T182);
var T184=DU.ReadReturn(T183,1);
//  mixin $Style.AddClasses("subtitle", "fore")
var T185=DU.Ref(T184);
var T186="subtitle";
var T187="fore";
var T188=[T186,T187];
var T189=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T185},...T188);
//  mixin $SetText(title)
var T190=DU.Ref(T184);
var T191=DU.Ref($title);
var T192=[T191];
var T193=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T190},...T192);
var T194=[T184];
var T195=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T180},...T194);
var T196=[T175];
var T197=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T171},...T196);
$book=T11;
return [$book];
},
"39::WaitGetFirst" : async function(__DIV, $ct, $valToLambda){
var $val,$pipe,$idx,$$idx2,$lamb;
//  @pipe : $Pipe.Create()
var T2=__RUN.getStaticGlo("Pipe.Create").func(null);
var T3=DU.ReadReturn(T2,1);
$pipe=T3;
//  ct.$Canceler.PipeClean(pipe)
var T5=DU.Ref($ct);
var T6=OObj.DotAccess(T5,"pipes");
var T7=DU.Ref($pipe);
var T8=[T7];
var T9=__RUN.getStaticGlo("List.Add").func({__THIS:T6},...T8);
var T10=DU.ReadReturn(T9,1);
//  for @lamb of valToLambda at @idx
var T12=DU.Ref($valToLambda);
var T13=OObj.getFirstKey(T12);
$idx=T13;
for(var T15=0;;T15++)
{
if(T15>0)
{
var T16=DU.Ref($valToLambda);
var T17=DU.Ref($idx);
var T18=OObj.getNextKey(T16,T17);
var T19=$idx;
$idx=null;
$$idx2=T19;
$idx=T18;
}var T22=DU.Ref($idx);
var T23=T22 != null;
if(!T23){break;}
var T25=DU.Ref($valToLambda);
var T26=DU.Ref($idx);
var T27=OObj.GetPath(T25,[T26]);
$lamb=T27;
//  arun lambda
var T29=OObj.MakeFunc(__FUNCS["global_5"]["52_func81"],{$pipe: DU.Ref($pipe),$idx: DU.Ref($idx),$lamb: DU.Ref($lamb)});
var T30=__RUN.runJobLambda(T29);
continue;
}//  val : await pipe.$Pipe.ReadAsync()
var T33=$$idx2;
$$idx2=null;
$idx=T33;
var T35=$lamb;
$lamb=undefined;
var T37=DU.Ref($pipe);
var T39=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T37});
var T40=DU.ReadReturn(T39,1);
$val=T40;
return [$val];
},
"52_func81" : async function(__DIV){
var $lamb,$pipe,$idx,$error;
if('$lamb' in __DIV.capture){$lamb=__DIV.capture["$lamb"];}
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$idx' in __DIV.capture){$idx=__DIV.capture["$idx"];}
//  await $(lamb)
var T1=DU.Ref($lamb);
var T3=await OObj._RunLambda(T1,{});
var T4=DU.ReadReturn(T3,1);
//  trap pipe.$Pipe.Write(idx)
try
{
var T7=DU.Ref($pipe);
var T8=DU.Ref($idx);
var T9=[T8];
var T10=__RUN.getStaticGlo("Pipe.Write").func({__THIS:T7},...T9);
var T11=DU.ReadReturn(T10,1);
}catch($error)
{
}return [];
},
"65::MergeIn" : function(__DIV, $target){
var __THIS,$key,$$key2;
__THIS=__DIV.__THIS;
//  for @key in target
var T1=DU.Ref($target);
var T2=OObj.getFirstKey(T1);
$key=T2;
for(var T4=0;;T4++)
{
if(T4>0)
{
var T5=DU.Ref($target);
var T6=DU.Ref($key);
var T7=OObj.getNextKey(T5,T6);
var T8=$key;
$key=null;
$$key2=T8;
$key=T7;
}var T11=DU.Ref($key);
var T12=T11 != null;
if(!T12){break;}
//  if this[key] = target[key] \ continue
var T15=DU.Ref(__THIS);
var T16=DU.Ref($key);
var T17=OObj.GetPath(T15,[T16]);
var T18=DU.Ref($target);
var T19=DU.Ref($key);
var T20=OObj.GetPath(T18,[T19]);
var T21=DU.AreEqual(T17,T20);
if(T21)
{
continue;
}else
{
//  else if this.$Obj.Owns(key)
var T26=DU.Ref(__THIS);
var T27=DU.Ref($key);
var T28=[T27];
var T29=__RUN.getStaticGlo("Obj.Owns").func({__THIS:T26},...T28);
var T30=DU.ReadReturn(T29,1);
if(T30)
{
//  this[key].$MergeIn(target[key])
var T32=DU.Ref(__THIS);
var T33=DU.Ref($key);
var T34=OObj.GetPath(T32,[T33]);
var T35=DU.Ref($target);
var T36=DU.Ref($key);
var T37=OObj.GetPath(T35,[T36]);
var T38=[T37];
var T39=__RUN.getStaticGlo("Util.MergeIn").func({__THIS:T34},...T38);
var T40=DU.ReadReturn(T39,1);
}else
{
//  else
//  this[key] : copy target[key]
var T44=DU.Ref($target);
var T45=DU.Ref($key);
var T46=OObj.GetPath(T44,[T45]);
var T47=DU.Copy(T46);
var T48=DU.Ref(__THIS);
var T49=DU.Ref($key);
OObj.SetPath(T48,[T49],T47);
}}continue;
}return [];
},
"78::Create" : function(__DIV, $title){
var $div;
//  div : $g.Stage.$AppendChild(dim $Div.Create())
var T1=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T2="div";
var T3=[T2];
var T4=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
//  mixin $Style.AddClasses("popup")
var T6=DU.Ref(T5);
var T7="popup";
var T8=[T7];
var T9=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T6},...T8);
var T10=[T5];
var T11=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T1},...T10);
var T12=DU.ReadReturn(T11,1);
$div=T12;
//  if title != null
var T14=DU.Ref($title);
var T15=null;
var T16=!DU.AreEqual(T14,T15);
if(T16)
{
//  div.$AppendChild(dim $Paragraph.Create(title))
var T18=DU.Ref($div);
var T19=DU.Ref($title);
var T20=[T19];
var T21=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T20);
var T22=DU.ReadReturn(T21,1);
//  mixin $Style.AddClasses("text", "top-left")
var T23=DU.Ref(T22);
var T24="text";
var T25="top-left";
var T26=[T24,T25];
var T27=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T23},...T26);
var T28=[T22];
var T29=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T18},...T28);
var T30=DU.ReadReturn(T29,1);
}return [$div];
},
"91::AddMarkdown" : function(__DIV, $md){
var __THIS,$text;
__THIS=__DIV.__THIS;
//  @text : $GT(md)
var T1=DU.Ref($md);
var T2=[T1];
var T3=__RUN.getStaticGlo("GT").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$text=T4;
//  this.$AppendChild(dim $Paragraph.Create())
var T6=DU.Ref(__THIS);
var T7=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T8=DU.ReadReturn(T7,1);
//  mixin $SetHtml($MarkdownToHtml(text))
var T9=DU.Ref(T8);
var T10=DU.Ref($text);
var T11=[T10];
var T12=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
var T14=[T13];
var T15=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T9},...T14);
//  mixin $Style.SetClassIf("long", text.$Str.Len() > 150)
var T16=DU.Ref(T8);
var T17="long";
var T18=DU.Ref($text);
var T19=__RUN.getStaticGlo("Str.Len").func({__THIS:T18});
var T20=DU.ReadReturn(T19,1);
var T21=150;
var T22=gVal(T20) > gVal(T21);
var T23=[T17,T22];
var T24=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T16},...T23);
var T25=[T8];
var T26=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T6},...T25);
var T27=DU.ReadReturn(T26,1);
return [];
},
"104::AddBotRightButton" : function(__DIV, $onclick, $label){
var __THIS;
__THIS=__DIV.__THIS;
//  label ?: "Continue"
var T2=$label==null;
if(T2)
{
var T4="Continue";
$label=T4;
}//  this.$AppendChild(dim $Button.Create())
var T6=DU.Ref(__THIS);
var T7="button";
var T8=[T7];
var T9=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T8);
var T10=DU.ReadReturn(T9,1);
//  mixin $SetText(label)
var T11=DU.Ref(T10);
var T12=DU.Ref($label);
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T11},...T13);
//  mixin $Style.AddClasses("bottom-right")
var T15=DU.Ref(T10);
var T16="bottom-right";
var T17=[T16];
var T18=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T15},...T17);
//  mixin $Button.HookClick(free? onclick)
var T19=DU.Ref(T10);
var T20=$onclick;
$onclick=undefined;
var T21=[T20];
var T22=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T19},...T21);
var T23=[T10];
var T24=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T6},...T23);
var T25=DU.ReadReturn(T24,1);
return [];
},
"117::Create" : function(__DIV){
var $obj;
//  => dim
var T0=new OObj();
//  live : true
var T1=true;
OObj.SetChild(T0,"live",T1);
//  pipes : dim()
var T3=new OObj();
OObj.SetChild(T0,"pipes",T3);
$obj=T0;
return [$obj];
},
"130::MakePipe" : function(__DIV){
var $pipe,__THIS;
__THIS=__DIV.__THIS;
//  => this.pipes.$List.Add($Pipe.Create())
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"pipes");
var T2=__RUN.getStaticGlo("Pipe.Create").func(null);
var T3=DU.ReadReturn(T2,1);
var T4=[T3];
var T5=__RUN.getStaticGlo("List.Add").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
$pipe=T6;
return [$pipe];
},
"143::PipeClean" : function(__DIV, $pipe){
var __THIS;
__THIS=__DIV.__THIS;
//  this.pipes.$List.Add(pipe)
var T1=DU.Ref(__THIS);
var T2=OObj.DotAccess(T1,"pipes");
var T3=DU.Ref($pipe);
var T4=[T3];
var T5=__RUN.getStaticGlo("List.Add").func({__THIS:T2},...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"156::Cancel" : function(__DIV){
var __THIS,$$iter2,$it;
__THIS=__DIV.__THIS;
//  if this.$IsLive()
var T1=DU.Ref(__THIS);
var T2=OObj.DotAccess(T1,"live");
if(T2)
{
//  this.live : false
var T4=false;
var T5=DU.Ref(__THIS);
OObj.SetChild(T5,"live",T4);
//  for this.pipes
var T7=DU.Ref(__THIS);
var T8=OObj.DotAccess(T7,"pipes");
var T9=DU.MakeIter(T8);
$$iter2=T9;
for(var T11=0;;T11++)
{
if(T11>0)
{
var T12=DU.Ref($$iter2);
T12.Next();
}var T14=DU.Ref($$iter2);
var T15=T14.iter.done;
var T16=!T15;
if(!T16){break;}
var T18=DU.Ref($$iter2);
var T19=T18.iter.value[0];
$it=T19;
//  it.$Pipe.Kill()
var T21=DU.Ref($it);
var T22=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T21});
var T23=DU.ReadReturn(T22,1);
continue;
}var T26=$it;
$it=undefined;
}return [];
},
"169::IsLive" : function(__DIV){
var $bool,__THIS;
__THIS=__DIV.__THIS;
//  ::.IsLive(=> bool) => this.live
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"live");
$bool=T1;
return [$bool];
},
"182::TryCancel" : function(__DIV){
var $bool,__THIS;
__THIS=__DIV.__THIS;
//  bool : this.$IsLive()
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"live");
$bool=T1;
//  if bool \ this.$Cancel()
var T3=DU.Ref($bool);
if(T3)
{
var T5=DU.Ref(__THIS);
var T6=__RUN.getStaticGlo("Canceler.Cancel").func({__THIS:T5});
var T7=DU.ReadReturn(T6,1);
}return [$bool];
},
"195::AsyncWait" : async function(__DIV){
var __THIS,$pipe;
__THIS=__DIV.__THIS;
//  @pipe : this.$MakePipe()
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"pipes");
var T2=__RUN.getStaticGlo("Pipe.Create").func(null);
var T3=DU.ReadReturn(T2,1);
var T4=[T3];
var T5=__RUN.getStaticGlo("List.Add").func({__THIS:T1},...T4);
var T6=DU.ReadReturn(T5,1);
$pipe=T6;
//  await pipe.$Pipe.ReadAsync()
var T8=DU.Ref($pipe);
var T10=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T8});
var T11=DU.ReadReturn(T10,1);
return [];
},
"208::CleanKeyListeners" : function(__DIV){
var $$struct2,$idx,$$idx3,$listener;
//  for @listener of copy ^KeyListeners at @idx
var T0="global_5";
var T1=DU.Ref(__RUN.getScratchFile(T0,"KeyLis_19"));
var T2=DU.Copy(T1);
$$struct2=T2;
var T4=DU.Ref($$struct2);
var T5=OObj.getFirstKey(T4);
$idx=T5;
for(var T7=0;;T7++)
{
if(T7>0)
{
var T8=DU.Ref($$struct2);
var T9=DU.Ref($idx);
var T10=OObj.getNextKey(T8,T9);
var T11=$idx;
$idx=null;
$$idx3=T11;
$idx=T10;
}var T14=DU.Ref($idx);
var T15=T14 != null;
if(!T15){break;}
var T17=DU.Ref($$struct2);
var T18=DU.Ref($idx);
var T19=OObj.GetPath(T17,[T18]);
$listener=T19;
//  if !listener.pipe.$Pipe.IsLive()
var T21=DU.Ref($listener);
var T22=OObj.DotAccess(T21,"pipe");
var T23=__RUN.getStaticGlo("Pipe.IsLive").func({__THIS:T22});
var T24=DU.ReadReturn(T23,1);
var T25=!T24;
if(T25)
{
//  free ^KeyListeners[idx]
var T27="global_5";
var T28=DU.Ref(__RUN.getScratchFile(T27,"KeyLis_19"));
var T29=DU.Ref($idx);
var T30=OObj.FreePath(T28, [T29]);
}continue;
}//  ^KeyListeners.$List.Compress()
var T34=$$idx3;
$$idx3=null;
$idx=T34;
var T36=$listener;
$listener=undefined;
var T38="global_5";
var T39=DU.Ref(__RUN.getScratchFile(T38,"KeyLis_19"));
var T40=__RUN.getStaticGlo("List.Compress").func({__THIS:T39});
var T41=DU.ReadReturn(T40,1);
return [];
},
"221_func155" : function(__DIV, $event){
var $foc,$tag,$type,$$iter2,$listener;
if('$event' in __DIV.capture){$event=__DIV.capture["$event"];}
//  @foc : $Document["activeElement"]
var T1=DU.Ref(__RUN.getStaticGlo("Dom.Document"));
var T2="activeElement";
var T3=OObj.GetPath(T1,[T2]);
$foc=T3;
//  @tag : foc.$GetAttribute("tagName")?.$Str.ToLower()
var T5=DU.Ref($foc);
var T6="tagName";
var T7=[T6];
var T8=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T5},...T7);
var T9=DU.ReadReturn(T8,1);
if(T9 != null)
{
var T10=T9;
var T11=__RUN.getStaticGlo("Str.ToLower").func({__THIS:T9});
var T12=DU.ReadReturn(T11,1);
}else {var T12=null;}
$tag=T12;
//  @type : foc.$GetAttribute("type")?.$Str.ToLower()
var T14=DU.Ref($foc);
var T15="type";
var T16=[T15];
var T17=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T14},...T16);
var T18=DU.ReadReturn(T17,1);
if(T18 != null)
{
var T19=T18;
var T20=__RUN.getStaticGlo("Str.ToLower").func({__THIS:T18});
var T21=DU.ReadReturn(T20,1);
}else {var T21=null;}
$type=T21;
//  if foc = null | tag != "input" | (type != "text" & type != "number")
var T23=DU.Ref($foc);
var T24=null;
var T25=DU.AreEqual(T23,T24);
if(!!T25)
{
var T30=true;
}else{
var T28=DU.Ref($tag);
var T29="input";
var T30=!DU.AreEqual(T28,T29);
}if(!!T30)
{
var T40=true;
}else{
var T33=DU.Ref($type);
var T34="text";
var T35=!DU.AreEqual(T33,T34);
if(!T35)
{
var T40=false;
}else{
var T38=DU.Ref($type);
var T39="number";
var T40=!DU.AreEqual(T38,T39);
}}if(T40)
{
//  $CleanKeyListeners()
var T42=__RUN.getStaticFile("global_5","CleanKeyListeners").func(null);
var T43=DU.ReadReturn(T42,1);
//  for @listener : ^KeyListeners
var T45="global_5";
var T46=DU.Ref(__RUN.getScratchFile(T45,"KeyLis_19"));
var T47=DU.MakeIter(T46);
$$iter2=T47;
for(var T49=0;;T49++)
{
if(T49>0)
{
var T50=DU.Ref($$iter2);
T50.Next();
}var T52=DU.Ref($$iter2);
var T53=T52.iter.done;
var T54=!T53;
if(!T54){break;}
var T56=DU.Ref($$iter2);
var T57=T56.iter.value[0];
$listener=T57;
//  $(listener.lamb, event)
var T59="event";
var T60=DU.Ref($listener);
var T61=OObj.DotAccess(T60,"lamb");
var T62=OObj._RunLambda(T61,{$event: DU.Ref($event)});
var T63=DU.ReadReturn(T62,1);
continue;
}var T66=$listener;
$listener=undefined;
}return [];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\Heroes.wng
__FUNCS["Heroes_6"] = {
"13::mkHero" : function(__DIV, $left, $right, $band, $file, $alt, $hp){
var $img;
//  => dim $Heroes.Create(file, alt, hp)
var T6="Heroes_6";
var T7=DU.Ref(__RUN.getScratchFile(T6,"AllHer_17"));
var T8=new OObj();
var T9="assets/heroes/";
var T10=DU.Ref($file);
var T11=gVal(T9)+gVal(T10);
var T12=".png";
var T13=gVal(T11)+gVal(T12);
OObj.SetChild(T8,"path",T13);
var T15="Card: ";
var T16=DU.Ref($alt);
var T17=gVal(T15)+gVal(T16);
OObj.SetChild(T8,"alt",T17);
var T19=DU.Ref($alt);
OObj.SetChild(T8,"name",T19);
var T21=DU.Ref($hp);
OObj.SetChild(T8,"hp",T21);
var T23=[T8];
var T24=__RUN.getStaticGlo("List.Add").func({__THIS:T7},...T23);
var T25=DU.ReadReturn(T24,1);
//  mixin $Heroes.mixColors(left, right, band)
var T26=DU.Ref(T25);
var T27=DU.Ref($left);
var T28=DU.Ref($right);
var T29=DU.Ref($band);
var T30=[T27,T28,T29];
var T31=__RUN.getStaticGlo("Heroes.mixColors").func({__THIS:T26},...T30);
$img=T25;
return [$img];
},
"26::mixBannerLower" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.mixBannerLower() \ this.bannerLower : true
var T0=true;
var T1=DU.Ref(__THIS);
OObj.SetChild(T1,"bannerLower",T0);
return [];
},
"39::mixBadgeLeft" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.mixBadgeLeft() \ this.badgeLeft : true
var T0=true;
var T1=DU.Ref(__THIS);
OObj.SetChild(T1,"badgeLeft",T0);
return [];
},
"52::mixBadgeRight" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.mixBadgeRight() \ this.badgeRight : true
var T0=true;
var T1=DU.Ref(__THIS);
OObj.SetChild(T1,"badgeRight",T0);
return [];
},
"65::mixBadgeDown" : function(__DIV){
var __THIS;
__THIS=__DIV.__THIS;
//  ::.mixBadgeDown() \ this.badgeDown : true
var T0=true;
var T1=DU.Ref(__THIS);
OObj.SetChild(T1,"badgeDown",T0);
return [];
},
"78::Create" : function(__DIV, $file, $alt, $hp){
var $hero;
//  => ^AllHeroes.$List.Add(dim $Img.Reg("assets/heroes/" + file + ".png", "Card: " + alt))
var T3="Heroes_6";
var T4=DU.Ref(__RUN.getScratchFile(T3,"AllHer_17"));
var T5=new OObj();
var T6="assets/heroes/";
var T7=DU.Ref($file);
var T8=gVal(T6)+gVal(T7);
var T9=".png";
var T10=gVal(T8)+gVal(T9);
OObj.SetChild(T5,"path",T10);
var T12="Card: ";
var T13=DU.Ref($alt);
var T14=gVal(T12)+gVal(T13);
OObj.SetChild(T5,"alt",T14);
//  name : alt
var T16=DU.Ref($alt);
OObj.SetChild(T5,"name",T16);
//  hp : hp
var T18=DU.Ref($hp);
OObj.SetChild(T5,"hp",T18);
var T20=[T5];
var T21=__RUN.getStaticGlo("List.Add").func({__THIS:T4},...T20);
var T22=DU.ReadReturn(T21,1);
$hero=T22;
return [$hero];
},
"91::GetHeroes" : function(__DIV){
var $list;
//  ::GetHeroes(=> list) => ^AllHeroes
var T0="Heroes_6";
var T1=DU.Ref(__RUN.getScratchFile(T0,"AllHer_17"));
$list=T1;
return [$list];
},
"104::GetHp" : function(__DIV){
var $hp,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetHp(=> hp) => this.hp
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"hp");
$hp=T1;
return [$hp];
},
"117::GetName" : function(__DIV){
var $name,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetName(=> name) => this.name
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"name");
$name=T1;
return [$name];
},
"130::mixColors" : function(__DIV, $left, $right, $band){
var __THIS;
__THIS=__DIV.__THIS;
//  this.clrLeft : "#" + left
var T3="#";
var T4=DU.Ref($left);
var T5=gVal(T3)+gVal(T4);
var T6=DU.Ref(__THIS);
OObj.SetChild(T6,"clrLeft",T5);
//  if right = "" \ right : left
var T8=DU.Ref($right);
var T9="";
var T10=DU.AreEqual(T8,T9);
if(T10)
{
var T12=DU.Ref($left);
$right=T12;
}//  this.clrRight : "#" + right
var T15="#";
var T16=DU.Ref($right);
var T17=gVal(T15)+gVal(T16);
var T18=DU.Ref(__THIS);
OObj.SetChild(T18,"clrRight",T17);
//  this.clrBand : "#" + band
var T20="#";
var T21=DU.Ref($band);
var T22=gVal(T20)+gVal(T21);
var T23=DU.Ref(__THIS);
OObj.SetChild(T23,"clrBand",T22);
return [];
},
"143::LookupByName" : function(__DIV, $name){
var $hero,$$iter2,$it;
//  for ^AllHeroes
var T1="Heroes_6";
var T2=DU.Ref(__RUN.getScratchFile(T1,"AllHer_17"));
var T3=DU.MakeIter(T2);
$$iter2=T3;
for(var T5=0;;T5++)
{
if(T5>0)
{
var T6=DU.Ref($$iter2);
T6.Next();
}var T8=DU.Ref($$iter2);
var T9=T8.iter.done;
var T10=!T9;
if(!T10){break;}
var T12=DU.Ref($$iter2);
var T13=T12.iter.value[0];
$it=T13;
//  if it.name = name
var T15=DU.Ref($it);
var T16=OObj.DotAccess(T15,"name");
var T17=DU.Ref($name);
var T18=DU.AreEqual(T16,T17);
if(T18)
{
//  return it
var T20=DU.Ref($it);
$hero=T20;
return [$hero];
}continue;
}return [$hero];
},
"156::MakeHeroBanner" : function(__DIV){
var $elem,__THIS;
__THIS=__DIV.__THIS;
//  elem : dim $Div.Create()
var T0="div";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
//  mixin $Style.AddClasses("hero")
var T4=DU.Ref(T3);
var T5="hero";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T4},...T6);
//  mixin $AppendChild(dim $Div.Create())
var T8=DU.Ref(T3);
var T9="div";
var T10=[T9];
var T11=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T10);
var T12=DU.ReadReturn(T11,1);
//  mixin $Style.AddClasses("hImg")
var T13=DU.Ref(T12);
var T14="hImg";
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T13},...T15);
//  mixin $Style.SetBackgroundImage(this.$Img.GetPath())
var T17=DU.Ref(T12);
var T18=DU.Ref(__THIS);
var T19=OObj.DotAccess(T18,"path");
var T20=[T19];
var T21=__RUN.getStaticGlo("Dom.Style.SetBackgroundImage").func({__THIS:T17},...T20);
var T22=[T12];
var T23=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T8},...T22);
//  mixin $AppendChild(dim $Div.Create())
var T24=DU.Ref(T3);
var T25="div";
var T26=[T25];
var T27=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T26);
var T28=DU.ReadReturn(T27,1);
//  mixin $Style.AddClasses("hLeft")
var T29=DU.Ref(T28);
var T30="hLeft";
var T31=[T30];
var T32=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T29},...T31);
//  mixin $Style.SetBackgroundColor(this.clrLeft)
var T33=DU.Ref(T28);
var T34=DU.Ref(__THIS);
var T35=OObj.DotAccess(T34,"clrLeft");
var T36=[T35];
var T37=__RUN.getStaticGlo("Dom.Style.SetBackgroundColor").func({__THIS:T33},...T36);
var T38=[T28];
var T39=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T24},...T38);
//  mixin $AppendChild(dim $Div.Create())
var T40=DU.Ref(T3);
var T41="div";
var T42=[T41];
var T43=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T42);
var T44=DU.ReadReturn(T43,1);
//  mixin $Style.AddClasses("hRight")
var T45=DU.Ref(T44);
var T46="hRight";
var T47=[T46];
var T48=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T45},...T47);
//  mixin $Style.SetBackgroundColor(this.clrRight)
var T49=DU.Ref(T44);
var T50=DU.Ref(__THIS);
var T51=OObj.DotAccess(T50,"clrRight");
var T52=[T51];
var T53=__RUN.getStaticGlo("Dom.Style.SetBackgroundColor").func({__THIS:T49},...T52);
var T54=[T44];
var T55=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T40},...T54);
//  mixin $AppendChild(dim $Div.Create())
var T56=DU.Ref(T3);
var T57="div";
var T58=[T57];
var T59=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T58);
var T60=DU.ReadReturn(T59,1);
//  mixin $Style.AddClasses("hBandL")
var T61=DU.Ref(T60);
var T62="hBandL";
var T63=[T62];
var T64=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T61},...T63);
//  mixin $Style.SetBackgroundColor(this.clrBand)
var T65=DU.Ref(T60);
var T66=DU.Ref(__THIS);
var T67=OObj.DotAccess(T66,"clrBand");
var T68=[T67];
var T69=__RUN.getStaticGlo("Dom.Style.SetBackgroundColor").func({__THIS:T65},...T68);
var T70=[T60];
var T71=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T56},...T70);
//  mixin $AppendChild(dim $Div.Create())
var T72=DU.Ref(T3);
var T73="div";
var T74=[T73];
var T75=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T74);
var T76=DU.ReadReturn(T75,1);
//  mixin $Style.AddClasses("hBandR")
var T77=DU.Ref(T76);
var T78="hBandR";
var T79=[T78];
var T80=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T77},...T79);
//  mixin $Style.SetBackgroundColor(this.clrBand)
var T81=DU.Ref(T76);
var T82=DU.Ref(__THIS);
var T83=OObj.DotAccess(T82,"clrBand");
var T84=[T83];
var T85=__RUN.getStaticGlo("Dom.Style.SetBackgroundColor").func({__THIS:T81},...T84);
var T86=[T76];
var T87=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T72},...T86);
//  mixin $AppendChild(dim $Div.Create())
var T88=DU.Ref(T3);
var T89="div";
var T90=[T89];
var T91=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T90);
var T92=DU.ReadReturn(T91,1);
//  mixin $Style.AddClasses("hName")
var T93=DU.Ref(T92);
var T94="hName";
var T95=[T94];
var T96=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T93},...T95);
//  mixin $SetText(this.name)
var T97=DU.Ref(T92);
var T98=DU.Ref(__THIS);
var T99=OObj.DotAccess(T98,"name");
var T100=[T99];
var T101=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T97},...T100);
var T102=[T92];
var T103=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T88},...T102);
$elem=T3;
//  if this has bannerLower
var T105=DU.Ref(__THIS);
var T106=T105.inner!=null && ("bannerLower" in T105.inner);
if(T106)
{
//  elem.$Style.AddClasses("bannerLower")
var T108=DU.Ref($elem);
var T109="bannerLower";
var T110=[T109];
var T111=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T108},...T110);
var T112=DU.ReadReturn(T111,1);
}return [$elem];
},
"169::MakeHeroBadge" : function(__DIV){
var $elem,__THIS;
__THIS=__DIV.__THIS;
//  elem : dim $Div.Create()
var T0="div";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
//  mixin $Style.AddClasses("heroBadge")
var T4=DU.Ref(T3);
var T5="heroBadge";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T4},...T6);
//  mixin $AppendChild(dim $Div.Create())
var T8=DU.Ref(T3);
var T9="div";
var T10=[T9];
var T11=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T10);
var T12=DU.ReadReturn(T11,1);
//  mixin $Style.AddClasses("hbRight")
var T13=DU.Ref(T12);
var T14="hbRight";
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T13},...T15);
//  mixin $Style.SetBackgroundColor(this.clrRight)
var T17=DU.Ref(T12);
var T18=DU.Ref(__THIS);
var T19=OObj.DotAccess(T18,"clrRight");
var T20=[T19];
var T21=__RUN.getStaticGlo("Dom.Style.SetBackgroundColor").func({__THIS:T17},...T20);
var T22=[T12];
var T23=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T8},...T22);
//  mixin $AppendChild(dim $Div.Create())
var T24=DU.Ref(T3);
var T25="div";
var T26=[T25];
var T27=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T26);
var T28=DU.ReadReturn(T27,1);
//  mixin $Style.AddClasses("hbLeft")
var T29=DU.Ref(T28);
var T30="hbLeft";
var T31=[T30];
var T32=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T29},...T31);
//  mixin $Style.SetBackgroundColor(this.clrLeft)
var T33=DU.Ref(T28);
var T34=DU.Ref(__THIS);
var T35=OObj.DotAccess(T34,"clrLeft");
var T36=[T35];
var T37=__RUN.getStaticGlo("Dom.Style.SetBackgroundColor").func({__THIS:T33},...T36);
var T38=[T28];
var T39=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T24},...T38);
//  mixin $AppendChild(dim $Div.Create())
var T40=DU.Ref(T3);
var T41="div";
var T42=[T41];
var T43=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T42);
var T44=DU.ReadReturn(T43,1);
//  mixin $Style.AddClasses("hbBand")
var T45=DU.Ref(T44);
var T46="hbBand";
var T47=[T46];
var T48=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T45},...T47);
//  mixin $Style.SetBackgroundColor(this.clrBand)
var T49=DU.Ref(T44);
var T50=DU.Ref(__THIS);
var T51=OObj.DotAccess(T50,"clrBand");
var T52=[T51];
var T53=__RUN.getStaticGlo("Dom.Style.SetBackgroundColor").func({__THIS:T49},...T52);
var T54=[T44];
var T55=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T40},...T54);
//  mixin $AppendChild(dim $Div.Create())
var T56=DU.Ref(T3);
var T57="div";
var T58=[T57];
var T59=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T58);
var T60=DU.ReadReturn(T59,1);
//  mixin $Style.AddClasses("hbImg")
var T61=DU.Ref(T60);
var T62="hbImg";
var T63=[T62];
var T64=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T61},...T63);
//  mixin $Style.SetBackgroundImage(this.$Img.GetPath())
var T65=DU.Ref(T60);
var T66=DU.Ref(__THIS);
var T67=OObj.DotAccess(T66,"path");
var T68=[T67];
var T69=__RUN.getStaticGlo("Dom.Style.SetBackgroundImage").func({__THIS:T65},...T68);
var T70=[T60];
var T71=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T56},...T70);
$elem=T3;
//  if this has badgeLeft
var T73=DU.Ref(__THIS);
var T74=T73.inner!=null && ("badgeLeft" in T73.inner);
if(T74)
{
//  elem.$Style.AddClasses("hbNudgeLeft")
var T76=DU.Ref($elem);
var T77="hbNudgeLeft";
var T78=[T77];
var T79=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T76},...T78);
var T80=DU.ReadReturn(T79,1);
}//  if this has badgeRight
var T84=DU.Ref(__THIS);
var T85=T84.inner!=null && ("badgeRight" in T84.inner);
if(T85)
{
//  elem.$Style.AddClasses("hbNudgeRight")
var T87=DU.Ref($elem);
var T88="hbNudgeRight";
var T89=[T88];
var T90=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T87},...T89);
var T91=DU.ReadReturn(T90,1);
}//  if this has badgeDown
var T95=DU.Ref(__THIS);
var T96=T95.inner!=null && ("badgeDown" in T95.inner);
if(T96)
{
//  elem.$Style.AddClasses("hbNudgeDown")
var T98=DU.Ref($elem);
var T99="hbNudgeDown";
var T100=[T99];
var T101=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T98},...T100);
var T102=DU.ReadReturn(T101,1);
}return [$elem];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\images.wng
__FUNCS["images_7"] = {
"13::mkCard" : function(__DIV, $file, $alt){
var $img;
//  ::mkCard(file, alt => img) => $Img.Reg("assets/cards/" + file + ".jpg", "Card: " + alt)
var T2=new OObj();
var T3="assets/cards/";
var T4=DU.Ref($file);
var T5=gVal(T3)+gVal(T4);
var T6=".jpg";
var T7=gVal(T5)+gVal(T6);
OObj.SetChild(T2,"path",T7);
var T9="Card: ";
var T10=DU.Ref($alt);
var T11=gVal(T9)+gVal(T10);
OObj.SetChild(T2,"alt",T11);
$img=T2;
return [$img];
},
"26::mkCampaign" : function(__DIV, $file, $alt){
var $img;
//  ::mkCampaign(file, alt => img) => $Img.Reg("assets/campaigns/" + file + ".jpg", "Campaign: " + alt)
var T2=new OObj();
var T3="assets/campaigns/";
var T4=DU.Ref($file);
var T5=gVal(T3)+gVal(T4);
var T6=".jpg";
var T7=gVal(T5)+gVal(T6);
OObj.SetChild(T2,"path",T7);
var T9="Campaign: ";
var T10=DU.Ref($alt);
var T11=gVal(T9)+gVal(T10);
OObj.SetChild(T2,"alt",T11);
$img=T2;
return [$img];
},
"39::mixExtraStyle" : function(__DIV, $style){
var __THIS;
__THIS=__DIV.__THIS;
//  this["style"] ?: dim()
var T1=DU.Ref(__THIS);
var T2="style";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=new OObj();
}var T7=DU.Ref(__THIS);
var T8="style";
OObj.SetPath(T7,[T8],T6);
//  this.style.$List.Add(style)
var T10=DU.Ref(__THIS);
var T11=OObj.DotAccess(T10,"style");
var T12=DU.Ref($style);
var T13=[T12];
var T14=__RUN.getStaticGlo("List.Add").func({__THIS:T11},...T13);
var T15=DU.ReadReturn(T14,1);
return [];
},
"52::Reg" : function(__DIV, $file, $alt){
var $img;
//  => dim
var T2=new OObj();
//  path : file
var T3=DU.Ref($file);
OObj.SetChild(T2,"path",T3);
//  alt : alt
var T5=DU.Ref($alt);
OObj.SetChild(T2,"alt",T5);
$img=T2;
return [$img];
},
"65::GetPath" : function(__DIV){
var $path,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetPath(=> path) => this.path
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"path");
$path=T1;
return [$path];
},
"78::GetAltText" : function(__DIV){
var $alt,__THIS;
__THIS=__DIV.__THIS;
//  ::.GetAltText(=> alt) => this.alt
var T0=DU.Ref(__THIS);
var T1=OObj.DotAccess(T0,"alt");
$alt=T1;
return [$alt];
},
"91::MakeElem" : function(__DIV){
var $imgElem,__THIS;
__THIS=__DIV.__THIS;
//  => $Dom.Image.Create(this.path, this.alt)
var T0="img";
var T1=[T0];
var T2=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
var T4=DU.Ref(T3);
var T5="src";
var T6=DU.Ref(__THIS);
var T7=OObj.DotAccess(T6,"path");
var T8=[T5,T7];
var T9=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T4},...T8);
var T10=DU.Ref(T3);
var T11="alt";
var T12=DU.Ref(__THIS);
var T13=OObj.DotAccess(T12,"alt");
if(T13 != null)
{
var T16=T13;
}else{
var T16="";
}var T17=[T11,T16];
var T18=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T10},...T17);
$imgElem=T3;
return [$imgElem];
},
"104::mixApplyExtraStyles" : function(__DIV, $img){
var __THIS,$$iter2,$it;
__THIS=__DIV.__THIS;
//  if img has style
var T1=DU.Ref($img);
var T2=T1.inner!=null && ("style" in T1.inner);
if(T2)
{
//  for img.style
var T4=DU.Ref($img);
var T5=OObj.DotAccess(T4,"style");
var T6=DU.MakeIter(T5);
$$iter2=T6;
for(var T8=0;;T8++)
{
if(T8>0)
{
var T9=DU.Ref($$iter2);
T9.Next();
}var T11=DU.Ref($$iter2);
var T12=T11.iter.done;
var T13=!T12;
if(!T13){break;}
var T15=DU.Ref($$iter2);
var T16=T15.iter.value[0];
$it=T16;
//  this.$Dom.Style.AddClasses(it)
var T18=DU.Ref(__THIS);
var T19=DU.Ref($it);
var T20=[T19];
var T21=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T18},...T20);
var T22=DU.ReadReturn(T21,1);
continue;
}var T25=$it;
$it=undefined;
}return [];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\Main.wng
__FUNCS["Main.w_8"] = {
"13::Main" : async function(__DIV){
//  await $Menu.Run($Menu.DoMain)
var T0=DU.Ref(__RUN.getStaticGlo("Menu.DoMain"));
var T2=[T0];
var T3=await __RUN.getStaticGlo("Menu.Run").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [];
},
"26::RunCampaign" : async function(__DIV, $campaign, $key){
var $history,$idx,$minIdx,$dir,$waitingForFirstSlide,$header,$$__defer212,$load,$$terminate3,$state,$checkState,$showBack,$delta,$didShow,$$$sOut24;
//  key ?: $Storage.GetNewSaveKey()
var T2=$key==null;
if(T2)
{
var T4="cmp";
var T5=__RUN.getStaticGlo("Time.NowUtc").func(null);
var T6=DU.ReadReturn(T5,1);
var T7=gVal(T4)+gVal(T6);
$key=T7;
}//  $IO.Log("RunCampaign " + key)
var T9="RunCampaign ";
var T10=DU.Ref($key);
var T11=gVal(T9)+gVal(T10);
var T12=[T11];
var T13=__RUN.getStaticGlo("IO.Log").func(null,...T12);
var T14=DU.ReadReturn(T13,1);
//  $SyncHeroFooter(campaign)
var T16=DU.Ref($campaign);
var T17=[T16];
var T18=__RUN.getStaticFile("Main.w_8","SyncHeroFooter").func(null,...T17);
var T19=DU.ReadReturn(T18,1);
//  @history : dim()
var T21=new OObj();
$history=T21;
//  @idx : 0
var T23=0;
$idx=T23;
//  @minIdx : -1
var T25=-1;
$minIdx=T25;
//  @dir : $eNext.Forwards
var T27=DU.Ref(__RUN.getStaticGlo("eNext.Forwards"));
$dir=T27;
//  @waitingForFirstSlide : false
var T29=false;
$waitingForFirstSlide=T29;
//  @header : $MakeCampaignHeader(campaign)
var T31=DU.Ref($campaign);
var T32=[T31];
var T33=__RUN.getStaticFile("Main.w_8","MakeCampaignHeader").func(null,...T32);
var T34=DU.ReadReturn(T33,1);
$header=T34;
//  defer header.$Dom.Style.AddClasses("fadeOut")
if($$__defer212){throw null;}
$$__defer212=true;
//  @load : $Storage.LoadGameState(key)
var T37=DU.Ref($key);
var T38=null;
var T39=[T37,T38];
var T40=__RUN.getStaticGlo("Storage.Load").func(null,...T39);
var T41=DU.ReadReturn(T40,1);
var T42=[T41];
var T43=__RUN.getStaticFile("SaveLo_10","UpdateSave").func(null,...T42);
var T44=DU.ReadReturn(T43,1);
$load=T44;
//  if load != null & load.?checkpoint != null
var T46=DU.Ref($load);
var T47=null;
var T48=!DU.AreEqual(T46,T47);
if(!T48)
{
var T55=false;
}else{
var T51=DU.Ref($load);
if(OObj.HasChildKey(T51,"checkpoint"))
{
var T52=T51;
var T53=OObj.DotAccess(T52,"checkpoint");
}else {var T53=null;}
var T54=null;
var T55=!DU.AreEqual(T53,T54);
}if(T55)
{
//  await $Resume()
var T58=await __RUN.getStaticFile("Main.w_8","Resume").func(null);
var T59=DU.ReadReturn(T58,1);
//  for idx : 0 to campaign.slides.$Obj.Count()
var T61=0;
$idx=T61;
var T63=DU.Ref($campaign);
var T64=OObj.DotAccess(T63,"slides");
var T65=__RUN.getStaticGlo("Obj.Count").func({__THIS:T64});
var T66=DU.ReadReturn(T65,1);
$$terminate3=T66;
for(var T68=0;;T68++)
{
if(T68>0)
{
var T69=DU.Ref($idx);
var T70=1;
var T71=gVal(T69)+gVal(T70);
$idx=T71;
}var T73=DU.Ref($$terminate3);
var T74=DU.Ref($idx);
var T75=gVal(T73) > gVal(T74);
if(!T75){break;}
//  if campaign.slides[idx,"checkpoint"] = load.checkpoint
var T78=DU.Ref($campaign);
var T79=OObj.DotAccess(T78,"slides");
var T80=DU.Ref($idx);
var T81="checkpoint";
var T82=OObj.GetPath(T79,[T80,T81]);
var T83=DU.Ref($load);
var T84=OObj.DotAccess(T83,"checkpoint");
var T85=DU.AreEqual(T82,T84);
if(T85)
{
//  break
break;
}continue;
}//  idx : idx + 1
var T90=DU.Ref($idx);
var T91=1;
var T92=gVal(T90)+gVal(T91);
$idx=T92;
//  if idx >= campaign.slides.$Obj.Count()
var T94=DU.Ref($idx);
var T95=DU.Ref($campaign);
var T96=OObj.DotAccess(T95,"slides");
var T97=__RUN.getStaticGlo("Obj.Count").func({__THIS:T96});
var T98=DU.ReadReturn(T97,1);
var T99=gVal(T94) >= gVal(T98);
if(T99)
{
//  $IO.Log("FAILED TO FIND CHECKPOINT!")
var T101="FAILED TO FIND CHECKPOINT!";
var T102=[T101];
var T103=__RUN.getStaticGlo("IO.Log").func(null,...T102);
var T104=DU.ReadReturn(T103,1);
}//  minIdx : idx
var T107=DU.Ref($idx);
$minIdx=T107;
//  waitingForFirstSlide : true
var T109=true;
$waitingForFirstSlide=T109;
//  history[0] : free load
var T111=$load;
$load=undefined;
var T112=DU.Ref($history);
var T113=0;
OObj.SetPath(T112,[T113],T111);
}//  while true
var T116=$$terminate3;
$$terminate3=undefined;
for(var T118=0;;T118++)
{
var T119=true;
if(!T119){break;}
//  @state, @checkState : $BuildStateFromDeltas(history, idx)
var T121=DU.Ref($history);
var T122=DU.Ref($idx);
var T123=[T121,T122];
var T124=__RUN.getStaticFile("Main.w_8","BuildStateFromDeltas").func(null,...T123);
var T125=DU.ReadReturn(T124,2);
$state=T125[1];
$checkState=T125[0];
//  $Storage.SaveGame(campaign, key, checkState)
var T128=DU.Ref($campaign);
var T129=DU.Ref($key);
var T130=DU.Ref($checkState);
var T131=[T128,T129,T130];
var T132=__RUN.getStaticGlo("Storage.SaveGame").func(null,...T131);
var T133=DU.ReadReturn(T132,1);
//  $SyncHeroFooter(campaign, state)
var T135=DU.Ref($campaign);
var T136=DU.Ref($state);
var T137=[T135,T136];
var T138=__RUN.getStaticFile("Main.w_8","SyncHeroFooter").func(null,...T137);
var T139=DU.ReadReturn(T138,1);
//  @showBack : idx > minIdx & !waitingForFirstSlide
var T141=DU.Ref($idx);
var T142=DU.Ref($minIdx);
var T143=gVal(T141) > gVal(T142);
if(!T143)
{
var T147=false;
}else{
var T146=DU.Ref($waitingForFirstSlide);
var T147=!T146;
}$showBack=T147;
//  dir, @delta, @didShow : await $RunSlide(campaign, state, idx, dir, history, showBack)
var T149=DU.Ref($campaign);
var T150=DU.Ref($state);
var T151=DU.Ref($idx);
var T152=DU.Ref($dir);
var T153=DU.Ref($history);
var T154=DU.Ref($showBack);
var T156=[T149,T150,T151,T152,T153,T154];
var T157=await __RUN.getStaticFile("Main.w_8","RunSlide").func(null,...T156);
var T158=DU.ReadReturn(T157,3);
$dir=T158[2];
$delta=T158[1];
$didShow=T158[0];
//  if waitingForFirstSlide & didShow
var T162=DU.Ref($waitingForFirstSlide);
if(!T162)
{
var T165=false;
}else{
var T165=DU.Ref($didShow);
}if(T165)
{
//  $IO.Log("min idx set " + idx)
var T167="min idx set ";
var T168=DU.Ref($idx);
var T169=gVal(T167)+gVal(T168);
var T170=[T169];
var T171=__RUN.getStaticGlo("IO.Log").func(null,...T170);
var T172=DU.ReadReturn(T171,1);
//  minIdx : idx
var T174=DU.Ref($idx);
$minIdx=T174;
//  waitingForFirstSlide : false
var T176=false;
$waitingForFirstSlide=T176;
}//  if dir = $eNext.Forwards
var T180=DU.Ref($dir);
var T181=DU.Ref(__RUN.getStaticGlo("eNext.Forwards"));
var T182=DU.AreEqual(T180,T181);
if(T182)
{
//  if delta.$Obj.HasChildren()
var T185=DU.Ref($delta);
var T186=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T185});
var T187=DU.ReadReturn(T186,1);
if(T187)
{
//  $log("Write delta:")
var T189="Write delta:";
var T190=[T189];
var T191=__RUN.getStaticGlo("log").func(null,...T190);
var T192=DU.ReadReturn(T191,1);
//  $logDeep(delta)
var T194=DU.Ref($delta);
var T195=0;
var T196=[T194,T195];
var T197=__RUN.getStaticFile("util.w_15","logHelp").func(null,...T196);
var T198=DU.ReadReturn(T197,1);
var T199=[T198];
var T200=__RUN.getStaticGlo("log").func(null,...T199);
var T201=DU.ReadReturn(T200,1);
}//  history[idx] : free delta
var T204=$delta;
$delta=undefined;
var T205=DU.Ref($history);
var T206=DU.Ref($idx);
OObj.SetPath(T205,[T206],T204);
}//  if dir = $eNext.Menu
var T210=DU.Ref($dir);
var T211=DU.Ref(__RUN.getStaticGlo("eNext.Menu"));
var T212=DU.AreEqual(T210,T211);
if(T212)
{
//  $IO.Log("Quit to menu")
var T214="Quit to menu";
var T215=[T214];
var T216=__RUN.getStaticGlo("IO.Log").func(null,...T215);
var T217=DU.ReadReturn(T216,1);
//  break
break;
}//  if dir = $eNext.Done
var T222=DU.Ref($dir);
var T223=DU.Ref(__RUN.getStaticGlo("eNext.Done"));
var T224=DU.AreEqual(T222,T223);
if(T224)
{
//  $IO.Log("Done!")
var T226="Done!";
var T227=[T226];
var T228=__RUN.getStaticGlo("IO.Log").func(null,...T227);
var T229=DU.ReadReturn(T228,1);
//  break
break;
}//  idx : $GetNextIdx(idx, dir)
var T235=DU.Ref($dir);
var T236=DU.Ref(__RUN.getStaticGlo("eNext.Backwards"));
var T237=DU.AreEqual(T235,T236);
if(T237)
{
var T239=DU.Ref($idx);
var T240=1;
var T241=gVal(T239)-gVal(T240);
$$$sOut24=T241;
}else
{
var T245=DU.Ref($dir);
var T246=DU.Ref(__RUN.getStaticGlo("eNext.Forwards"));
var T247=DU.AreEqual(T245,T246);
if(T247)
{
var T249=DU.Ref($idx);
var T250=1;
var T251=gVal(T249)+gVal(T250);
$$$sOut24=T251;
}else
{
var T254=DU.Ref($idx);
$$$sOut24=T254;
}}var T256=DU.Ref($$$sOut24);
$idx=T256;
//  if idx >= campaign.slides.$Obj.Count()
var T258=DU.Ref($idx);
var T259=DU.Ref($campaign);
var T260=OObj.DotAccess(T259,"slides");
var T261=__RUN.getStaticGlo("Obj.Count").func({__THIS:T260});
var T262=DU.ReadReturn(T261,1);
var T263=gVal(T258) >= gVal(T262);
if(T263)
{
//  $IO.Log("Reached end!")
var T265="Reached end!";
var T266=[T265];
var T267=__RUN.getStaticGlo("IO.Log").func(null,...T266);
var T268=DU.ReadReturn(T267,1);
//  break
break;
}//  if idx < 0
var T273=DU.Ref($idx);
var T274=0;
var T275=gVal(T273) < gVal(T274);
if(T275)
{
//  $IO.Log("Hit begining")
var T277="Hit begining";
var T278=[T277];
var T279=__RUN.getStaticGlo("IO.Log").func(null,...T278);
var T280=DU.ReadReturn(T279,1);
//  break
break;
}continue;
}//  $SyncHeroFooter(campaign)
var T285=$state;
$state=undefined;
var T287=$checkState;
$checkState=undefined;
var T289=$showBack;
$showBack=undefined;
var T291=$delta;
$delta=undefined;
var T293=$didShow;
$didShow=undefined;
var T295=DU.Ref($campaign);
var T296=[T295];
var T297=__RUN.getStaticFile("Main.w_8","SyncHeroFooter").func(null,...T296);
var T298=DU.ReadReturn(T297,1);
//  if idx < 0 // cancelling out of a campaign entirely
var T300=DU.Ref($idx);
var T301=0;
var T302=gVal(T300) < gVal(T301);
if(T302)
{
//  $Storage.Remove(key)
var T304=DU.Ref($key);
var T305=[T304];
var T306=__RUN.getStaticGlo("Storage.Remove").func(null,...T305);
var T307=DU.ReadReturn(T306,1);
//  arun $Menu.Run($Menu.DoNewGame)
var T309=OObj.MakeFunc(__FUNCS["Main.w_8"]["39_func71"],{});
var T310=__RUN.runJobLambda(T309);
}else
{
//  else
//  arun $Menu.Run($Menu.DoMain)
var T314=OObj.MakeFunc(__FUNCS["Main.w_8"]["52_func73"],{});
var T315=__RUN.runJobLambda(T314);
}if($$__defer212)
{
//  defer header.$Dom.Style.AddClasses("fadeOut")
var T318=DU.Ref($header);
var T319="fadeOut";
var T320=[T319];
var T321=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T318},...T320);
var T322=DU.ReadReturn(T321,1);
}return [];
},
"39_func71" : async function(__DIV){
var T1=DU.Ref(__RUN.getStaticGlo("Menu.DoNewGame"));
var T3=[T1];
var T4=await __RUN.getStaticGlo("Menu.Run").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"52_func73" : async function(__DIV){
var T1=DU.Ref(__RUN.getStaticGlo("Menu.DoMain"));
var T3=[T1];
var T4=await __RUN.getStaticGlo("Menu.Run").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"65::Resume" : async function(__DIV){
var $container;
//  @container : $g.Stage.$AppendChild(dim $Div.Create())
var T0=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T1="div";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
//  mixin $Style.AddClasses("spinContainer")
var T5=DU.Ref(T4);
var T6="spinContainer";
var T7=[T6];
var T8=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T5},...T7);
//  mixin $AppendChild(dim $Div.Create())
var T9=DU.Ref(T4);
var T10="div";
var T11=[T10];
var T12=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $Style.AddClasses("spin")
var T14=DU.Ref(T13);
var T15="spin";
var T16=[T15];
var T17=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T14},...T16);
var T18=[T13];
var T19=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T9},...T18);
//  mixin $AppendChild(dim $Paragraph.Create("Resuming"))
var T20=DU.Ref(T4);
var T21="Resuming";
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T22);
var T24=DU.ReadReturn(T23,1);
var T25=[T24];
var T26=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T20},...T25);
var T27=[T4];
var T28=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T0},...T27);
var T29=DU.ReadReturn(T28,1);
$container=T29;
//  await $Job.Pause(1000)
var T31=1000;
var T33=[T31];
var T34=await __RUN.getStaticGlo("Job.Pause").func(null,...T33);
var T35=DU.ReadReturn(T34,1);
//  container.$Style.AddClasses("fadingOut")
var T37=DU.Ref($container);
var T38="fadingOut";
var T39=[T38];
var T40=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T37},...T39);
var T41=DU.ReadReturn(T40,1);
//  await $Job.Pause(500)
var T43=500;
var T45=[T43];
var T46=await __RUN.getStaticGlo("Job.Pause").func(null,...T45);
var T47=DU.ReadReturn(T46,1);
return [];
},
"78::MakeCampaignHeader" : function(__DIV, $campaign){
var $element,$$$inThis22;
//  $g.CampaignHeader.$ClearChildren()
var T1=DU.Ref(__RUN.getStaticGlo("g.CampaignHeader"));
var T2=__RUN.getStaticGlo("Dom.ClearChildren").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
//  element : $g.CampaignHeader.$AppendChild(dim $Div.Create())
var T5=DU.Ref(__RUN.getStaticGlo("g.CampaignHeader"));
var T6="div";
var T7=[T6];
var T8=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T7);
var T9=DU.ReadReturn(T8,1);
//  mixin $AppendChild(campaign.$Campaign.MakeHeader())
var T10=DU.Ref(T9);
var T11=DU.Ref($campaign);
var T12=OObj.DotAccess(T11,"img");
$$$inThis22=T12;
var T14="img";
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T15);
var T17=DU.ReadReturn(T16,1);
var T18=DU.Ref(T17);
var T19="src";
var T20=DU.Ref($$$inThis22);
var T21=OObj.DotAccess(T20,"path");
var T22=[T19,T21];
var T23=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T18},...T22);
var T24=DU.Ref(T17);
var T25="alt";
var T26=DU.Ref($$$inThis22);
var T27=OObj.DotAccess(T26,"alt");
if(T27 != null)
{
var T30=T27;
}else{
var T30="";
}var T31=[T25,T30];
var T32=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T24},...T31);
var T33=DU.Ref(T17);
var T34="vh";
var T35="vImg";
var T36=[T34,T35];
var T37=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T33},...T36);
var T38=[T17];
var T39=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T10},...T38);
//  mixin $AppendChild(dim $Div.Create())
var T40=DU.Ref(T9);
var T41="div";
var T42=[T41];
var T43=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T42);
var T44=DU.ReadReturn(T43,1);
//  mixin $Style.AddClasses("vh", "borderHelp")
var T45=DU.Ref(T44);
var T46="vh";
var T47="borderHelp";
var T48=[T46,T47];
var T49=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T45},...T48);
var T50=[T44];
var T51=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T40},...T50);
//  mixin $AppendChild(dim $Div.Create())
var T52=DU.Ref(T9);
var T53="div";
var T54=[T53];
var T55=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T54);
var T56=DU.ReadReturn(T55,1);
//  mixin $SetText(campaign.$GetName())
var T57=DU.Ref(T56);
var T58=DU.Ref($campaign);
var T59=OObj.DotAccess(T58,"name");
var T60=[T59];
var T61=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T57},...T60);
//  mixin $Style.AddClasses("vt")
var T62=DU.Ref(T56);
var T63="vt";
var T64=[T63];
var T65=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T62},...T64);
var T66=[T56];
var T67=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T52},...T66);
var T68=[T9];
var T69=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T5},...T68);
var T70=DU.ReadReturn(T69,1);
$element=T70;
return [$element];
},
"91::BuildStateFromDeltas" : function(__DIV, $history, $idx){
var $state,$checkState,$temp,$it,$$terminate2;
//  state : dim()
var T2=new OObj();
$state=T2;
//  checkState : dim()
var T4=new OObj();
$checkState=T4;
//  @temp : dim()
var T6=new OObj();
$temp=T6;
//  for 0 to idx
var T8=0;
$it=T8;
var T10=DU.Ref($idx);
$$terminate2=T10;
for(var T12=0;;T12++)
{
if(T12>0)
{
var T13=DU.Ref($it);
var T14=1;
var T15=gVal(T13)+gVal(T14);
$it=T15;
}var T17=DU.Ref($$terminate2);
var T18=DU.Ref($it);
var T19=gVal(T17) > gVal(T18);
if(!T19){break;}
//  if history[it] != null
var T22=DU.Ref($history);
var T23=DU.Ref($it);
var T24=OObj.GetPath(T22,[T23]);
var T25=null;
var T26=!DU.AreEqual(T24,T25);
if(T26)
{
//  state.$Util.MergeIn(copy history[it])
var T28=DU.Ref($state);
var T29=DU.Ref($history);
var T30=DU.Ref($it);
var T31=OObj.GetPath(T29,[T30]);
var T32=DU.Copy(T31);
var T33=[T32];
var T34=__RUN.getStaticGlo("Util.MergeIn").func({__THIS:T28},...T33);
var T35=DU.ReadReturn(T34,1);
//  temp.$Util.MergeIn(copy history[it])
var T37=DU.Ref($temp);
var T38=DU.Ref($history);
var T39=DU.Ref($it);
var T40=OObj.GetPath(T38,[T39]);
var T41=DU.Copy(T40);
var T42=[T41];
var T43=__RUN.getStaticGlo("Util.MergeIn").func({__THIS:T37},...T42);
var T44=DU.ReadReturn(T43,1);
//  if history[it] has checkpoint
var T46=DU.Ref($history);
var T47=DU.Ref($it);
var T48=OObj.GetPath(T46,[T47]);
var T49=T48.inner!=null && ("checkpoint" in T48.inner);
if(T49)
{
//  checkState.$Util.MergeIn(free temp)
var T51=DU.Ref($checkState);
var T52=$temp;
$temp=undefined;
var T53=[T52];
var T54=__RUN.getStaticGlo("Util.MergeIn").func({__THIS:T51},...T53);
var T55=DU.ReadReturn(T54,1);
//  temp : dim()
var T57=new OObj();
$temp=T57;
}}continue;
}return [$state,$checkState];
},
"104::GetNextIdx" : function(__DIV, $idx, $dir){
var $$sOut2;
//  $eNext.Backwards : idx - 1
var T3=DU.Ref($dir);
var T4=DU.Ref(__RUN.getStaticGlo("eNext.Backwards"));
var T5=DU.AreEqual(T3,T4);
if(T5)
{
var T7=DU.Ref($idx);
var T8=1;
var T9=gVal(T7)-gVal(T8);
$$sOut2=T9;
}else
{
//  $eNext.Forwards : idx + 1
var T13=DU.Ref($dir);
var T14=DU.Ref(__RUN.getStaticGlo("eNext.Forwards"));
var T15=DU.AreEqual(T13,T14);
if(T15)
{
var T17=DU.Ref($idx);
var T18=1;
var T19=gVal(T17)+gVal(T18);
$$sOut2=T19;
}else
{
//  else : idx
var T22=DU.Ref($idx);
$$sOut2=T22;
}}var T24=DU.Ref($$sOut2);
$idx=T24;
return [$idx];
},
"117::RunSlide" : async function(__DIV, $campaign, $state, $idx, $dir, $history, $canBackUp){
var $next,$delta,$didShow,$slide,$ct,$stage,$interactions;
//  @slide : campaign.slides[idx]
var T6=DU.Ref($campaign);
var T7=OObj.DotAccess(T6,"slides");
var T8=DU.Ref($idx);
var T9=OObj.GetPath(T7,[T8]);
$slide=T9;
//  delta : dim()
var T11=new OObj();
$delta=T11;
//  next : dir
var T13=DU.Ref($dir);
$next=T13;
//  didShow : false
var T15=false;
$didShow=T15;
//  @ct : $Canceler.Create()
var T17=new OObj();
var T18=true;
OObj.SetChild(T17,"live",T18);
var T20=new OObj();
OObj.SetChild(T17,"pipes",T20);
$ct=T17;
//  @stage : dim
var T23=new OObj();
//  state : state
var T24=DU.Ref($state);
OObj.SetChild(T23,"state",T24);
//  delta : delta
var T26=DU.Ref($delta);
OObj.SetChild(T23,"delta",T26);
//  ct : ct
var T28=DU.Ref($ct);
OObj.SetChild(T23,"ct",T28);
//  campaign : campaign
var T30=DU.Ref($campaign);
OObj.SetChild(T23,"campaign",T30);
//  ghost : history[idx]
var T32=DU.Ref($history);
var T33=DU.Ref($idx);
var T34=OObj.GetPath(T32,[T33]);
OObj.SetChild(T23,"ghost",T34);
//  dir : dir
var T36=DU.Ref($dir);
OObj.SetChild(T23,"dir",T36);
//  overrideDir : null
var T38=null;
OObj.SetChild(T23,"overrideDir",T38);
$stage=T23;
//  if slide has ifShow
var T41=DU.Ref($slide);
var T42=T41.inner!=null && ("ifShow" in T41.inner);
if(T42)
{
//  if !$(slide.ifShow, stage, state)
var T45="stage";
var T46="state";
var T47=DU.Ref($slide);
var T48=OObj.DotAccess(T47,"ifShow");
var T49=OObj._RunLambda(T48,{$state: DU.Ref($state),$stage: DU.Ref($stage)});
var T50=DU.ReadReturn(T49,1);
var T51=!T50;
if(T51)
{
//  $IO.Log("[Skipping slide " + ~idx + "]")
var T53="[Skipping slide ";
var T54=DU.Ref($idx);
var T55=T54;
var T56=gVal(T53)+gVal(T55);
var T57="]";
var T58=gVal(T56)+gVal(T57);
var T59=[T58];
var T60=__RUN.getStaticGlo("IO.Log").func(null,...T59);
var T61=DU.ReadReturn(T60,1);
//  quit // continue in this direction
return [$next,$delta,$didShow];
}}//  if slide has checkpoint
var T67=DU.Ref($slide);
var T68=T67.inner!=null && ("checkpoint" in T67.inner);
if(T68)
{
//  if slide has delta \ delta.$Util.MergeIn(copy slide.delta)
var T71=DU.Ref($slide);
var T72=T71.inner!=null && ("delta" in T71.inner);
if(T72)
{
var T74=DU.Ref($delta);
var T75=DU.Ref($slide);
var T76=OObj.DotAccess(T75,"delta");
var T77=DU.Copy(T76);
var T78=[T77];
var T79=__RUN.getStaticGlo("Util.MergeIn").func({__THIS:T74},...T78);
var T80=DU.ReadReturn(T79,1);
}//  delta["checkpoint"] : slide.checkpoint
var T83=DU.Ref($slide);
var T84=OObj.DotAccess(T83,"checkpoint");
var T85=DU.Ref($delta);
var T86="checkpoint";
OObj.SetPath(T85,[T86],T84);
//  $IO.Log("Checkpoint: " + slide.checkpoint)
var T88="Checkpoint: ";
var T89=DU.Ref($slide);
var T90=OObj.DotAccess(T89,"checkpoint");
var T91=gVal(T88)+gVal(T90);
var T92=[T91];
var T93=__RUN.getStaticGlo("IO.Log").func(null,...T92);
var T94=DU.ReadReturn(T93,1);
}//  if slide.?func != null
var T98=DU.Ref($slide);
if(OObj.HasChildKey(T98,"func"))
{
var T99=T98;
var T100=OObj.DotAccess(T99,"func");
}else {var T100=null;}
var T101=null;
var T102=!DU.AreEqual(T100,T101);
if(T102)
{
//  $IO.Log("Run slide: " + ~idx)
var T104="Run slide: ";
var T105=DU.Ref($idx);
var T106=T105;
var T107=gVal(T104)+gVal(T106);
var T108=[T107];
var T109=__RUN.getStaticGlo("IO.Log").func(null,...T108);
var T110=DU.ReadReturn(T109,1);
//  if dir = $eNext.Backwards
var T112=DU.Ref($dir);
var T113=DU.Ref(__RUN.getStaticGlo("eNext.Backwards"));
var T114=DU.AreEqual(T112,T113);
if(T114)
{
//  $g.Stage.$Dom.Style.AddClasses("backwards")
var T116=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T117="backwards";
var T118=[T117];
var T119=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T116},...T118);
var T120=DU.ReadReturn(T119,1);
}else
{
//  else
//  $g.Stage.$Dom.Style.RemoveClasses("backwards")
var T124=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T125="backwards";
var T126=[T125];
var T127=__RUN.getStaticGlo("Dom.Style.RemoveClasses").func({__THIS:T124},...T126);
var T128=DU.ReadReturn(T127,1);
}//  @interactions : dim
var T130=new OObj();
//  $eNext.Menu : `await $MenuButton(ct)`
var T131=OObj.MakeFunc(__FUNCS["Main.w_8"]["130_func"],{$ct: DU.Ref($ct)});
var T132=DU.Ref(__RUN.getStaticGlo("eNext.Menu"));
OObj.SetChild(T130,T132,T131);
//  $eNext.Forwards : `await $(slide.func, stage)`
var T134=OObj.MakeFunc(__FUNCS["Main.w_8"]["143_func"],{$slide: DU.Ref($slide),$stage: DU.Ref($stage)});
var T135=DU.Ref(__RUN.getStaticGlo("eNext.Forwards"));
OObj.SetChild(T130,T135,T134);
$interactions=T130;
//  if canBackUp
var T138=DU.Ref($canBackUp);
if(T138)
{
//  interactions[$eNext.Backwards] : `await $BackButton(ct)`
var T140=OObj.MakeFunc(__FUNCS["Main.w_8"]["156_func"],{$ct: DU.Ref($ct)});
var T141=DU.Ref($interactions);
var T142=DU.Ref(__RUN.getStaticGlo("eNext.Backwards"));
OObj.SetPath(T141,[T142],T140);
}//  next : await $Util.WaitGetFirst(ct, free interactions)
var T145=DU.Ref($ct);
var T146=$interactions;
$interactions=undefined;
var T148=[T145,T146];
var T149=await __RUN.getStaticGlo("Util.WaitGetFirst").func(null,...T148);
var T150=DU.ReadReturn(T149,1);
$next=T150;
//  if stage.overrideDir != null
var T152=DU.Ref($stage);
var T153=OObj.DotAccess(T152,"overrideDir");
var T154=null;
var T155=!DU.AreEqual(T153,T154);
if(T155)
{
//  next : stage.overrideDir
var T157=DU.Ref($stage);
var T158=OObj.DotAccess(T157,"overrideDir");
$next=T158;
}//  didShow : true
var T161=true;
$didShow=T161;
//  $g.Stage.$Dom.ClearChildren()
var T163=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T164=__RUN.getStaticGlo("Dom.ClearChildren").func({__THIS:T163});
var T165=DU.ReadReturn(T164,1);
}//  ct.$Canceler.Cancel()
var T168=$interactions;
$interactions=undefined;
var T170=DU.Ref($ct);
var T171=__RUN.getStaticGlo("Canceler.Cancel").func({__THIS:T170});
var T172=DU.ReadReturn(T171,1);
return [$next,$delta,$didShow];
},
"130_func" : async function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
var T1=DU.Ref($ct);
var T3=[T1];
var T4=await __RUN.getStaticFile("Main.w_8","MenuButton").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [T5];},
"143_func" : async function(__DIV){
var $stage,$slide;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$slide' in __DIV.capture){$slide=__DIV.capture["$slide"];}
var T1="stage";
var T2=DU.Ref($slide);
var T3=OObj.DotAccess(T2,"func");
var T5=await OObj._RunLambda(T3,{$stage: DU.Ref($stage)});
var T6=DU.ReadReturn(T5,1);
return [T6];},
"156_func" : async function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
var T1=DU.Ref($ct);
var T3=[T1];
var T4=await __RUN.getStaticFile("Main.w_8","BackButton").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [T5];},
"169::MenuButton" : async function(__DIV, $ct){
var $pipe,$bt;
//  @pipe : $Pipe.Create()
var T1=__RUN.getStaticGlo("Pipe.Create").func(null);
var T2=DU.ReadReturn(T1,1);
$pipe=T2;
//  ct.$Canceler.PipeClean(pipe)
var T4=DU.Ref($ct);
var T5=OObj.DotAccess(T4,"pipes");
var T6=DU.Ref($pipe);
var T7=[T6];
var T8=__RUN.getStaticGlo("List.Add").func({__THIS:T5},...T7);
var T9=DU.ReadReturn(T8,1);
//  @bt : $g.Stage.$AppendChild(dim $Button.Create())
var T11=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T12="button";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T13);
var T15=DU.ReadReturn(T14,1);
//  mixin $Style.AddClasses("btMenu")
var T16=DU.Ref(T15);
var T17="btMenu";
var T18=[T17];
var T19=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T16},...T18);
//  mixin $Button.HookClick(lambda)
var T20=DU.Ref(T15);
var T21=OObj.MakeFunc(__FUNCS["Main.w_8"]["182_func176"],{$pipe: DU.Ref($pipe)});
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T20},...T22);
//  mixin $SetText("Menu")
var T24=DU.Ref(T15);
var T25="Menu";
var T26=[T25];
var T27=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T24},...T26);
var T28=[T15];
var T29=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T11},...T28);
var T30=DU.ReadReturn(T29,1);
$bt=T30;
//  $g.HookKeyDown(ct, lambda(event))
var T32=DU.Ref($ct);
var T33=OObj.MakeFunc(__FUNCS["Main.w_8"]["195_func181"],{$pipe: DU.Ref($pipe)});
var T34=[T32,T33];
var T35=__RUN.getStaticGlo("g.HookKeyDown").func(null,...T34);
var T36=DU.ReadReturn(T35,1);
//  await pipe.$Pipe.ReadAsync()
var T38=DU.Ref($pipe);
var T40=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T38});
var T41=DU.ReadReturn(T40,1);
return [];
},
"182_func176" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"195_func181" : function(__DIV, $event){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$event' in __DIV.capture){$event=__DIV.capture["$event"];}
//  if event.key = "Escape"
var T1=DU.Ref($event);
var T2=OObj.DotAccess(T1,"key");
var T3="Escape";
var T4=DU.AreEqual(T2,T3);
if(T4)
{
//  pipe.$Pipe.Kill()
var T6=DU.Ref($pipe);
var T7=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T6});
var T8=DU.ReadReturn(T7,1);
}return [];
},
"208::BackButton" : async function(__DIV, $ct){
var $pipe,$$alt2,$bt;
//  @pipe : $Pipe.Create()
var T1=__RUN.getStaticGlo("Pipe.Create").func(null);
var T2=DU.ReadReturn(T1,1);
$pipe=T2;
//  ct.$Canceler.PipeClean(pipe)
var T4=DU.Ref($ct);
var T5=OObj.DotAccess(T4,"pipes");
var T6=DU.Ref($pipe);
var T7=[T6];
var T8=__RUN.getStaticGlo("List.Add").func({__THIS:T5},...T7);
var T9=DU.ReadReturn(T8,1);
//  @bt : $g.Stage.$AppendChild(dim $Button.Create())
var T11=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T12="button";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T13);
var T15=DU.ReadReturn(T14,1);
//  mixin $Style.AddClasses("btBack")
var T16=DU.Ref(T15);
var T17="btBack";
var T18=[T17];
var T19=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T16},...T18);
//  mixin $Button.HookClick(lambda)
var T20=DU.Ref(T15);
var T21=OObj.MakeFunc(__FUNCS["Main.w_8"]["221_func194"],{$pipe: DU.Ref($pipe)});
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T20},...T22);
//  mixin $AppendChild(dim $Image.Create("assets/back.png"))
var T24=DU.Ref(T15);
var T25="img";
var T26=[T25];
var T27=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T26);
var T28=DU.ReadReturn(T27,1);
var T29=DU.Ref(T28);
var T30="src";
var T31="assets/back.png";
var T32=[T30,T31];
var T33=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T29},...T32);
var T34=DU.Ref(T28);
var T35="alt";
var T36=DU.Ref($$alt2);
if(T36 != null)
{
var T39=T36;
}else{
var T39="";
}var T40=[T35,T39];
var T41=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T34},...T40);
var T42=[T28];
var T43=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T24},...T42);
var T44=[T15];
var T45=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T11},...T44);
var T46=DU.ReadReturn(T45,1);
$bt=T46;
//  $g.HookKeyDown(ct, lambda(event))
var T48=DU.Ref($ct);
var T49=OObj.MakeFunc(__FUNCS["Main.w_8"]["234_func198"],{$pipe: DU.Ref($pipe)});
var T50=[T48,T49];
var T51=__RUN.getStaticGlo("g.HookKeyDown").func(null,...T50);
var T52=DU.ReadReturn(T51,1);
//  await pipe.$Pipe.ReadAsync()
var T54=DU.Ref($pipe);
var T56=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T54});
var T57=DU.ReadReturn(T56,1);
return [];
},
"221_func194" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"234_func198" : function(__DIV, $event){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$event' in __DIV.capture){$event=__DIV.capture["$event"];}
//  if event.key = "ArrowLeft" | event.key = "Backspace"
var T1=DU.Ref($event);
var T2=OObj.DotAccess(T1,"key");
var T3="ArrowLeft";
var T4=DU.AreEqual(T2,T3);
if(!!T4)
{
var T10=true;
}else{
var T7=DU.Ref($event);
var T8=OObj.DotAccess(T7,"key");
var T9="Backspace";
var T10=DU.AreEqual(T8,T9);
}if(T10)
{
//  pipe.$Pipe.Kill()
var T12=DU.Ref($pipe);
var T13=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T12});
var T14=DU.ReadReturn(T13,1);
}return [];
},
"247::SyncHeroFooter" : function(__DIV, $camp, $state){
var $idx,$$terminate2;
//  state ?: dim()
var T2=$state==null;
if(T2)
{
var T4=new OObj();
$state=T4;
}//  for @idx : 1 to 5
var T6=1;
$idx=T6;
var T8=5;
$$terminate2=T8;
for(var T10=0;;T10++)
{
if(T10>0)
{
var T11=DU.Ref($idx);
var T12=1;
var T13=gVal(T11)+gVal(T12);
$idx=T13;
}var T15=DU.Ref($$terminate2);
var T16=DU.Ref($idx);
var T17=gVal(T15) > gVal(T16);
if(!T17){break;}
//  $UpdateHeroFooterBadge(state, idx, camp)
var T19=DU.Ref($state);
var T20=DU.Ref($idx);
var T21=DU.Ref($camp);
var T22=[T19,T20,T21];
var T23=__RUN.getStaticFile("Main.w_8","UpdateHeroFooterBadge").func(null,...T22);
var T24=DU.ReadReturn(T23,1);
continue;
}//  $g.HeroFooter.$Dom.HideShow(state["player"].$Obj.HasChildren())
var T27=DU.Ref(__RUN.getStaticGlo("g.HeroFooter"));
var T28=DU.Ref($state);
var T29="player";
var T30=OObj.GetPath(T28,[T29]);
var T31=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T30});
var T32=DU.ReadReturn(T31,1);
var T33=[T32];
var T34=__RUN.getStaticGlo("Dom.HideShow").func({__THIS:T27},...T33);
var T35=DU.ReadReturn(T34,1);
return [];
},
"260::UpdateHeroFooterBadge" : function(__DIV, $state, $idx, $camp){
var $hostElem,$prevObj,$player,$hero,$elem,$tooltip,$text;
//  @hostElem : $GetElement("hero_" + idx)
var T3="hero_";
var T4=DU.Ref($idx);
var T5=gVal(T3)+gVal(T4);
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.GetElement").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
$hostElem=T8;
//  @prevObj : ^RenderedHeroes[idx]
var T10="Main.w_8";
var T11=DU.Ref(__RUN.getScratchFile(T10,"Render_20"));
var T12=DU.Ref($idx);
var T13=OObj.GetPath(T11,[T12]);
$prevObj=T13;
//  @player : state["player", idx]
var T15=DU.Ref($state);
var T16="player";
var T17=DU.Ref($idx);
var T18=OObj.GetPath(T15,[T16,T17]);
$player=T18;
//  if prevObj != null
var T20=DU.Ref($prevObj);
var T21=null;
var T22=!DU.AreEqual(T20,T21);
if(T22)
{
//  if player = null | prevObj.hero != player.hero
var T25=DU.Ref($player);
var T26=null;
var T27=DU.AreEqual(T25,T26);
if(!!T27)
{
var T34=true;
}else{
var T30=DU.Ref($prevObj);
var T31=OObj.DotAccess(T30,"hero");
var T32=DU.Ref($player);
var T33=OObj.DotAccess(T32,"hero");
var T34=!DU.AreEqual(T31,T33);
}if(T34)
{
//  hostElem.$ClearChildren()
var T36=DU.Ref($hostElem);
var T37=__RUN.getStaticGlo("Dom.ClearChildren").func({__THIS:T36});
var T38=DU.ReadReturn(T37,1);
//  free ^RenderedHeroes[idx]
var T40="Main.w_8";
var T41=DU.Ref(__RUN.getScratchFile(T40,"Render_20"));
var T42=DU.Ref($idx);
var T43=OObj.FreePath(T41, [T42]);
}}//  if player != null
var T48=DU.Ref($player);
var T49=null;
var T50=!DU.AreEqual(T48,T49);
if(T50)
{
//  if prevObj = null | prevObj.hero != player.hero
var T53=DU.Ref($prevObj);
var T54=null;
var T55=DU.AreEqual(T53,T54);
if(!!T55)
{
var T62=true;
}else{
var T58=DU.Ref($prevObj);
var T59=OObj.DotAccess(T58,"hero");
var T60=DU.Ref($player);
var T61=OObj.DotAccess(T60,"hero");
var T62=!DU.AreEqual(T59,T61);
}if(T62)
{
//  @hero : $Heroes.LookupByName(player.hero)
var T64=DU.Ref($player);
var T65=OObj.DotAccess(T64,"hero");
var T66=[T65];
var T67=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T66);
var T68=DU.ReadReturn(T67,1);
$hero=T68;
//  @elem : hostElem.$AppendChild(dim hero.$Heroes.MakeHeroBadge())
var T70=DU.Ref($hostElem);
var T71=DU.Ref($hero);
var T72=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T71});
var T73=DU.ReadReturn(T72,1);
//  mixin $Style.AddClasses("tooltipped")
var T74=DU.Ref(T73);
var T75="tooltipped";
var T76=[T75];
var T77=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T74},...T76);
var T78=[T73];
var T79=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T70},...T78);
var T80=DU.ReadReturn(T79,1);
$elem=T80;
//  @tooltip : elem.$AppendChild(dim $Div.Create())
var T82=DU.Ref($elem);
var T83="div";
var T84=[T83];
var T85=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T84);
var T86=DU.ReadReturn(T85,1);
//  mixin $Style.AddClasses("tooltip")
var T87=DU.Ref(T86);
var T88="tooltip";
var T89=[T88];
var T90=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T87},...T89);
var T91=[T86];
var T92=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T82},...T91);
var T93=DU.ReadReturn(T92,1);
$tooltip=T93;
//  (^RenderedHeroes[idx], prevObj) : dim
var T95=new OObj();
//  hero : player.hero
var T96=DU.Ref($player);
var T97=OObj.DotAccess(T96,"hero");
OObj.SetChild(T95,"hero",T97);
//  elem : elem
var T99=DU.Ref($elem);
OObj.SetChild(T95,"elem",T99);
//  tooltip : tooltip
var T101=DU.Ref($tooltip);
OObj.SetChild(T95,"tooltip",T101);
var T103="Main.w_8";
var T104=DU.Ref(__RUN.getScratchFile(T103,"Render_20"));
var T105=DU.Ref($idx);
OObj.SetPath(T104,[T105],T95);
var T107="Main.w_8";
var T108=DU.Ref(__RUN.getScratchFile(T107,"Render_20"));
var T109=DU.Ref($idx);
var T110=OObj.GetPath(T108,[T109]);
$prevObj=T110;
}//  @tooltip : ^RenderedHeroes[idx].tooltip
var T113=$hero;
$hero=undefined;
var T115=$elem;
$elem=undefined;
var T117=$tooltip;
$tooltip=undefined;
var T119="Main.w_8";
var T120=DU.Ref(__RUN.getScratchFile(T119,"Render_20"));
var T121=DU.Ref($idx);
var T122=OObj.GetPath(T120,[T121]);
var T123=OObj.DotAccess(T122,"tooltip");
$tooltip=T123;
//  tooltip.$ClearChildren()
var T125=DU.Ref($tooltip);
var T126=__RUN.getStaticGlo("Dom.ClearChildren").func({__THIS:T125});
var T127=DU.ReadReturn(T126,1);
//  tooltip.$AppendChild(dim $Paragraph.Create(player.name ? ""))
var T129=DU.Ref($tooltip);
var T130=DU.Ref($player);
var T131=OObj.DotAccess(T130,"name");
if(T131 != null)
{
var T134=T131;
}else{
var T134="";
}var T135=[T134];
var T136=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T135);
var T137=DU.ReadReturn(T136,1);
//  mixin $Style.AddClasses("heroName")
var T138=DU.Ref(T137);
var T139="heroName";
var T140=[T139];
var T141=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T138},...T140);
var T142=[T137];
var T143=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T129},...T142);
var T144=DU.ReadReturn(T143,1);
//  if camp has tooltipGen
var T146=DU.Ref($camp);
var T147=T146.inner!=null && ("tooltipGen" in T146.inner);
if(T147)
{
//  @text : $(camp.tooltipGen, state, player)
var T149="state";
var T150="player";
var T151=DU.Ref($camp);
var T152=OObj.DotAccess(T151,"tooltipGen");
var T153=OObj._RunLambda(T152,{$player: DU.Ref($player),$state: DU.Ref($state)});
var T154=DU.ReadReturn(T153,1);
$text=T154;
//  if text != null
var T156=DU.Ref($text);
var T157=null;
var T158=!DU.AreEqual(T156,T157);
if(T158)
{
//  tooltip.$AppendChild(dim $Div.Create())
var T160=DU.Ref($tooltip);
var T161="div";
var T162=[T161];
var T163=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T162);
var T164=DU.ReadReturn(T163,1);
//  mixin $SetHtml($MarkdownToHtml(text))
var T165=DU.Ref(T164);
var T166=DU.Ref($text);
var T167=[T166];
var T168=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T167);
var T169=DU.ReadReturn(T168,1);
var T170=[T169];
var T171=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T165},...T170);
var T172=[T164];
var T173=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T160},...T172);
var T174=DU.ReadReturn(T173,1);
}}var T178=$text;
$text=undefined;
}return [];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\Menu.wng
__FUNCS["Menu.w_9"] = {
"13::Run" : async function(__DIV, $menu){
var $next;
//  $IO.Log("Menu.Run")
var T1="Menu.Run";
var T2=[T1];
var T3=__RUN.getStaticGlo("IO.Log").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
//  $MakeTitle()
var T6=__RUN.getStaticFile("Menu.w_9","MakeTitle").func(null);
var T7=DU.ReadReturn(T6,1);
//  $Container.$Dom.ClearChildren()
var T9=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T10=__RUN.getStaticGlo("Dom.ClearChildren").func({__THIS:T9});
var T11=DU.ReadReturn(T10,1);
//  $Container.$Dom.Style.RemoveClasses("fadeOut")
var T13=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T14="fadeOut";
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.Style.RemoveClasses").func({__THIS:T13},...T15);
var T17=DU.ReadReturn(T16,1);
//  $Container.$Dom.Style.AddClasses("fadeIn")
var T19=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T20="fadeIn";
var T21=[T20];
var T22=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T19},...T21);
var T23=DU.ReadReturn(T22,1);
//  await $(menu)
var T25=DU.Ref($menu);
var T27=await OObj._RunLambda(T25,{});
var T28=DU.ReadReturn(T27,1);
//  $Container.$Dom.Style.AddClasses("fadeOut")
var T30=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T31="fadeOut";
var T32=[T31];
var T33=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T30},...T32);
var T34=DU.ReadReturn(T33,1);
//  $Container.$Dom.Style.RemoveClasses("fadeIn")
var T36=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T37="fadeIn";
var T38=[T37];
var T39=__RUN.getStaticGlo("Dom.Style.RemoveClasses").func({__THIS:T36},...T38);
var T40=DU.ReadReturn(T39,1);
//  await $Job.Pause(250)
var T42=250;
var T44=[T42];
var T45=await __RUN.getStaticGlo("Job.Pause").func(null,...T44);
var T46=DU.ReadReturn(T45,1);
//  $Container.$Dom.ClearChildren()
var T48=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T49=__RUN.getStaticGlo("Dom.ClearChildren").func({__THIS:T48});
var T50=DU.ReadReturn(T49,1);
//  @next : free ^NextAction
var T52="Menu.w_9";
var T53=__RUN.getScratchFile(T52,"NextAc_21");
__RUN.setScratchFile(T52,"NextAc_21",null);
$next=T53;
//  next ?: $DoMain
var T55=$next==null;
if(T55)
{
var T57=DU.Ref(__RUN.getStaticGlo("Menu.DoMain"));
$next=T57;
}//  $IO.Log("Menu.Run Complete")
var T59="Menu.Run Complete";
var T60=[T59];
var T61=__RUN.getStaticGlo("IO.Log").func(null,...T60);
var T62=DU.ReadReturn(T61,1);
//  arun $(next)
var T64=OObj.MakeFunc(__FUNCS["Menu.w_9"]["26_func22"],{$next: DU.Ref($next)});
var T65=__RUN.runJobLambda(T64);
return [];
},
"26_func22" : async function(__DIV){
var $next;
if('$next' in __DIV.capture){$next=__DIV.capture["$next"];}
var T1=DU.Ref($next);
var T3=await OObj._RunLambda(T1,{});
var T4=DU.ReadReturn(T3,1);
return [];
},
"39::QueueMenu" : function(__DIV, $lamb){
//  ^NextAction : lambda
var T1=OObj.MakeFunc(__FUNCS["Menu.w_9"]["52_func26"],{$lamb: DU.Ref($lamb)});
var T2="Menu.w_9";
__RUN.setScratchFile(T2,"NextAc_21",T1);
return [];
},
"52_func26" : async function(__DIV){
var $lamb;
if('$lamb' in __DIV.capture){$lamb=__DIV.capture["$lamb"];}
//  await $Run(lamb)
var T1=DU.Ref($lamb);
var T3=[T1];
var T4=await __RUN.getStaticGlo("Menu.Run").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"65::QueueLaunch" : function(__DIV, $lamb){
//  ^NextAction : free? lamb
var T1=$lamb;
$lamb=undefined;
var T2="Menu.w_9";
__RUN.setScratchFile(T2,"NextAc_21",T1);
return [];
},
"78::DoMain" : async function(__DIV){
var $ct,$container,$error,$hasSaves,$btLoad;
//  $IO.Log("main menu")
var T0="main menu";
var T1=[T0];
var T2=__RUN.getStaticGlo("IO.Log").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
//  @ct : $Canceler.Create()
var T5=new OObj();
var T6=true;
OObj.SetChild(T5,"live",T6);
var T8=new OObj();
OObj.SetChild(T5,"pipes",T8);
$ct=T5;
//  @container : $Container.$AppendChild(dim $Div.Create())
var T11=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T12="div";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T13);
var T15=DU.ReadReturn(T14,1);
//  mixin $Style.AddClasses("mainMenu")
var T16=DU.Ref(T15);
var T17="mainMenu";
var T18=[T17];
var T19=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T16},...T18);
var T20=[T15];
var T21=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T11},...T20);
var T22=DU.ReadReturn(T21,1);
$container=T22;
//  if $Storage.CanContinue()
var T24=__RUN.getStaticGlo("Storage.CanContinue").func(null);
var T25=DU.ReadReturn(T24,1);
if(T25)
{
//  trap container.$AppendChild($mkContinueButton($Storage.GetContinueKey(), ct))
try
{
var T28=DU.Ref($container);
var T29="lastSave";
var T30="";
var T31=[T29,T30];
var T32=__RUN.getStaticGlo("Storage.Load").func(null,...T31);
var T33=DU.ReadReturn(T32,1);
var T34=DU.Ref($ct);
var T35=[T33,T34];
var T36=__RUN.getStaticFile("Menu.w_9","mkContinueButton").func(null,...T35);
var T37=DU.ReadReturn(T36,1);
var T38=[T37];
var T39=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T28},...T38);
var T40=DU.ReadReturn(T39,1);
}catch($error)
{
}var T44=$error;
$error=undefined;
}//  container.$AppendChild(dim $Button.Create())
var T47=DU.Ref($container);
var T48="button";
var T49=[T48];
var T50=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T49);
var T51=DU.ReadReturn(T50,1);
//  mixin $Style.AddClasses("titleButton")
var T52=DU.Ref(T51);
var T53="titleButton";
var T54=[T53];
var T55=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T52},...T54);
//  mixin $SetText("New Campaign")
var T56=DU.Ref(T51);
var T57="New Campaign";
var T58=[T57];
var T59=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T56},...T58);
//  mixin $Button.HookClick(lambda)
var T60=DU.Ref(T51);
var T61=OObj.MakeFunc(__FUNCS["Menu.w_9"]["91_func46"],{$ct: DU.Ref($ct)});
var T62=[T61];
var T63=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T60},...T62);
var T64=[T51];
var T65=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T47},...T64);
var T66=DU.ReadReturn(T65,1);
//  @hasSaves : $Storage.HasSaveGames()
var T68=__RUN.getStaticGlo("Storage.FindAllSaves").func(null);
var T69=DU.ReadReturn(T68,1);
var T70=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T69});
var T71=DU.ReadReturn(T70,1);
$hasSaves=T71;
//  @btLoad : container.$AppendChild(dim $Button.Create())
var T73=DU.Ref($container);
var T74="button";
var T75=[T74];
var T76=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T75);
var T77=DU.ReadReturn(T76,1);
//  mixin $Style.AddClasses("titleButton")
var T78=DU.Ref(T77);
var T79="titleButton";
var T80=[T79];
var T81=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T78},...T80);
//  mixin $SetText("Load")
var T82=DU.Ref(T77);
var T83="Load";
var T84=[T83];
var T85=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T82},...T84);
var T86=[T77];
var T87=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T73},...T86);
var T88=DU.ReadReturn(T87,1);
$btLoad=T88;
//  if hasSaves
var T90=DU.Ref($hasSaves);
if(T90)
{
//  btLoad.$Button.HookClick(lambda)
var T92=DU.Ref($btLoad);
var T93=OObj.MakeFunc(__FUNCS["Menu.w_9"]["104_func56"],{$ct: DU.Ref($ct)});
var T94=[T93];
var T95=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T92},...T94);
var T96=DU.ReadReturn(T95,1);
}else
{
//  else
//  btLoad.$SetAttribute("disabled", "disabled")
var T100=DU.Ref($btLoad);
var T101="disabled";
var T102="disabled";
var T103=[T101,T102];
var T104=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T100},...T103);
var T105=DU.ReadReturn(T104,1);
}//  container.$AppendChild(dim $Button.Create())
var T107=DU.Ref($container);
var T108="button";
var T109=[T108];
var T110=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T109);
var T111=DU.ReadReturn(T110,1);
//  mixin $Style.AddClasses("titleButton")
var T112=DU.Ref(T111);
var T113="titleButton";
var T114=[T113];
var T115=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T112},...T114);
//  mixin $SetText("About")
var T116=DU.Ref(T111);
var T117="About";
var T118=[T117];
var T119=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T116},...T118);
//  mixin $Button.HookClick(lambda)
var T120=DU.Ref(T111);
var T121=OObj.MakeFunc(__FUNCS["Menu.w_9"]["117_func65"],{$ct: DU.Ref($ct)});
var T122=[T121];
var T123=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T120},...T122);
var T124=[T111];
var T125=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T107},...T124);
var T126=DU.ReadReturn(T125,1);
//  await ct.$Canceler.AsyncWait()
var T128=DU.Ref($ct);
var T130=await __RUN.getStaticGlo("Canceler.AsyncWait").func({__THIS:T128});
var T131=DU.ReadReturn(T130,1);
return [];
},
"91_func46" : function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
//  if ct.$Canceler.TryCancel()
var T1=DU.Ref($ct);
var T2=__RUN.getStaticGlo("Canceler.TryCancel").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
if(T3)
{
//  $QueueMenu($DoNewGame)
var T5=DU.Ref(__RUN.getStaticGlo("Menu.DoNewGame"));
var T6=[T5];
var T7=__RUN.getStaticGlo("Menu.QueueMenu").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
}return [];
},
"104_func56" : function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
//  if ct.$Canceler.TryCancel()
var T1=DU.Ref($ct);
var T2=__RUN.getStaticGlo("Canceler.TryCancel").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
if(T3)
{
//  $QueueMenu($DoLoadGame)
var T5=DU.Ref(__RUN.getStaticGlo("Menu.DoLoadGame"));
var T6=[T5];
var T7=__RUN.getStaticGlo("Menu.QueueMenu").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
}return [];
},
"117_func65" : function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
//  if ct.$Canceler.TryCancel()
var T1=DU.Ref($ct);
var T2=__RUN.getStaticGlo("Canceler.TryCancel").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
if(T3)
{
//  $QueueMenu($DoAbout)
var T5=DU.Ref(__RUN.getStaticGlo("Menu.DoAbout"));
var T6=[T5];
var T7=__RUN.getStaticGlo("Menu.QueueMenu").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
}return [];
},
"130::DoNewGame" : async function(__DIV){
var $ct,$scroller;
//  $IO.Log("select campaign")
var T0="select campaign";
var T1=[T0];
var T2=__RUN.getStaticGlo("IO.Log").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
//  @ct : $Canceler.Create()
var T5=new OObj();
var T6=true;
OObj.SetChild(T5,"live",T6);
var T8=new OObj();
OObj.SetChild(T5,"pipes",T8);
$ct=T5;
//  @scroller : $Container.$AppendChild(dim $Div.Create())
var T11=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T12="div";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T13);
var T15=DU.ReadReturn(T14,1);
//  mixin $Style.AddClasses("campaignScroller")
var T16=DU.Ref(T15);
var T17="campaignScroller";
var T18=[T17];
var T19=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T16},...T18);
var T20=[T15];
var T21=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T11},...T20);
var T22=DU.ReadReturn(T21,1);
$scroller=T22;
//  $renderCampaignList(ct, "Official Campaigns", scroller, $Campaign.GetOfficialCampaigns())
var T24=DU.Ref($ct);
var T25="Official Campaigns";
var T26=DU.Ref($scroller);
var T27=__RUN.getStaticGlo("Campaign.GetOfficialCampaigns").func(null);
var T28=DU.ReadReturn(T27,1);
var T29=[T24,T25,T26,T28];
var T30=__RUN.getStaticGlo("Menu.renderCampaignList").func(null,...T29);
var T31=DU.ReadReturn(T30,1);
//  $renderCampaignList(ct, "Unofficial Campaigns", scroller, $Campaign.GetCustomCampaigns())
var T33=DU.Ref($ct);
var T34="Unofficial Campaigns";
var T35=DU.Ref($scroller);
var T36=__RUN.getStaticGlo("Campaign.GetCustomCampaigns").func(null);
var T37=DU.ReadReturn(T36,1);
var T38=[T33,T34,T35,T37];
var T39=__RUN.getStaticGlo("Menu.renderCampaignList").func(null,...T38);
var T40=DU.ReadReturn(T39,1);
//  arun $BackButton(ct, lambda)
var T42=OObj.MakeFunc(__FUNCS["Menu.w_9"]["143_func83"],{$ct: DU.Ref($ct)});
var T43=__RUN.runJobLambda(T42);
//  await ct.$Canceler.AsyncWait()
var T45=DU.Ref($ct);
var T47=await __RUN.getStaticGlo("Canceler.AsyncWait").func({__THIS:T45});
var T48=DU.ReadReturn(T47,1);
return [];
},
"143_func83" : async function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
var T1=DU.Ref($ct);
var T2=OObj.MakeFunc(__FUNCS["Menu.w_9"]["156_func-1"],{});
var T4=[T1,T2];
var T5=await __RUN.getStaticFile("Menu.w_9","BackButton").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"156_func-1" : function(__DIV){
//  $QueueMenu($DoMain)
var T1=DU.Ref(__RUN.getStaticGlo("Menu.DoMain"));
var T2=[T1];
var T3=__RUN.getStaticGlo("Menu.QueueMenu").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [];
},
"169::renderCampaignList" : function(__DIV, $ct, $title, $scroller, $list){
var $container,$$iter2,$camp;
//  scroller.$AppendChild(dim $Div.Create())
var T4=DU.Ref($scroller);
var T5="div";
var T6=[T5];
var T7=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
//  mixin $Style.AddClasses("sectionHead")
var T9=DU.Ref(T8);
var T10="sectionHead";
var T11=[T10];
var T12=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T9},...T11);
//  mixin $SetText(title)
var T13=DU.Ref(T8);
var T14=DU.Ref($title);
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T13},...T15);
var T17=[T8];
var T18=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T4},...T17);
var T19=DU.ReadReturn(T18,1);
//  @container : scroller.$AppendChild(dim $Div.Create())
var T21=DU.Ref($scroller);
var T22="div";
var T23=[T22];
var T24=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T23);
var T25=DU.ReadReturn(T24,1);
//  mixin $Style.AddClasses("campaignSection")
var T26=DU.Ref(T25);
var T27="campaignSection";
var T28=[T27];
var T29=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T26},...T28);
var T30=[T25];
var T31=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T21},...T30);
var T32=DU.ReadReturn(T31,1);
$container=T32;
//  for @camp : list
var T34=DU.Ref($list);
var T35=DU.MakeIter(T34);
$$iter2=T35;
for(var T37=0;;T37++)
{
if(T37>0)
{
var T38=DU.Ref($$iter2);
T38.Next();
}var T40=DU.Ref($$iter2);
var T41=T40.iter.done;
var T42=!T41;
if(!T42){break;}
var T44=DU.Ref($$iter2);
var T45=T44.iter.value[0];
$camp=T45;
//  container.$AppendChild($renderCampaignCover(ct, camp))
var T47=DU.Ref($container);
var T48=DU.Ref($ct);
var T49=DU.Ref($camp);
var T50=[T48,T49];
var T51=__RUN.getStaticGlo("Menu.renderCampaignCover").func(null,...T50);
var T52=DU.ReadReturn(T51,1);
var T53=[T52];
var T54=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T47},...T53);
var T55=DU.ReadReturn(T54,1);
continue;
}return [];
},
"182::renderCampaignCover" : function(__DIV, $ct, $camp){
var $elem,$comingSoon,$book;
//  @comingSoon : camp.?comingSoon ? false
var T2=DU.Ref($camp);
if(OObj.HasChildKey(T2,"comingSoon"))
{
var T3=T2;
var T4=OObj.DotAccess(T3,"comingSoon");
}else {var T4=null;}
if(T4 != null)
{
var T7=T4;
}else{
var T7=false;
}$comingSoon=T7;
//  elem : dim $Button.Create()
var T9="button";
var T10=[T9];
var T11=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T10);
var T12=DU.ReadReturn(T11,1);
//  mixin $Style.AddClasses("campaignContainer")
var T13=DU.Ref(T12);
var T14="campaignContainer";
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T13},...T15);
//  mixin $Style.SetClassIf("comingSoon", comingSoon)
var T17=DU.Ref(T12);
var T18="comingSoon";
var T19=DU.Ref($comingSoon);
var T20=[T18,T19];
var T21=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T17},...T20);
$elem=T12;
//  if !comingSoon
var T23=DU.Ref($comingSoon);
var T24=!T23;
if(T24)
{
//  elem.$Button.HookClick(lambda)
var T26=DU.Ref($elem);
var T27=OObj.MakeFunc(__FUNCS["Menu.w_9"]["195_func107"],{$ct: DU.Ref($ct),$camp: DU.Ref($camp)});
var T28=[T27];
var T29=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T26},...T28);
var T30=DU.ReadReturn(T29,1);
}else
{
//  else
//  elem.$SetAttribute("disabled", "disabled")
var T34=DU.Ref($elem);
var T35="disabled";
var T36="disabled";
var T37=[T35,T36];
var T38=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T34},...T37);
var T39=DU.ReadReturn(T38,1);
}//  if camp.?isOfficial ? false
var T42=DU.Ref($camp);
if(OObj.HasChildKey(T42,"isOfficial"))
{
var T43=T42;
var T44=OObj.DotAccess(T43,"isOfficial");
}else {var T44=null;}
if(T44 != null)
{
var T47=T44;
}else{
var T47=false;
}if(T47)
{
//  elem.$AppendChild($mkCampaignComic(camp))
var T49=DU.Ref($elem);
var T50=DU.Ref($camp);
var T51=[T50];
var T52=__RUN.getStaticFile("Menu.w_9","mkCampaignComic").func(null,...T51);
var T53=DU.ReadReturn(T52,1);
var T54=[T53];
var T55=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T49},...T54);
var T56=DU.ReadReturn(T55,1);
}else
{
//  else
//  @book : $g.MakeComicBookCard(camp.img, "Champions", "The Card Game", 0, camp.name
var T60=DU.Ref($camp);
var T61=OObj.DotAccess(T60,"img");
var T62="Champions";
var T63="The Card Game";
var T64=0;
var T65=DU.Ref($camp);
var T66=OObj.DotAccess(T65,"name");
var T67=DU.Ref($camp);
var T68=OObj.DotAccess(T67,"backStyle");
var T69=DU.Ref($camp);
var T70=OObj.DotAccess(T69,"lineStyle");
var T71=DU.Ref($camp);
var T72=OObj.DotAccess(T71,"foreStyle");
var T73=[T61,T62,T63,T64,T66,T68,T70,T72];
var T74=__RUN.getStaticGlo("g.MakeComicBookCard").func(null,...T73);
var T75=DU.ReadReturn(T74,1);
$book=T75;
//  elem.$AppendChild(book)
var T77=DU.Ref($elem);
var T78=DU.Ref($book);
var T79=[T78];
var T80=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T77},...T79);
var T81=DU.ReadReturn(T80,1);
}//  if comingSoon
var T83=$book;
$book=undefined;
var T86=DU.Ref($comingSoon);
if(T86)
{
//  elem.$AppendChild(dim $Paragraph.Create("COMING SOON"))
var T88=DU.Ref($elem);
var T89="COMING SOON";
var T90=[T89];
var T91=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T90);
var T92=DU.ReadReturn(T91,1);
//  mixin $Style.AddClasses("banner")
var T93=DU.Ref(T92);
var T94="banner";
var T95=[T94];
var T96=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T93},...T95);
var T97=[T92];
var T98=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T88},...T97);
var T99=DU.ReadReturn(T98,1);
}return [$elem];
},
"195_func107" : function(__DIV){
var $ct,$camp;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
if('$camp' in __DIV.capture){$camp=__DIV.capture["$camp"];}
//  if ct.$Canceler.TryCancel()
var T1=DU.Ref($ct);
var T2=__RUN.getStaticGlo("Canceler.TryCancel").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
if(T3)
{
//  $QueueLaunch(lambda)
var T5=OObj.MakeFunc(__FUNCS["Menu.w_9"]["208_func109"],{$camp: DU.Ref($camp)});
var T6=[T5];
var T7=__RUN.getStaticGlo("Menu.QueueLaunch").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
}return [];
},
"208_func109" : async function(__DIV){
var $camp;
if('$camp' in __DIV.capture){$camp=__DIV.capture["$camp"];}
//  await $RunCampaign(camp)
var T1=DU.Ref($camp);
var T3=[T1];
var T4=await __RUN.getStaticGlo("RunCampaign").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"221::DoLoadGame" : async function(__DIV){
var $ct,$container,$$iter2,$key,$error;
//  $IO.Log("load games")
var T0="load games";
var T1=[T0];
var T2=__RUN.getStaticGlo("IO.Log").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
//  @ct : $Canceler.Create()
var T5=new OObj();
var T6=true;
OObj.SetChild(T5,"live",T6);
var T8=new OObj();
OObj.SetChild(T5,"pipes",T8);
$ct=T5;
//  @container : $Container.$AppendChild(dim $Div.Create())
var T11=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T12="div";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T13);
var T15=DU.ReadReturn(T14,1);
//  mixin $Style.AddClasses("loadScroller")
var T16=DU.Ref(T15);
var T17="loadScroller";
var T18=[T17];
var T19=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T16},...T18);
//  mixin $AppendChild(dim $Div.Create())
var T20=DU.Ref(T15);
var T21="div";
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T22);
var T24=DU.ReadReturn(T23,1);
//  mixin $Style.AddClasses("loadHeader")
var T25=DU.Ref(T24);
var T26="loadHeader";
var T27=[T26];
var T28=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T25},...T27);
//  mixin $SetText("Load Saved Campaigns")
var T29=DU.Ref(T24);
var T30="Load Saved Campaigns";
var T31=[T30];
var T32=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T29},...T31);
var T33=[T24];
var T34=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T20},...T33);
var T35=[T15];
var T36=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T11},...T35);
var T37=DU.ReadReturn(T36,1);
$container=T37;
//  for @key : $Storage.FindAllSaves()
var T39=__RUN.getStaticGlo("Storage.FindAllSaves").func(null);
var T40=DU.ReadReturn(T39,1);
var T41=DU.MakeIter(T40);
$$iter2=T41;
for(var T43=0;;T43++)
{
if(T43>0)
{
var T44=DU.Ref($$iter2);
T44.Next();
}var T46=DU.Ref($$iter2);
var T47=T46.iter.done;
var T48=!T47;
if(!T48){break;}
var T50=DU.Ref($$iter2);
var T51=T50.iter.value[0];
$key=T51;
//  trap container.$AppendChild($mkGameLoadButton(key, ct))
try
{
var T54=DU.Ref($container);
var T55=DU.Ref($key);
var T56=DU.Ref($ct);
var T57=[T55,T56];
var T58=__RUN.getStaticFile("Menu.w_9","mkGameLoadButton").func(null,...T57);
var T59=DU.ReadReturn(T58,1);
var T60=[T59];
var T61=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T54},...T60);
var T62=DU.ReadReturn(T61,1);
}catch($error)
{
//  $IO.Log("FAILED TO LOAD SAVE: " + key + " - " + error)
var T66="FAILED TO LOAD SAVE: ";
var T67=DU.Ref($key);
var T68=gVal(T66)+gVal(T67);
var T69=" - ";
var T70=gVal(T68)+gVal(T69);
var T71=DU.Ref($error);
var T72=gVal(T70)+gVal(T71);
var T73=[T72];
var T74=__RUN.getStaticGlo("IO.Log").func(null,...T73);
var T75=DU.ReadReturn(T74,1);
}var T77=$error;
$error=undefined;
continue;
}//  arun $BackButton(ct, lambda)
var T80=$key;
$key=undefined;
var T82=OObj.MakeFunc(__FUNCS["Menu.w_9"]["234_func142"],{$ct: DU.Ref($ct)});
var T83=__RUN.runJobLambda(T82);
//  await ct.$Canceler.AsyncWait()
var T85=DU.Ref($ct);
var T87=await __RUN.getStaticGlo("Canceler.AsyncWait").func({__THIS:T85});
var T88=DU.ReadReturn(T87,1);
return [];
},
"234_func142" : async function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
var T1=DU.Ref($ct);
var T2=OObj.MakeFunc(__FUNCS["Menu.w_9"]["247_func-1"],{});
var T4=[T1,T2];
var T5=await __RUN.getStaticFile("Menu.w_9","BackButton").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"247_func-1" : function(__DIV){
//  $QueueMenu($DoMain)
var T1=DU.Ref(__RUN.getStaticGlo("Menu.DoMain"));
var T2=[T1];
var T3=__RUN.getStaticGlo("Menu.QueueMenu").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [];
},
"260::DoAbout" : async function(__DIV){
var $ct;
//  $IO.Log("about page")
var T0="about page";
var T1=[T0];
var T2=__RUN.getStaticGlo("IO.Log").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
//  @ct : $Canceler.Create()
var T5=new OObj();
var T6=true;
OObj.SetChild(T5,"live",T6);
var T8=new OObj();
OObj.SetChild(T5,"pipes",T8);
$ct=T5;
//  $Container.$AppendChild(dim $Div.Create())
var T11=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T12="div";
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T13);
var T15=DU.ReadReturn(T14,1);
//  mixin $Style.AddClasses("popup")
var T16=DU.Ref(T15);
var T17="popup";
var T18=[T17];
var T19=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T16},...T18);
//  mixin $AppendChild(dim $Paragraph.Create("About"))
var T20=DU.Ref(T15);
var T21="About";
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T22);
var T24=DU.ReadReturn(T23,1);
//  mixin $Style.AddClasses("text", "top-left")
var T25=DU.Ref(T24);
var T26="text";
var T27="top-left";
var T28=[T26,T27];
var T29=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T25},...T28);
var T30=[T24];
var T31=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T20},...T30);
//  mixin $Popup.AddMarkdown(textdata)
var T32=DU.Ref(T15);
var T33=new OObj();
var T34="Marvel Champions: The Card Game is copyrighted by Fantasy Flight Games.";
OObj.SetChild(T33,0,T34);
var T36="This website is not produced, endorsed, supported, or affiliated with Fantasy Flight Games.";
OObj.SetChild(T33,1,T36);
var T38="";
OObj.SetChild(T33,2,T38);
var T40="This app was coded using the [Wingra programming language](https://github.com/mercurywave/wingra).";
OObj.SetChild(T33,3,T40);
var T42="";
OObj.SetChild(T33,4,T42);
var T44="Please post bug reports and feature requests to the projects";
OObj.SetChild(T33,5,T44);
var T46="[GitHub page](https://github.com/mercurywave/mc-omnibus).";
OObj.SetChild(T33,6,T46);
var T48="";
OObj.SetChild(T33,7,T48);
var T50="Questions? Contact [@mercurywave on Twitter](https://twitter.com/mercurywave).";
OObj.SetChild(T33,8,T50);
var T52="";
OObj.SetChild(T33,9,T52);
var T54=[T33];
var T55=__RUN.getStaticGlo("Popup.AddMarkdown").func({__THIS:T32},...T54);
var T56=[T15];
var T57=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T11},...T56);
var T58=DU.ReadReturn(T57,1);
//  arun $BackButton(ct, lambda)
var T60=OObj.MakeFunc(__FUNCS["Menu.w_9"]["273_func170"],{$ct: DU.Ref($ct)});
var T61=__RUN.runJobLambda(T60);
//  await ct.$Canceler.AsyncWait()
var T63=DU.Ref($ct);
var T65=await __RUN.getStaticGlo("Canceler.AsyncWait").func({__THIS:T63});
var T66=DU.ReadReturn(T65,1);
return [];
},
"273_func170" : async function(__DIV){
var $ct;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
var T1=DU.Ref($ct);
var T2=OObj.MakeFunc(__FUNCS["Menu.w_9"]["286_func-1"],{});
var T4=[T1,T2];
var T5=await __RUN.getStaticFile("Menu.w_9","BackButton").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"286_func-1" : function(__DIV){
//  $QueueMenu($DoMain)
var T1=DU.Ref(__RUN.getStaticGlo("Menu.DoMain"));
var T2=[T1];
var T3=__RUN.getStaticGlo("Menu.QueueMenu").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [];
},
"299::mkCampaignComic" : function(__DIV, $camp){
var $elem;
//  elem : dim $Div.Create()
var T1="div";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
//  mixin $Style.AddClasses("campaign")
var T5=DU.Ref(T4);
var T6="campaign";
var T7=[T6];
var T8=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T5},...T7);
//  mixin $Style.SetBackgroundImage(camp.$Campaign.GetImagePath())
var T9=DU.Ref(T4);
var T10=DU.Ref($camp);
var T11=OObj.DotAccess(T10,"img");
var T12=OObj.DotAccess(T11,"path");
var T13=[T12];
var T14=__RUN.getStaticGlo("Dom.Style.SetBackgroundImage").func({__THIS:T9},...T13);
//  mixin $Campaign.mixApplyExtraStyles(camp)
var T15=DU.Ref(T4);
var T16=DU.Ref($camp);
var T17=[T16];
var T18=__RUN.getStaticGlo("Campaign.mixApplyExtraStyles").func({__THIS:T15},...T17);
$elem=T4;
return [$elem];
},
"312::mkGameLoadButton" : function(__DIV, $key, $ct){
var $elem,$state,$camp,$heroes,$error,$$inThis2,$$$inThis23,$content,$$iter4,$it;
//  trap @state, @camp, @heroes : $tryReadSave(key)
try
{
var T3=DU.Ref($key);
var T4=[T3];
var T5=__RUN.getStaticFile("Menu.w_9","tryReadSave").func(null,...T4);
var T6=DU.ReadReturn(T5,3);
$state=T6[2];
$camp=T6[1];
$heroes=T6[0];
}catch($error)
{
//  throw error
var T12=DU.Ref($error);
throw T12;
}//  elem : dim $Button.Create()
var T14=$error;
$error=undefined;
var T16="button";
var T17=[T16];
var T18=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T17);
var T19=DU.ReadReturn(T18,1);
//  mixin $Style.AddClasses("loadGame")
var T20=DU.Ref(T19);
var T21="loadGame";
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T20},...T22);
//  mixin $Button.HookClick(lambda)
var T24=DU.Ref(T19);
var T25=OObj.MakeFunc(__FUNCS["Menu.w_9"]["325_func190"],{$key: DU.Ref($key),$ct: DU.Ref($ct),$camp: DU.Ref($camp)});
var T26=[T25];
var T27=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T24},...T26);
//  mixin $AppendChild(camp.$Campaign.MakeBadge())
var T28=DU.Ref(T19);
var T29=DU.Ref($camp);
$$inThis2=T29;
var T31="div";
var T32=[T31];
var T33=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T32);
var T34=DU.ReadReturn(T33,1);
var T35=DU.Ref(T34);
var T36="campaignBadgeContainer";
var T37=[T36];
var T38=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T35},...T37);
var T39=DU.Ref(T34);
var T40=DU.Ref($$inThis2);
var T41=OObj.DotAccess(T40,"img");
$$$inThis23=T41;
var T43="img";
var T44=[T43];
var T45=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T44);
var T46=DU.ReadReturn(T45,1);
var T47=DU.Ref(T46);
var T48="src";
var T49=DU.Ref($$$inThis23);
var T50=OObj.DotAccess(T49,"path");
var T51=[T48,T50];
var T52=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T47},...T51);
var T53=DU.Ref(T46);
var T54="alt";
var T55=DU.Ref($$$inThis23);
var T56=OObj.DotAccess(T55,"alt");
if(T56 != null)
{
var T59=T56;
}else{
var T59="";
}var T60=[T54,T59];
var T61=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T53},...T60);
var T62=DU.Ref(T46);
var T63="campaignBadge";
var T64=[T63];
var T65=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T62},...T64);
var T66=[T46];
var T67=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T39},...T66);
var T68=[T34];
var T69=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T28},...T68);
//  mixin $Style.ToggleBetweenClasses(state[$Campaign.Complete] ? false, "complete", "active")
var T70=DU.Ref(T19);
var T71=DU.Ref($state);
var T72="complete";
var T73=OObj.GetPath(T71,[T72]);
if(T73 != null)
{
var T76=T73;
}else{
var T76=false;
}var T77="complete";
var T78="active";
var T79=[T76,T77,T78];
var T80=__RUN.getStaticGlo("Dom.Style.ToggleBetweenClasses").func({__THIS:T70},...T79);
//  mixin $Style.SetClassIf("defeat", state[$Campaign.Defeated] ? false)
var T81=DU.Ref(T19);
var T82="defeat";
var T83=DU.Ref($state);
var T84="defeated";
var T85=OObj.GetPath(T83,[T84]);
if(T85 != null)
{
var T88=T85;
}else{
var T88=false;
}var T89=[T82,T88];
var T90=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T81},...T89);
//  mixin $Style.SetClassIf("victory", state[$Campaign.Victory] ? false)
var T91=DU.Ref(T19);
var T92="victory";
var T93=DU.Ref($state);
var T94="victory";
var T95=OObj.GetPath(T93,[T94]);
if(T95 != null)
{
var T98=T95;
}else{
var T98=false;
}var T99=[T92,T98];
var T100=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T91},...T99);
$elem=T19;
//  @content : elem.$AppendChild(dim $Div.Create())
var T102=DU.Ref($elem);
var T103="div";
var T104=[T103];
var T105=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T104);
var T106=DU.ReadReturn(T105,1);
//  mixin $Style.AddClasses("content")
var T107=DU.Ref(T106);
var T108="content";
var T109=[T108];
var T110=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T107},...T109);
//  mixin $AppendChild($Heading.Create(3, camp.$Campaign.GetName()))
var T111=DU.Ref(T106);
var T112=3;
var T113=DU.Ref($camp);
var T114=OObj.DotAccess(T113,"name");
var T115=[T112,T114];
var T116=__RUN.getStaticGlo("Dom.Heading.Create").func(null,...T115);
var T117=DU.ReadReturn(T116,1);
var T118=[T117];
var T119=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T111},...T118);
//  mixin $AppendChild($Paragraph.Create(state["progress"]))
var T120=DU.Ref(T106);
var T121=DU.Ref($state);
var T122="progress";
var T123=OObj.GetPath(T121,[T122]);
var T124=[T123];
var T125=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T124);
var T126=DU.ReadReturn(T125,1);
var T127=[T126];
var T128=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T120},...T127);
var T129=[T106];
var T130=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T102},...T129);
var T131=DU.ReadReturn(T130,1);
$content=T131;
//  for heroes
var T133=DU.Ref($heroes);
var T134=DU.MakeIter(T133);
$$iter4=T134;
for(var T136=0;;T136++)
{
if(T136>0)
{
var T137=DU.Ref($$iter4);
T137.Next();
}var T139=DU.Ref($$iter4);
var T140=T139.iter.done;
var T141=!T140;
if(!T141){break;}
var T143=DU.Ref($$iter4);
var T144=T143.iter.value[0];
$it=T144;
//  content.$AppendChild(it.$Heroes.MakeHeroBadge())
var T146=DU.Ref($content);
var T147=DU.Ref($it);
var T148=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T147});
var T149=DU.ReadReturn(T148,1);
var T150=[T149];
var T151=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T146},...T150);
var T152=DU.ReadReturn(T151,1);
continue;
}return [$elem];
},
"325_func190" : function(__DIV){
var $ct,$camp,$key;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
if('$camp' in __DIV.capture){$camp=__DIV.capture["$camp"];}
if('$key' in __DIV.capture){$key=__DIV.capture["$key"];}
//  if ct.$Canceler.TryCancel()
var T1=DU.Ref($ct);
var T2=__RUN.getStaticGlo("Canceler.TryCancel").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
if(T3)
{
//  $Menu.QueueLaunch(lambda)
var T5=OObj.MakeFunc(__FUNCS["Menu.w_9"]["338_func192"],{$camp: DU.Ref($camp),$key: DU.Ref($key)});
var T6=[T5];
var T7=__RUN.getStaticGlo("Menu.QueueLaunch").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
}return [];
},
"338_func192" : async function(__DIV){
var $camp,$key;
if('$camp' in __DIV.capture){$camp=__DIV.capture["$camp"];}
if('$key' in __DIV.capture){$key=__DIV.capture["$key"];}
//  await $RunCampaign(camp, key)
var T1=DU.Ref($camp);
var T2=DU.Ref($key);
var T4=[T1,T2];
var T5=await __RUN.getStaticGlo("RunCampaign").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"351::tryReadSave" : function(__DIV, $key){
var $state,$camp,$heroes,$cnt,$idx,$$terminate2,$play,$hero;
//  state : $Storage.LoadGameState(key)
var T1=DU.Ref($key);
var T2=null;
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("Storage.Load").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticFile("SaveLo_10","UpdateSave").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
$state=T8;
//  if state = null \ throw "no state"
var T10=DU.Ref($state);
var T11=null;
var T12=DU.AreEqual(T10,T11);
if(T12)
{
var T14="no state";
throw T14;
}//  camp : $Campaign.LookupByName(state["campaign"])
var T17=DU.Ref($state);
var T18="campaign";
var T19=OObj.GetPath(T17,[T18]);
var T20=[T19];
var T21=__RUN.getStaticGlo("Campaign.LookupByName").func(null,...T20);
var T22=DU.ReadReturn(T21,1);
$camp=T22;
//  if camp = null \ throw "no camp"
var T24=DU.Ref($camp);
var T25=null;
var T26=DU.AreEqual(T24,T25);
if(T26)
{
var T28="no camp";
throw T28;
}//  @cnt : state.?players ? 0
var T31=DU.Ref($state);
if(OObj.HasChildKey(T31,"players"))
{
var T32=T31;
var T33=OObj.DotAccess(T32,"players");
}else {var T33=null;}
if(T33 != null)
{
var T36=T33;
}else{
var T36=0;
}$cnt=T36;
//  heroes : dim()
var T38=new OObj();
$heroes=T38;
//  for @idx : 1 to cnt + 1
var T40=1;
$idx=T40;
var T42=DU.Ref($cnt);
var T43=1;
var T44=gVal(T42)+gVal(T43);
$$terminate2=T44;
for(var T46=0;;T46++)
{
if(T46>0)
{
var T47=DU.Ref($idx);
var T48=1;
var T49=gVal(T47)+gVal(T48);
$idx=T49;
}var T51=DU.Ref($$terminate2);
var T52=DU.Ref($idx);
var T53=gVal(T51) > gVal(T52);
if(!T53){break;}
//  @play : state["player", idx]
var T55=DU.Ref($state);
var T56="player";
var T57=DU.Ref($idx);
var T58=OObj.GetPath(T55,[T56,T57]);
$play=T58;
//  if play = null \ throw "player " + idx + " not found"
var T60=DU.Ref($play);
var T61=null;
var T62=DU.AreEqual(T60,T61);
if(T62)
{
var T64="player ";
var T65=DU.Ref($idx);
var T66=gVal(T64)+gVal(T65);
var T67=" not found";
var T68=gVal(T66)+gVal(T67);
throw T68;
}//  @hero : $Heroes.LookupByName(play["hero"])
var T71=DU.Ref($play);
var T72="hero";
var T73=OObj.GetPath(T71,[T72]);
var T74=[T73];
var T75=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T74);
var T76=DU.ReadReturn(T75,1);
$hero=T76;
//  if hero = null \ throw "hero " + idx + " not found"
var T78=DU.Ref($hero);
var T79=null;
var T80=DU.AreEqual(T78,T79);
if(T80)
{
var T82="hero ";
var T83=DU.Ref($idx);
var T84=gVal(T82)+gVal(T83);
var T85=" not found";
var T86=gVal(T84)+gVal(T85);
throw T86;
}//  heroes.$List.Add(hero)
var T89=DU.Ref($heroes);
var T90=DU.Ref($hero);
var T91=[T90];
var T92=__RUN.getStaticGlo("List.Add").func({__THIS:T89},...T91);
var T93=DU.ReadReturn(T92,1);
continue;
}return [$state,$camp,$heroes];
},
"364::mkContinueButton" : function(__DIV, $key, $ct){
var $elem,$state,$camp,$heroes,$error,$content,$$iter2,$it;
//  trap @state, @camp, @heroes : $tryReadSave(key)
try
{
var T3=DU.Ref($key);
var T4=[T3];
var T5=__RUN.getStaticFile("Menu.w_9","tryReadSave").func(null,...T4);
var T6=DU.ReadReturn(T5,3);
$state=T6[2];
$camp=T6[1];
$heroes=T6[0];
}catch($error)
{
//  throw error
var T12=DU.Ref($error);
throw T12;
}//  elem : dim $Button.Create()
var T14=$error;
$error=undefined;
var T16="button";
var T17=[T16];
var T18=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T17);
var T19=DU.ReadReturn(T18,1);
//  mixin $Style.AddClasses("continueGame")
var T20=DU.Ref(T19);
var T21="continueGame";
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T20},...T22);
//  mixin $Style.SetBackgroundImage(camp.$Campaign.GetImagePath())
var T24=DU.Ref(T19);
var T25=DU.Ref($camp);
var T26=OObj.DotAccess(T25,"img");
var T27=OObj.DotAccess(T26,"path");
var T28=[T27];
var T29=__RUN.getStaticGlo("Dom.Style.SetBackgroundImage").func({__THIS:T24},...T28);
//  mixin $Button.HookClick(lambda)
var T30=DU.Ref(T19);
var T31=OObj.MakeFunc(__FUNCS["Menu.w_9"]["377_func231"],{$key: DU.Ref($key),$ct: DU.Ref($ct),$camp: DU.Ref($camp)});
var T32=[T31];
var T33=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T30},...T32);
//  mixin $AppendChild($Heading.Create(1, "Continue"))
var T34=DU.Ref(T19);
var T35=1;
var T36="Continue";
var T37=[T35,T36];
var T38=__RUN.getStaticGlo("Dom.Heading.Create").func(null,...T37);
var T39=DU.ReadReturn(T38,1);
var T40=[T39];
var T41=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T34},...T40);
//  mixin $AppendChild(dim $Div.Create())
var T42=DU.Ref(T19);
var T43="div";
var T44=[T43];
var T45=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T44);
var T46=DU.ReadReturn(T45,1);
//  mixin $Style.AddClasses("progress")
var T47=DU.Ref(T46);
var T48="progress";
var T49=[T48];
var T50=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T47},...T49);
//  mixin $AppendChild($Heading.Create(3, camp.$Campaign.GetName()))
var T51=DU.Ref(T46);
var T52=3;
var T53=DU.Ref($camp);
var T54=OObj.DotAccess(T53,"name");
var T55=[T52,T54];
var T56=__RUN.getStaticGlo("Dom.Heading.Create").func(null,...T55);
var T57=DU.ReadReturn(T56,1);
var T58=[T57];
var T59=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T51},...T58);
//  mixin $AppendChild($Paragraph.Create(state["progress"]))
var T60=DU.Ref(T46);
var T61=DU.Ref($state);
var T62="progress";
var T63=OObj.GetPath(T61,[T62]);
var T64=[T63];
var T65=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T64);
var T66=DU.ReadReturn(T65,1);
var T67=[T66];
var T68=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T60},...T67);
var T69=[T46];
var T70=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T42},...T69);
$elem=T19;
//  @content : elem.$AppendChild(dim $Div.Create())
var T72=DU.Ref($elem);
var T73="div";
var T74=[T73];
var T75=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T74);
var T76=DU.ReadReturn(T75,1);
//  mixin $Style.AddClasses("heroes")
var T77=DU.Ref(T76);
var T78="heroes";
var T79=[T78];
var T80=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T77},...T79);
var T81=[T76];
var T82=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T72},...T81);
var T83=DU.ReadReturn(T82,1);
$content=T83;
//  for heroes
var T85=DU.Ref($heroes);
var T86=DU.MakeIter(T85);
$$iter2=T86;
for(var T88=0;;T88++)
{
if(T88>0)
{
var T89=DU.Ref($$iter2);
T89.Next();
}var T91=DU.Ref($$iter2);
var T92=T91.iter.done;
var T93=!T92;
if(!T93){break;}
var T95=DU.Ref($$iter2);
var T96=T95.iter.value[0];
$it=T96;
//  content.$AppendChild(it.$Heroes.MakeHeroBadge())
var T98=DU.Ref($content);
var T99=DU.Ref($it);
var T100=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T99});
var T101=DU.ReadReturn(T100,1);
var T102=[T101];
var T103=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T98},...T102);
var T104=DU.ReadReturn(T103,1);
continue;
}return [$elem];
},
"377_func231" : function(__DIV){
var $ct,$camp,$key;
if('$ct' in __DIV.capture){$ct=__DIV.capture["$ct"];}
if('$camp' in __DIV.capture){$camp=__DIV.capture["$camp"];}
if('$key' in __DIV.capture){$key=__DIV.capture["$key"];}
//  if ct.$Canceler.TryCancel()
var T1=DU.Ref($ct);
var T2=__RUN.getStaticGlo("Canceler.TryCancel").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
if(T3)
{
//  $Menu.QueueLaunch(lambda)
var T5=OObj.MakeFunc(__FUNCS["Menu.w_9"]["390_func233"],{$camp: DU.Ref($camp),$key: DU.Ref($key)});
var T6=[T5];
var T7=__RUN.getStaticGlo("Menu.QueueLaunch").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
}return [];
},
"390_func233" : async function(__DIV){
var $camp,$key;
if('$camp' in __DIV.capture){$camp=__DIV.capture["$camp"];}
if('$key' in __DIV.capture){$key=__DIV.capture["$key"];}
//  await $RunCampaign(camp, key)
var T1=DU.Ref($camp);
var T2=DU.Ref($key);
var T4=[T1,T2];
var T5=await __RUN.getStaticGlo("RunCampaign").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"403::MakeTitle" : function(__DIV){
//  if $Dom.GetElement("Title") = null
var T1="Title";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.GetElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
var T5=null;
var T6=DU.AreEqual(T4,T5);
if(T6)
{
//  $g.CampaignHeader.$ClearChildren()
var T8=DU.Ref(__RUN.getStaticGlo("g.CampaignHeader"));
var T9=__RUN.getStaticGlo("Dom.ClearChildren").func({__THIS:T8});
var T10=DU.ReadReturn(T9,1);
//  $g.CampaignHeader.$AppendChild(dim $Div.Create())
var T12=DU.Ref(__RUN.getStaticGlo("g.CampaignHeader"));
var T13="div";
var T14=[T13];
var T15=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T14);
var T16=DU.ReadReturn(T15,1);
//  mixin $AppendChild(dim $Div.Create())
var T17=DU.Ref(T16);
var T18="div";
var T19=[T18];
var T20=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T19);
var T21=DU.ReadReturn(T20,1);
//  mixin $SetId("Title")
var T22=DU.Ref(T21);
var T23="Title";
var T24=[T23];
var T25=__RUN.getStaticGlo("Dom.SetId").func({__THIS:T22},...T24);
//  mixin $SetText("MC: Campaign Omnibus")
var T26=DU.Ref(T21);
var T27="MC: Campaign Omnibus";
var T28=[T27];
var T29=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T26},...T28);
var T30=[T21];
var T31=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T17},...T30);
var T32=[T16];
var T33=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T12},...T32);
var T34=DU.ReadReturn(T33,1);
}return [];
},
"416::BackButton" : async function(__DIV, $ct, $onClick){
var $pipe,$$alt2,$bt;
//  @pipe : $Pipe.Create()
var T2=__RUN.getStaticGlo("Pipe.Create").func(null);
var T3=DU.ReadReturn(T2,1);
$pipe=T3;
//  ct.$Canceler.PipeClean(pipe)
var T5=DU.Ref($ct);
var T6=OObj.DotAccess(T5,"pipes");
var T7=DU.Ref($pipe);
var T8=[T7];
var T9=__RUN.getStaticGlo("List.Add").func({__THIS:T6},...T8);
var T10=DU.ReadReturn(T9,1);
//  @bt : $Menu.Container.$AppendChild(dim $Button.Create())
var T12=DU.Ref(__RUN.getStaticGlo("Menu.Container"));
var T13="button";
var T14=[T13];
var T15=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T14);
var T16=DU.ReadReturn(T15,1);
//  mixin $Style.AddClasses("btBack")
var T17=DU.Ref(T16);
var T18="btBack";
var T19=[T18];
var T20=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T17},...T19);
//  mixin $Button.HookClick(lambda)
var T21=DU.Ref(T16);
var T22=OObj.MakeFunc(__FUNCS["Menu.w_9"]["429_func264"],{$pipe: DU.Ref($pipe)});
var T23=[T22];
var T24=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T21},...T23);
//  mixin $AppendChild(dim $Image.Create("assets/back.png"))
var T25=DU.Ref(T16);
var T26="img";
var T27=[T26];
var T28=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T27);
var T29=DU.ReadReturn(T28,1);
var T30=DU.Ref(T29);
var T31="src";
var T32="assets/back.png";
var T33=[T31,T32];
var T34=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T30},...T33);
var T35=DU.Ref(T29);
var T36="alt";
var T37=DU.Ref($$alt2);
if(T37 != null)
{
var T40=T37;
}else{
var T40="";
}var T41=[T36,T40];
var T42=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T35},...T41);
var T43=[T29];
var T44=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T25},...T43);
var T45=[T16];
var T46=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T12},...T45);
var T47=DU.ReadReturn(T46,1);
$bt=T47;
//  $g.HookKeyDown(ct, lambda(event))
var T49=DU.Ref($ct);
var T50=OObj.MakeFunc(__FUNCS["Menu.w_9"]["442_func268"],{$pipe: DU.Ref($pipe)});
var T51=[T49,T50];
var T52=__RUN.getStaticGlo("g.HookKeyDown").func(null,...T51);
var T53=DU.ReadReturn(T52,1);
//  await pipe.$Pipe.ReadAsync()
var T55=DU.Ref($pipe);
var T57=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T55});
var T58=DU.ReadReturn(T57,1);
//  if ct.$Canceler.TryCancel()
var T60=DU.Ref($ct);
var T61=__RUN.getStaticGlo("Canceler.TryCancel").func({__THIS:T60});
var T62=DU.ReadReturn(T61,1);
if(T62)
{
//  $(onClick)
var T64=DU.Ref($onClick);
var T65=OObj._RunLambda(T64,{});
var T66=DU.ReadReturn(T65,1);
}return [];
},
"429_func264" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"442_func268" : function(__DIV, $event){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$event' in __DIV.capture){$event=__DIV.capture["$event"];}
//  if event.key = "ArrowLeft" | event.key = "Backspace" | event.key = "Escape"
var T1=DU.Ref($event);
var T2=OObj.DotAccess(T1,"key");
var T3="ArrowLeft";
var T4=DU.AreEqual(T2,T3);
if(!!T4)
{
var T10=true;
}else{
var T7=DU.Ref($event);
var T8=OObj.DotAccess(T7,"key");
var T9="Backspace";
var T10=DU.AreEqual(T8,T9);
}if(!!T10)
{
var T16=true;
}else{
var T13=DU.Ref($event);
var T14=OObj.DotAccess(T13,"key");
var T15="Escape";
var T16=DU.AreEqual(T14,T15);
}if(T16)
{
//  pipe.$Pipe.Kill()
var T18=DU.Ref($pipe);
var T19=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T18});
var T20=DU.ReadReturn(T19,1);
}return [];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\SaveLoad.wng
__FUNCS["SaveLo_10"] = {
"13::GetNewSaveKey" : function(__DIV){
var $key;
//  => "cmp" + $Time.NowUtc()
var T0="cmp";
var T1=__RUN.getStaticGlo("Time.NowUtc").func(null);
var T2=DU.ReadReturn(T1,1);
var T3=gVal(T0)+gVal(T2);
$key=T3;
return [$key];
},
"26::SaveGame" : function(__DIV, $campaign, $key, $state){
var $obj;
//  if !(state has checkpoint) \ quit
var T3=DU.Ref($state);
var T4=T3.inner!=null && ("checkpoint" in T3.inner);
var T5=!T4;
if(T5)
{
return [];
}//  @obj : dim
var T9=new OObj();
//  campaign : campaign.$Campaign.GetName()
var T10=DU.Ref($campaign);
var T11=OObj.DotAccess(T10,"name");
OObj.SetChild(T9,"campaign",T11);
//  version : 1
var T13=1;
OObj.SetChild(T9,"version",T13);
$obj=T9;
//  obj.$Util.MergeIn(state)
var T16=DU.Ref($obj);
var T17=DU.Ref($state);
var T18=[T17];
var T19=__RUN.getStaticGlo("Util.MergeIn").func({__THIS:T16},...T18);
var T20=DU.ReadReturn(T19,1);
//  $Storage.Save(key, obj)
var T22=DU.Ref($key);
var T23=DU.Ref($obj);
var T24=[T22,T23];
var T25=__RUN.getStaticGlo("Storage.Save").func(null,...T24);
var T26=DU.ReadReturn(T25,1);
//  $Storage.Save("lastSave", key)
var T28="lastSave";
var T29=DU.Ref($key);
var T30=[T28,T29];
var T31=__RUN.getStaticGlo("Storage.Save").func(null,...T30);
var T32=DU.ReadReturn(T31,1);
return [];
},
"39::GetContinueKey" : function(__DIV){
var $key;
//  => $Storage.Load("lastSave", "")
var T0="lastSave";
var T1="";
var T2=[T0,T1];
var T3=__RUN.getStaticGlo("Storage.Load").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$key=T4;
return [$key];
},
"52::CanContinue" : function(__DIV){
var $bool,$key,$state,$$sOut2;
//  @key : $GetContinueKey()
var T0="lastSave";
var T1="";
var T2=[T0,T1];
var T3=__RUN.getStaticGlo("Storage.Load").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$key=T4;
//  if key = "" \ return false
var T6=DU.Ref($key);
var T7="";
var T8=DU.AreEqual(T6,T7);
if(T8)
{
var T10=false;
$bool=T10;
return [$bool];
}//  @state : $LoadGameState(key)
var T14=DU.Ref($key);
var T15=null;
var T16=[T14,T15];
var T17=__RUN.getStaticGlo("Storage.Load").func(null,...T16);
var T18=DU.ReadReturn(T17,1);
var T19=[T18];
var T20=__RUN.getStaticFile("SaveLo_10","UpdateSave").func(null,...T19);
var T21=DU.ReadReturn(T20,1);
$state=T21;
//  state = null : false
var T24=DU.Ref($state);
var T25=null;
var T26=DU.AreEqual(T24,T25);
if(T26)
{
var T28=false;
$$sOut2=T28;
}else
{
//  !(state has campaign) : false
var T32=DU.Ref($state);
var T33=T32.inner!=null && ("campaign" in T32.inner);
var T34=!T33;
if(T34)
{
var T36=false;
$$sOut2=T36;
}else
{
//  state[$Campaign.Complete] ? false : false
var T40=DU.Ref($state);
var T41="complete";
var T42=OObj.GetPath(T40,[T41]);
if(T42 != null)
{
var T45=T42;
}else{
var T45=false;
}if(T45)
{
var T47=false;
$$sOut2=T47;
}else
{
//  else : true
var T50=true;
$$sOut2=T50;
}}}var T52=DU.Ref($$sOut2);
$bool=T52;
return [$bool];
},
"65::LoadGameState" : function(__DIV, $key){
var $state;
//  state : $UpdateSave($Load(key, null))
var T1=DU.Ref($key);
var T2=null;
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("Storage.Load").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticFile("SaveLo_10","UpdateSave").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
$state=T8;
return [$state];
},
"78::FindAllSaves" : function(__DIV){
var $keys,$map,$$iter2,$it,$$it3;
//  @map : dim()
var T0=new OObj();
$map=T0;
//  for $AllKeys()
var T2=__RUN.getStaticGlo("Storage.AllKeys").func(null);
var T3=DU.ReadReturn(T2,1);
var T4=DU.MakeIter(T3);
$$iter2=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref($$iter2);
T7.Next();
}var T9=DU.Ref($$iter2);
var T10=T9.iter.done;
var T11=!T10;
if(!T11){break;}
var T13=DU.Ref($$iter2);
var T14=T13.iter.value[0];
$it=T14;
//  map[it] : true
var T16=true;
var T17=DU.Ref($map);
var T18=DU.Ref($it);
OObj.SetPath(T17,[T18],T16);
continue;
}//  keys : dim()
var T21=$it;
$it=undefined;
var T23=new OObj();
$keys=T23;
//  for @it in map
var T25=DU.Ref($map);
var T26=OObj.getFirstKey(T25);
$it=T26;
for(var T28=0;;T28++)
{
if(T28>0)
{
var T29=DU.Ref($map);
var T30=DU.Ref($it);
var T31=OObj.getNextKey(T29,T30);
var T32=$it;
$it=null;
$$it3=T32;
$it=T31;
}var T35=DU.Ref($it);
var T36=T35 != null;
if(!T36){break;}
//  if it.$Str.SubStr(0,3).$Str.ToLower() = "cmp"
var T39=DU.Ref($it);
var T40=0;
var T41=3;
var T42=[T40,T41];
var T43=__RUN.getStaticGlo("Str.SubStr").func({__THIS:T39},...T42);
var T44=DU.ReadReturn(T43,1);
var T45=__RUN.getStaticGlo("Str.ToLower").func({__THIS:T44});
var T46=DU.ReadReturn(T45,1);
var T47="cmp";
var T48=DU.AreEqual(T46,T47);
if(T48)
{
//  keys.$List.Add(it)
var T50=DU.Ref($keys);
var T51=DU.Ref($it);
var T52=[T51];
var T53=__RUN.getStaticGlo("List.Add").func({__THIS:T50},...T52);
var T54=DU.ReadReturn(T53,1);
}continue;
}//  keys.$List.Reverse()
var T58=$$it3;
$$it3=null;
$it=T58;
var T60=DU.Ref($keys);
var T61=__RUN.getStaticGlo("List.Reverse").func({__THIS:T60});
var T62=DU.ReadReturn(T61,1);
return [$keys];
},
"91::HasSaveGames" : function(__DIV){
var $bool;
//  => $FindAllSaves().$Obj.HasChildren()
var T0=__RUN.getStaticGlo("Storage.FindAllSaves").func(null);
var T1=DU.ReadReturn(T0,1);
var T2=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
$bool=T3;
return [$bool];
},
"104::UpdateSave" : function(__DIV, $obj){
var $cleaned;
//  cleaned : free obj
var T1=$obj;
$obj=undefined;
$cleaned=T1;
return [$cleaned];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\slides\checklist.wng
__FUNCS["checkl_11"] = {
"13::CheckList" : function(__DIV, $title, $checks, $text, $card, $showNext){
var $slide;
//  text ?: "Check each box to continue"
var T5=$text==null;
if(T5)
{
var T7="Check each box to continue";
$text=T7;
}//  showNext ?: false
var T9=$showNext==null;
if(T9)
{
var T11=false;
$showNext=T11;
}//  slide : $Create(lambda(stage => async)[free checks,title,text, card, showNext])
var T13=OObj.MakeFunc(__FUNCS["checkl_11"]["26_func6"],{});
T13.InjectCapture("$checks",$checks);
$checks=undefined;
T13.InjectCapture("$title",DU.Ref($title));
T13.InjectCapture("$text",DU.Ref($text));
T13.InjectCapture("$card",DU.Ref($card));
T13.InjectCapture("$showNext",DU.Ref($showNext));
var T19=[T13];
var T20=__RUN.getStaticGlo("Slide.Create").func(null,...T19);
var T21=DU.ReadReturn(T20,1);
$slide=T21;
return [$slide];
},
"26_func6" : async function(__DIV, $stage){
var $checks,$title,$text,$card,$showNext,$options,$$iter2,$it;
if('$checks' in __DIV.capture){$checks=__DIV.capture["$checks"];}
if('$title' in __DIV.capture){$title=__DIV.capture["$title"];}
if('$text' in __DIV.capture){$text=__DIV.capture["$text"];}
if('$card' in __DIV.capture){$card=__DIV.capture["$card"];}
if('$showNext' in __DIV.capture){$showNext=__DIV.capture["$showNext"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  @options : dim()
var T1=new OObj();
$options=T1;
//  for checks
var T3=DU.Ref($checks);
var T4=DU.MakeIter(T3);
$$iter2=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref($$iter2);
T7.Next();
}var T9=DU.Ref($$iter2);
var T10=T9.iter.done;
var T11=!T10;
if(!T11){break;}
var T13=DU.Ref($$iter2);
var T14=T13.iter.value[0];
$it=T14;
//  if !(it has condition) | $(it.condition, stage)
var T16=DU.Ref($it);
var T17=T16.inner!=null && ("condition" in T16.inner);
var T18=!T17;
if(!!T18)
{
var T25=true;
}else{
var T21="stage";
var T22=DU.Ref($it);
var T23=OObj.DotAccess(T22,"condition");
var T24=OObj._RunLambda(T23,{$stage: DU.Ref($stage)});
var T25=DU.ReadReturn(T24,1);
}if(T25)
{
//  options.$List.Add(it)
var T27=DU.Ref($options);
var T28=DU.Ref($it);
var T29=[T28];
var T30=__RUN.getStaticGlo("List.Add").func({__THIS:T27},...T29);
var T31=DU.ReadReturn(T30,1);
}continue;
}//  await $CheckList.DoChecklist(stage, title, text, options, card, showNext)
var T35=$it;
$it=undefined;
var T37=DU.Ref($stage);
var T38=DU.Ref($title);
var T39=DU.Ref($text);
var T40=DU.Ref($options);
var T41=DU.Ref($card);
var T42=DU.Ref($showNext);
var T44=[T37,T38,T39,T40,T41,T42];
var T45=await __RUN.getStaticGlo("Slide.CheckList.DoChecklist").func(null,...T44);
var T46=DU.ReadReturn(T45,1);
return [];
},
"39::MakeCheck" : function(__DIV, $text, $condition, $onCheck, $isChecked){
var $check;
//  condition ?: `true`
var T4=$condition==null;
if(T4)
{
var T6=OObj.MakeFunc(__FUNCS["checkl_11"]["52_func"],{});
$condition=T6;
}//  isChecked ?: false
var T8=$isChecked==null;
if(T8)
{
var T10=false;
$isChecked=T10;
}//  return dim
var T12=new OObj();
//  text : text
var T13=DU.Ref($text);
OObj.SetChild(T12,"text",T13);
//  condition : free? condition
var T15=$condition;
$condition=undefined;
OObj.SetChild(T12,"condition",T15);
//  onCheck : free? onCheck
var T17=$onCheck;
$onCheck=undefined;
OObj.SetChild(T12,"onCheck",T17);
//  isChecked : isChecked
var T19=DU.Ref($isChecked);
OObj.SetChild(T12,"isChecked",T19);
$check=T12;
return [$check];
},
"52_func" : function(__DIV){
var T1=true;
return [T1];},
"65::DoChecklist" : async function(__DIV, $stage, $title, $text, $options, $card, $showNext){
var $pipe,$pop,$elems,$idx,$$idx2,$opt,$id,$lbl,$chk,$$sOut3,$md,$$inThis4,$$idx5,$$idx6;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T6=DU.Ref($stage);
var T7=OObj.DotAccess(T6,"ct");
var T8=OObj.DotAccess(T7,"pipes");
var T9=__RUN.getStaticGlo("Pipe.Create").func(null);
var T10=DU.ReadReturn(T9,1);
var T11=[T10];
var T12=__RUN.getStaticGlo("List.Add").func({__THIS:T8},...T11);
var T13=DU.ReadReturn(T12,1);
$pipe=T13;
//  @pop : dim $Popup.Create(title)
var T15=DU.Ref($title);
var T16=[T15];
var T17=__RUN.getStaticGlo("Popup.Create").func(null,...T16);
var T18=DU.ReadReturn(T17,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T19=DU.Ref(T18);
var T20=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T21=DU.ReadReturn(T20,1);
//  mixin $SetHtml($MarkdownToHtml(text))
var T22=DU.Ref(T21);
var T23=DU.Ref($text);
var T24=[T23];
var T25=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T24);
var T26=DU.ReadReturn(T25,1);
var T27=[T26];
var T28=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T22},...T27);
var T29=[T21];
var T30=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T19},...T29);
//  mixin $Style.SetClassIf("withCard", card != null)
var T31=DU.Ref(T18);
var T32="withCard";
var T33=DU.Ref($card);
var T34=null;
var T35=!DU.AreEqual(T33,T34);
var T36=[T32,T35];
var T37=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T31},...T36);
$pop=T18;
//  if showNext
var T39=DU.Ref($showNext);
if(T39)
{
//  pop.$Popup.AddBotRightButton(lambda)
var T41=DU.Ref($pop);
var T42=OObj.MakeFunc(__FUNCS["checkl_11"]["78_func33"],{$pipe: DU.Ref($pipe)});
var T43=[T42];
var T44=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T41},...T43);
var T45=DU.ReadReturn(T44,1);
}//  $Slide.HookAdvance(stage, lambda)
var T48=DU.Ref($stage);
var T49=OObj.MakeFunc(__FUNCS["checkl_11"]["91_func36"],{$pipe: DU.Ref($pipe)});
var T50=[T48,T49];
var T51=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T50);
var T52=DU.ReadReturn(T51,1);
//  @elems : dim()
var T54=new OObj();
$elems=T54;
//  for @opt of options at @idx
var T56=DU.Ref($options);
var T57=OObj.getFirstKey(T56);
$idx=T57;
for(var T59=0;;T59++)
{
if(T59>0)
{
var T60=DU.Ref($options);
var T61=DU.Ref($idx);
var T62=OObj.getNextKey(T60,T61);
var T63=$idx;
$idx=null;
$$idx2=T63;
$idx=T62;
}var T66=DU.Ref($idx);
var T67=T66 != null;
if(!T67){break;}
var T69=DU.Ref($options);
var T70=DU.Ref($idx);
var T71=OObj.GetPath(T69,[T70]);
$opt=T71;
//  @id : "chkOpt" + ~idx
var T73="chkOpt";
var T74=DU.Ref($idx);
var T75=T74;
var T76=gVal(T73)+gVal(T75);
$id=T76;
//  @lbl : pop.$AppendChild($Checkbox.CreateLabelFor(id))
var T78=DU.Ref($pop);
var T79="label";
var T80=[T79];
var T81=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T80);
var T82=DU.ReadReturn(T81,1);
var T83=DU.Ref(T82);
var T84="htmlFor";
var T85=DU.Ref($id);
var T86=[T84,T85];
var T87=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T83},...T86);
var T88=[T82];
var T89=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T78},...T88);
var T90=DU.ReadReturn(T89,1);
$lbl=T90;
//  @chk : lbl.$AppendChild(dim $Checkbox.Create())
var T92=DU.Ref($lbl);
var T93="input";
var T94=[T93];
var T95=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T94);
var T96=DU.ReadReturn(T95,1);
var T97=DU.Ref(T96);
var T98="checkbox";
var T99=[T98];
var T100=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T97},...T99);
//  mixin $SetId(id)
var T101=DU.Ref(T96);
var T102=DU.Ref($id);
var T103=[T102];
var T104=__RUN.getStaticGlo("Dom.SetId").func({__THIS:T101},...T103);
//  mixin $Checkbox.HookChange(lambda)
var T105=DU.Ref(T96);
var T106=OObj.MakeFunc(__FUNCS["checkl_11"]["104_func45"],{$showNext: DU.Ref($showNext),$pipe: DU.Ref($pipe),$elems: DU.Ref($elems)});
var T107=[T106];
var T108=__RUN.getStaticGlo("Dom.Checkbox.HookChange").func({__THIS:T105},...T107);
var T109=[T96];
var T110=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T92},...T109);
var T111=DU.ReadReturn(T110,1);
$chk=T111;
//  if opt.?isChecked ? false
var T113=DU.Ref($opt);
if(OObj.HasChildKey(T113,"isChecked"))
{
var T114=T113;
var T115=OObj.DotAccess(T114,"isChecked");
}else {var T115=null;}
if(T115 != null)
{
var T118=T115;
}else{
var T118=false;
}if(T118)
{
//  chk.$Checkbox.SetIsChecked(true)
var T120=DU.Ref($chk);
var T121="checked";
var T122=true;
var T123=[T121,T122];
var T124=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T120},...T123);
var T125=DU.ReadReturn(T124,1);
}//  @md : switch
//  opt has dynamicText : $(opt.dynamicText, stage)
var T130=DU.Ref($opt);
var T131=T130.inner!=null && ("dynamicText" in T130.inner);
if(T131)
{
var T133="stage";
var T134=DU.Ref($opt);
var T135=OObj.DotAccess(T134,"dynamicText");
var T136=OObj._RunLambda(T135,{$stage: DU.Ref($stage)});
var T137=DU.ReadReturn(T136,1);
$$sOut3=T137;
}else
{
//  else : opt["text"]
var T140=DU.Ref($opt);
var T141="text";
var T142=OObj.GetPath(T140,[T141]);
$$sOut3=T142;
}var T144=DU.Ref($$sOut3);
$md=T144;
//  lbl.$AppendChild(dim $Paragraph.Create())
var T146=DU.Ref($lbl);
var T147=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T148=DU.ReadReturn(T147,1);
//  mixin $SetHtml($MarkdownToHtml(md))
var T149=DU.Ref(T148);
var T150=DU.Ref($md);
var T151=[T150];
var T152=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T151);
var T153=DU.ReadReturn(T152,1);
var T154=[T153];
var T155=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T149},...T154);
var T156=[T148];
var T157=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T146},...T156);
var T158=DU.ReadReturn(T157,1);
//  elems.$List.Add(chk)
var T160=DU.Ref($elems);
var T161=DU.Ref($chk);
var T162=[T161];
var T163=__RUN.getStaticGlo("List.Add").func({__THIS:T160},...T162);
var T164=DU.ReadReturn(T163,1);
continue;
}//  if card != null
var T167=$$idx2;
$$idx2=null;
$idx=T167;
var T169=$opt;
$opt=undefined;
var T171=$id;
$id=undefined;
var T173=$lbl;
$lbl=undefined;
var T175=$chk;
$chk=undefined;
var T177=$md;
$md=undefined;
var T180=DU.Ref($card);
var T181=null;
var T182=!DU.AreEqual(T180,T181);
if(T182)
{
//  $g.Stage.$AppendChild(dim card.$Img.MakeElem())
var T184=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T185=DU.Ref($card);
$$inThis4=T185;
var T187="img";
var T188=[T187];
var T189=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T188);
var T190=DU.ReadReturn(T189,1);
var T191=DU.Ref(T190);
var T192="src";
var T193=DU.Ref($$inThis4);
var T194=OObj.DotAccess(T193,"path");
var T195=[T192,T194];
var T196=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T191},...T195);
var T197=DU.Ref(T190);
var T198="alt";
var T199=DU.Ref($$inThis4);
var T200=OObj.DotAccess(T199,"alt");
if(T200 != null)
{
var T203=T200;
}else{
var T203="";
}var T204=[T198,T203];
var T205=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T197},...T204);
//  mixin $Style.AddClasses("card")
var T206=DU.Ref(T190);
var T207="card";
var T208=[T207];
var T209=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T206},...T208);
var T210=[T190];
var T211=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T184},...T210);
var T212=DU.ReadReturn(T211,1);
}//  await pipe.$Pipe.ReadAsync()
var T215=DU.Ref($pipe);
var T217=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T215});
var T218=DU.ReadReturn(T217,1);
//  if stage.ct.$Canceler.IsLive()
var T220=DU.Ref($stage);
var T221=OObj.DotAccess(T220,"ct");
var T222=OObj.DotAccess(T221,"live");
if(T222)
{
//  for @opt of options at @idx
var T224=DU.Ref($options);
var T225=OObj.getFirstKey(T224);
var T226=$idx;
$idx=null;
$$idx5=T226;
$idx=T225;
for(var T229=0;;T229++)
{
if(T229>0)
{
var T230=DU.Ref($options);
var T231=DU.Ref($idx);
var T232=OObj.getNextKey(T230,T231);
var T233=$idx;
$idx=null;
$$idx6=T233;
$idx=T232;
}var T236=DU.Ref($idx);
var T237=T236 != null;
if(!T237){break;}
var T239=DU.Ref($options);
var T240=DU.Ref($idx);
var T241=OObj.GetPath(T239,[T240]);
$opt=T241;
//  if opt.?onCheck != null & elems[idx].$Checkbox.IsChecked()
var T243=DU.Ref($opt);
if(OObj.HasChildKey(T243,"onCheck"))
{
var T244=T243;
var T245=OObj.DotAccess(T244,"onCheck");
}else {var T245=null;}
var T246=null;
var T247=!DU.AreEqual(T245,T246);
if(!T247)
{
var T256=false;
}else{
var T250=DU.Ref($elems);
var T251=DU.Ref($idx);
var T252=OObj.GetPath(T250,[T251]);
var T253="checked";
var T254=[T253];
var T255=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T252},...T254);
var T256=DU.ReadReturn(T255,1);
}if(T256)
{
//  $(opt.onCheck, stage)
var T258="stage";
var T259=DU.Ref($opt);
var T260=OObj.DotAccess(T259,"onCheck");
var T261=OObj._RunLambda(T260,{$stage: DU.Ref($stage)});
var T262=DU.ReadReturn(T261,1);
}continue;
}//  pop.$Style.AddClasses("fadingOut")
var T266=$$idx6;
$$idx6=null;
$idx=T266;
var T268=$opt;
$opt=undefined;
var T270=DU.Ref($pop);
var T271="fadingOut";
var T272=[T271];
var T273=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T270},...T272);
var T274=DU.ReadReturn(T273,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T276=50;
var T278=[T276];
var T279=await __RUN.getStaticGlo("Job.Pause").func(null,...T278);
var T280=DU.ReadReturn(T279,1);
}return [];
},
"78_func33" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"91_func36" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"104_func45" : function(__DIV){
var $showNext,$elems,$pipe,$it;
if('$showNext' in __DIV.capture){$showNext=__DIV.capture["$showNext"];}
if('$elems' in __DIV.capture){$elems=__DIV.capture["$elems"];}
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
//  if !showNext & !elems.$List.Any(`!it.$Checkbox.IsChecked()`)
var T1=DU.Ref($showNext);
var T2=!T1;
if(!T2)
{
var T10=false;
}else{
var T5=DU.Ref($elems);
var T6=OObj.MakeFunc(__FUNCS["checkl_11"]["117_func"],{$it: DU.Ref($it)});
var T7=[T6];
var T8=__RUN.getStaticGlo("List.Any").func({__THIS:T5},...T7);
var T9=DU.ReadReturn(T8,1);
var T10=!T9;
}if(T10)
{
//  pipe.$Pipe.Kill()
var T12=DU.Ref($pipe);
var T13=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T12});
var T14=DU.ReadReturn(T13,1);
}return [];
},
"117_func" : function(__DIV){
var $it;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
var T1=DU.Ref($it);
var T2="checked";
var T3=[T2];
var T4=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
var T6=!T5;
return [T6];},
"130::DoPlayerList" : async function(__DIV, $stage, $key, $title, $text, $checkText, $hookEnable, $disableText){
var $pipe,$pop,$elems,$$struct2,$idx,$$idx3,$player,$hero,$isEnabled,$id,$lbl,$chk,$$sOut4,$disp,$$struct5,$$idx6,$$idx7;
//  hookEnable ?: `true`
var T7=$hookEnable==null;
if(T7)
{
var T9=OObj.MakeFunc(__FUNCS["checkl_11"]["143_func"],{});
$hookEnable=T9;
}//  @pipe : stage.ct.$Canceler.MakePipe()
var T11=DU.Ref($stage);
var T12=OObj.DotAccess(T11,"ct");
var T13=OObj.DotAccess(T12,"pipes");
var T14=__RUN.getStaticGlo("Pipe.Create").func(null);
var T15=DU.ReadReturn(T14,1);
var T16=[T15];
var T17=__RUN.getStaticGlo("List.Add").func({__THIS:T13},...T16);
var T18=DU.ReadReturn(T17,1);
$pipe=T18;
//  @pop : dim $Popup.Create(title)
var T20=DU.Ref($title);
var T21=[T20];
var T22=__RUN.getStaticGlo("Popup.Create").func(null,...T21);
var T23=DU.ReadReturn(T22,1);
//  mixin $Popup.AddMarkdown(text)
var T24=DU.Ref(T23);
var T25=DU.Ref($text);
var T26=[T25];
var T27=__RUN.getStaticGlo("Popup.AddMarkdown").func({__THIS:T24},...T26);
//  mixin $Popup.AddBotRightButton(lambda)
var T28=DU.Ref(T23);
var T29=OObj.MakeFunc(__FUNCS["checkl_11"]["156_func79"],{$pipe: DU.Ref($pipe)});
var T30=[T29];
var T31=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T28},...T30);
$pop=T23;
//  $Slide.HookAdvance(stage, lambda)
var T33=DU.Ref($stage);
var T34=OObj.MakeFunc(__FUNCS["checkl_11"]["169_func82"],{$pipe: DU.Ref($pipe)});
var T35=[T33,T34];
var T36=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T35);
var T37=DU.ReadReturn(T36,1);
//  @elems : dim()
var T39=new OObj();
$elems=T39;
//  for @player of stage.state.player at @idx
var T41=DU.Ref($stage);
var T42=OObj.DotAccess(T41,"state");
var T43=OObj.DotAccess(T42,"player");
$$struct2=T43;
var T45=DU.Ref($$struct2);
var T46=OObj.getFirstKey(T45);
$idx=T46;
for(var T48=0;;T48++)
{
if(T48>0)
{
var T49=DU.Ref($$struct2);
var T50=DU.Ref($idx);
var T51=OObj.getNextKey(T49,T50);
var T52=$idx;
$idx=null;
$$idx3=T52;
$idx=T51;
}var T55=DU.Ref($idx);
var T56=T55 != null;
if(!T56){break;}
var T58=DU.Ref($$struct2);
var T59=DU.Ref($idx);
var T60=OObj.GetPath(T58,[T59]);
$player=T60;
//  @hero : $Heroes.LookupByName(stage.state.player[idx].hero)
var T62=DU.Ref($stage);
var T63=OObj.DotAccess(T62,"state");
var T64=OObj.DotAccess(T63,"player");
var T65=DU.Ref($idx);
var T66=OObj.GetPath(T64,[T65]);
var T67=OObj.DotAccess(T66,"hero");
var T68=[T67];
var T69=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T68);
var T70=DU.ReadReturn(T69,1);
$hero=T70;
//  @isEnabled : $(hookEnable, player)
var T72="player";
var T73=DU.Ref($hookEnable);
var T74=OObj._RunLambda(T73,{$player: DU.Ref($player)});
var T75=DU.ReadReturn(T74,1);
$isEnabled=T75;
//  @id : "chkOpt" + ~idx
var T77="chkOpt";
var T78=DU.Ref($idx);
var T79=T78;
var T80=gVal(T77)+gVal(T79);
$id=T80;
//  @lbl : pop.$AppendChild(dim $Checkbox.CreateLabelFor(id))
var T82=DU.Ref($pop);
var T83="label";
var T84=[T83];
var T85=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T84);
var T86=DU.ReadReturn(T85,1);
var T87=DU.Ref(T86);
var T88="htmlFor";
var T89=DU.Ref($id);
var T90=[T88,T89];
var T91=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T87},...T90);
//  mixin $AppendChild(dim $Div.Create())
var T92=DU.Ref(T86);
var T93="div";
var T94=[T93];
var T95=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T94);
var T96=DU.ReadReturn(T95,1);
//  mixin $Style.AddClasses("player")
var T97=DU.Ref(T96);
var T98="player";
var T99=[T98];
var T100=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T97},...T99);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T101=DU.Ref(T96);
var T102=DU.Ref($hero);
var T103=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T102});
var T104=DU.ReadReturn(T103,1);
var T105=[T104];
var T106=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T101},...T105);
var T107=[T96];
var T108=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T92},...T107);
//  mixin $Style.SetClassIf("disabled", !isEnabled)
var T109=DU.Ref(T86);
var T110="disabled";
var T111=DU.Ref($isEnabled);
var T112=!T111;
var T113=[T110,T112];
var T114=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T109},...T113);
var T115=[T86];
var T116=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T82},...T115);
var T117=DU.ReadReturn(T116,1);
$lbl=T117;
//  @chk : lbl.$AppendChild(dim $Checkbox.Create())
var T119=DU.Ref($lbl);
var T120="input";
var T121=[T120];
var T122=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T121);
var T123=DU.ReadReturn(T122,1);
var T124=DU.Ref(T123);
var T125="checkbox";
var T126=[T125];
var T127=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T124},...T126);
//  mixin $SetId(id)
var T128=DU.Ref(T123);
var T129=DU.Ref($id);
var T130=[T129];
var T131=__RUN.getStaticGlo("Dom.SetId").func({__THIS:T128},...T130);
var T132=[T123];
var T133=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T119},...T132);
var T134=DU.ReadReturn(T133,1);
$chk=T134;
//  if stage.ghost["player", idx, key] ? false
var T136=DU.Ref($stage);
var T137=OObj.DotAccess(T136,"ghost");
var T138="player";
var T139=DU.Ref($idx);
var T140=DU.Ref($key);
var T141=OObj.GetPath(T137,[T138,T139,T140]);
if(T141 != null)
{
var T144=T141;
}else{
var T144=false;
}if(T144)
{
//  chk.$Checkbox.SetIsChecked(true)
var T146=DU.Ref($chk);
var T147="checked";
var T148=true;
var T149=[T147,T148];
var T150=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T146},...T149);
var T151=DU.ReadReturn(T150,1);
}//  @disp : switch
//  isEnabled : checkText
var T156=DU.Ref($isEnabled);
if(T156)
{
var T158=DU.Ref($checkText);
$$sOut4=T158;
}else
{
//  else : disableText
var T161=DU.Ref($disableText);
$$sOut4=T161;
}var T163=DU.Ref($$sOut4);
$disp=T163;
//  lbl.$AppendChild(dim $Paragraph.Create())
var T165=DU.Ref($lbl);
var T166=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T167=DU.ReadReturn(T166,1);
//  mixin $SetHtml($MarkdownToHtml(disp))
var T168=DU.Ref(T167);
var T169=DU.Ref($disp);
var T170=[T169];
var T171=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T170);
var T172=DU.ReadReturn(T171,1);
var T173=[T172];
var T174=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T168},...T173);
var T175=[T167];
var T176=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T165},...T175);
var T177=DU.ReadReturn(T176,1);
//  elems[idx] : chk
var T179=DU.Ref($chk);
var T180=DU.Ref($elems);
var T181=DU.Ref($idx);
OObj.SetPath(T180,[T181],T179);
//  if !isEnabled
var T183=DU.Ref($isEnabled);
var T184=!T183;
if(T184)
{
//  chk.$SetAttribute("disabled", "disabled")
var T186=DU.Ref($chk);
var T187="disabled";
var T188="disabled";
var T189=[T187,T188];
var T190=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T186},...T189);
var T191=DU.ReadReturn(T190,1);
}continue;
}//  await pipe.$Pipe.ReadAsync()
var T195=$$idx3;
$$idx3=null;
$idx=T195;
var T197=$player;
$player=undefined;
var T199=$hero;
$hero=undefined;
var T201=$isEnabled;
$isEnabled=undefined;
var T203=$id;
$id=undefined;
var T205=$lbl;
$lbl=undefined;
var T207=$chk;
$chk=undefined;
var T209=$disp;
$disp=undefined;
var T211=DU.Ref($pipe);
var T213=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T211});
var T214=DU.ReadReturn(T213,1);
//  if stage.ct.$Canceler.IsLive()
var T216=DU.Ref($stage);
var T217=OObj.DotAccess(T216,"ct");
var T218=OObj.DotAccess(T217,"live");
if(T218)
{
//  for @idx in stage.state.player
var T220=DU.Ref($stage);
var T221=OObj.DotAccess(T220,"state");
var T222=OObj.DotAccess(T221,"player");
$$struct5=T222;
var T224=DU.Ref($$struct5);
var T225=OObj.getFirstKey(T224);
var T226=$idx;
$idx=null;
$$idx6=T226;
$idx=T225;
for(var T229=0;;T229++)
{
if(T229>0)
{
var T230=DU.Ref($$struct5);
var T231=DU.Ref($idx);
var T232=OObj.getNextKey(T230,T231);
var T233=$idx;
$idx=null;
$$idx7=T233;
$idx=T232;
}var T236=DU.Ref($idx);
var T237=T236 != null;
if(!T237){break;}
//  if elems[idx].$Checkbox.IsChecked()
var T240=DU.Ref($elems);
var T241=DU.Ref($idx);
var T242=OObj.GetPath(T240,[T241]);
var T243="checked";
var T244=[T243];
var T245=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T242},...T244);
var T246=DU.ReadReturn(T245,1);
if(T246)
{
//  stage.delta["player", idx, key] : true
var T248=true;
var T249=DU.Ref($stage);
var T250=OObj.DotAccess(T249,"delta");
var T251="player";
var T252=DU.Ref($idx);
var T253=DU.Ref($key);
OObj.SetPath(T250,[T251,T252,T253],T248);
}continue;
}//  pop.$Style.AddClasses("fadingOut")
var T257=$$idx7;
$$idx7=null;
$idx=T257;
var T259=DU.Ref($pop);
var T260="fadingOut";
var T261=[T260];
var T262=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T259},...T261);
var T263=DU.ReadReturn(T262,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T265=50;
var T267=[T265];
var T268=await __RUN.getStaticGlo("Job.Pause").func(null,...T267);
var T269=DU.ReadReturn(T268,1);
}return [];
},
"143_func" : function(__DIV){
var T1=true;
return [T1];},
"156_func79" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"169_func82" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"182::DoPlayerSpecificInstructions" : async function(__DIV, $stage, $title, $text, $hookPlayInstruct){
var $pipe,$pop,$elems,$$struct2,$idx,$$idx3,$player,$instruct,$hero,$id,$lbl,$chk;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T4=DU.Ref($stage);
var T5=OObj.DotAccess(T4,"ct");
var T6=OObj.DotAccess(T5,"pipes");
var T7=__RUN.getStaticGlo("Pipe.Create").func(null);
var T8=DU.ReadReturn(T7,1);
var T9=[T8];
var T10=__RUN.getStaticGlo("List.Add").func({__THIS:T6},...T9);
var T11=DU.ReadReturn(T10,1);
$pipe=T11;
//  @pop : dim $Popup.Create(title)
var T13=DU.Ref($title);
var T14=[T13];
var T15=__RUN.getStaticGlo("Popup.Create").func(null,...T14);
var T16=DU.ReadReturn(T15,1);
//  mixin $Popup.AddMarkdown(text)
var T17=DU.Ref(T16);
var T18=DU.Ref($text);
var T19=[T18];
var T20=__RUN.getStaticGlo("Popup.AddMarkdown").func({__THIS:T17},...T19);
$pop=T16;
//  $Slide.HookAdvance(stage, lambda)
var T22=DU.Ref($stage);
var T23=OObj.MakeFunc(__FUNCS["checkl_11"]["195_func125"],{$pipe: DU.Ref($pipe)});
var T24=[T22,T23];
var T25=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T24);
var T26=DU.ReadReturn(T25,1);
//  @elems : dim()
var T28=new OObj();
$elems=T28;
//  for @player of stage.state.player at @idx
var T30=DU.Ref($stage);
var T31=OObj.DotAccess(T30,"state");
var T32=OObj.DotAccess(T31,"player");
$$struct2=T32;
var T34=DU.Ref($$struct2);
var T35=OObj.getFirstKey(T34);
$idx=T35;
for(var T37=0;;T37++)
{
if(T37>0)
{
var T38=DU.Ref($$struct2);
var T39=DU.Ref($idx);
var T40=OObj.getNextKey(T38,T39);
var T41=$idx;
$idx=null;
$$idx3=T41;
$idx=T40;
}var T44=DU.Ref($idx);
var T45=T44 != null;
if(!T45){break;}
var T47=DU.Ref($$struct2);
var T48=DU.Ref($idx);
var T49=OObj.GetPath(T47,[T48]);
$player=T49;
//  @instruct : $(hookPlayInstruct, player) ? ""
var T51="player";
var T52=DU.Ref($hookPlayInstruct);
var T53=OObj._RunLambda(T52,{$player: DU.Ref($player)});
var T54=DU.ReadReturn(T53,1);
if(T54 != null)
{
var T57=T54;
}else{
var T57="";
}$instruct=T57;
//  if instruct = "" \ continue
var T59=DU.Ref($instruct);
var T60="";
var T61=DU.AreEqual(T59,T60);
if(T61)
{
continue;
}//  @hero : $Heroes.LookupByName(player.hero)
var T65=DU.Ref($player);
var T66=OObj.DotAccess(T65,"hero");
var T67=[T66];
var T68=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T67);
var T69=DU.ReadReturn(T68,1);
$hero=T69;
//  @id : "chkOpt" + ~idx
var T71="chkOpt";
var T72=DU.Ref($idx);
var T73=T72;
var T74=gVal(T71)+gVal(T73);
$id=T74;
//  @lbl : pop.$AppendChild(dim $Checkbox.CreateLabelFor(id))
var T76=DU.Ref($pop);
var T77="label";
var T78=[T77];
var T79=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T78);
var T80=DU.ReadReturn(T79,1);
var T81=DU.Ref(T80);
var T82="htmlFor";
var T83=DU.Ref($id);
var T84=[T82,T83];
var T85=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T81},...T84);
//  mixin $AppendChild(dim $Div.Create())
var T86=DU.Ref(T80);
var T87="div";
var T88=[T87];
var T89=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T88);
var T90=DU.ReadReturn(T89,1);
//  mixin $Style.AddClasses("player")
var T91=DU.Ref(T90);
var T92="player";
var T93=[T92];
var T94=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T91},...T93);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T95=DU.Ref(T90);
var T96=DU.Ref($hero);
var T97=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T96});
var T98=DU.ReadReturn(T97,1);
var T99=[T98];
var T100=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T95},...T99);
var T101=[T90];
var T102=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T86},...T101);
//  mixin $Checkbox.HookChange(lambda)
var T103=DU.Ref(T80);
var T104=OObj.MakeFunc(__FUNCS["checkl_11"]["208_func139"],{$pipe: DU.Ref($pipe),$elems: DU.Ref($elems)});
var T105=[T104];
var T106=__RUN.getStaticGlo("Dom.Checkbox.HookChange").func({__THIS:T103},...T105);
var T107=[T80];
var T108=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T76},...T107);
var T109=DU.ReadReturn(T108,1);
$lbl=T109;
//  @chk : lbl.$AppendChild(dim $Checkbox.Create())
var T111=DU.Ref($lbl);
var T112="input";
var T113=[T112];
var T114=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T113);
var T115=DU.ReadReturn(T114,1);
var T116=DU.Ref(T115);
var T117="checkbox";
var T118=[T117];
var T119=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T116},...T118);
//  mixin $SetId(id)
var T120=DU.Ref(T115);
var T121=DU.Ref($id);
var T122=[T121];
var T123=__RUN.getStaticGlo("Dom.SetId").func({__THIS:T120},...T122);
var T124=[T115];
var T125=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T111},...T124);
var T126=DU.ReadReturn(T125,1);
$chk=T126;
//  lbl.$AppendChild(dim $Paragraph.Create())
var T128=DU.Ref($lbl);
var T129=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T130=DU.ReadReturn(T129,1);
//  mixin $SetHtml($MarkdownToHtml(instruct))
var T131=DU.Ref(T130);
var T132=DU.Ref($instruct);
var T133=[T132];
var T134=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T133);
var T135=DU.ReadReturn(T134,1);
var T136=[T135];
var T137=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T131},...T136);
var T138=[T130];
var T139=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T128},...T138);
var T140=DU.ReadReturn(T139,1);
//  elems[idx] : chk
var T142=DU.Ref($chk);
var T143=DU.Ref($elems);
var T144=DU.Ref($idx);
OObj.SetPath(T143,[T144],T142);
continue;
}//  await pipe.$Pipe.ReadAsync()
var T147=$$idx3;
$$idx3=null;
$idx=T147;
var T149=$player;
$player=undefined;
var T151=$instruct;
$instruct=undefined;
var T153=$hero;
$hero=undefined;
var T155=$id;
$id=undefined;
var T157=$lbl;
$lbl=undefined;
var T159=$chk;
$chk=undefined;
var T161=DU.Ref($pipe);
var T163=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T161});
var T164=DU.ReadReturn(T163,1);
//  if stage.ct.$Canceler.IsLive()
var T166=DU.Ref($stage);
var T167=OObj.DotAccess(T166,"ct");
var T168=OObj.DotAccess(T167,"live");
if(T168)
{
//  pop.$Style.AddClasses("fadingOut")
var T170=DU.Ref($pop);
var T171="fadingOut";
var T172=[T171];
var T173=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T170},...T172);
var T174=DU.ReadReturn(T173,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T176=50;
var T178=[T176];
var T179=await __RUN.getStaticGlo("Job.Pause").func(null,...T178);
var T180=DU.ReadReturn(T179,1);
}return [];
},
"195_func125" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"208_func139" : function(__DIV){
var $elems,$pipe,$it;
if('$elems' in __DIV.capture){$elems=__DIV.capture["$elems"];}
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
//  if !elems.$List.Any(`!it.$Checkbox.IsChecked()`)
var T1=DU.Ref($elems);
var T2=OObj.MakeFunc(__FUNCS["checkl_11"]["221_func"],{$it: DU.Ref($it)});
var T3=[T2];
var T4=__RUN.getStaticGlo("List.Any").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
var T6=!T5;
if(T6)
{
//  pipe.$Pipe.Kill()
var T8=DU.Ref($pipe);
var T9=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T8});
var T10=DU.ReadReturn(T9,1);
}return [];
},
"221_func" : function(__DIV){
var $it;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
var T1=DU.Ref($it);
var T2="checked";
var T3=[T2];
var T4=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
var T6=!T5;
return [T6];},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\slides\fork.wng
__FUNCS["fork.w_12"] = {
"13::DoCampaignMode" : async function(__DIV, $stage){
//  await $DoFork(stage, $Campaign.ExpertMode, "Campaign Mode", "Select the Campaign Mode", dim)
var T1=DU.Ref($stage);
var T2="isExpertMode";
var T3="Campaign Mode";
var T4="Select the Campaign Mode";
var T5=new OObj();
//  $MakeOption("Standard Campaign", false)
var T6="Standard Campaign";
var T7=false;
var T8=[T6,T7];
var T9=__RUN.getStaticGlo("Slide.Fork.MakeOption").func(null,...T8);
var T10=DU.ReadReturn(T9,1);
OObj.SetChild(T5,0,T10);
//  $MakeOption("Expert Campaign", true, "For players who want a more challenging campaign experience")
var T12="Expert Campaign";
var T13=true;
var T14="For players who want a more challenging campaign experience";
var T15=[T12,T13,T14];
var T16=__RUN.getStaticGlo("Slide.Fork.MakeOption").func(null,...T15);
var T17=DU.ReadReturn(T16,1);
OObj.SetChild(T5,1,T17);
var T20=[T1,T2,T3,T4,T5];
var T21=await __RUN.getStaticGlo("Slide.Fork.DoFork").func(null,...T20);
var T22=DU.ReadReturn(T21,1);
return [];
},
"26::MakeOption" : function(__DIV, $text, $value, $subtext, $condition){
var $opt;
//  => dim
var T4=new OObj();
//  text : text
var T5=DU.Ref($text);
OObj.SetChild(T4,"text",T5);
//  value : value
var T7=DU.Ref($value);
OObj.SetChild(T4,"value",T7);
//  subtext : subtext ? ""
var T9=DU.Ref($subtext);
if(T9 != null)
{
var T12=T9;
}else{
var T12="";
}OObj.SetChild(T4,"subtext",T12);
//  condition : free? condition
var T14=$condition;
$condition=undefined;
OObj.SetChild(T4,"condition",T14);
$opt=T4;
return [$opt];
},
"39::DoFork" : async function(__DIV, $stage, $key, $title, $text, $options){
var $pipe,$pop,$ghost,$$iter2,$opt,$pick;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T5=DU.Ref($stage);
var T6=OObj.DotAccess(T5,"ct");
var T7=OObj.DotAccess(T6,"pipes");
var T8=__RUN.getStaticGlo("Pipe.Create").func(null);
var T9=DU.ReadReturn(T8,1);
var T10=[T9];
var T11=__RUN.getStaticGlo("List.Add").func({__THIS:T7},...T10);
var T12=DU.ReadReturn(T11,1);
$pipe=T12;
//  @pop : dim $Popup.Create(title)
var T14=DU.Ref($title);
var T15=[T14];
var T16=__RUN.getStaticGlo("Popup.Create").func(null,...T15);
var T17=DU.ReadReturn(T16,1);
//  mixin $Popup.AddMarkdown(text)
var T18=DU.Ref(T17);
var T19=DU.Ref($text);
var T20=[T19];
var T21=__RUN.getStaticGlo("Popup.AddMarkdown").func({__THIS:T18},...T20);
$pop=T17;
//  @ghost : null
var T23=null;
$ghost=T23;
//  for @opt : options
var T25=DU.Ref($options);
var T26=DU.MakeIter(T25);
$$iter2=T26;
for(var T28=0;;T28++)
{
if(T28>0)
{
var T29=DU.Ref($$iter2);
T29.Next();
}var T31=DU.Ref($$iter2);
var T32=T31.iter.done;
var T33=!T32;
if(!T33){break;}
var T35=DU.Ref($$iter2);
var T36=T35.iter.value[0];
$opt=T36;
//  if opt.condition = null | $(opt.condition, stage)
var T38=DU.Ref($opt);
var T39=OObj.DotAccess(T38,"condition");
var T40=null;
var T41=DU.AreEqual(T39,T40);
if(!!T41)
{
var T48=true;
}else{
var T44="stage";
var T45=DU.Ref($opt);
var T46=OObj.DotAccess(T45,"condition");
var T47=OObj._RunLambda(T46,{$stage: DU.Ref($stage)});
var T48=DU.ReadReturn(T47,1);
}if(T48)
{
//  pop.$AppendChild(dim $Button.Create())
var T50=DU.Ref($pop);
var T51="button";
var T52=[T51];
var T53=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T52);
var T54=DU.ReadReturn(T53,1);
//  mixin $Style.AddClasses("pickList")
var T55=DU.Ref(T54);
var T56="pickList";
var T57=[T56];
var T58=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T55},...T57);
//  mixin $AppendChild(dim $Paragraph.Create(opt.text))
var T59=DU.Ref(T54);
var T60=DU.Ref($opt);
var T61=OObj.DotAccess(T60,"text");
var T62=[T61];
var T63=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T62);
var T64=DU.ReadReturn(T63,1);
//  mixin $Style.AddClasses("mainText")
var T65=DU.Ref(T64);
var T66="mainText";
var T67=[T66];
var T68=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T65},...T67);
var T69=[T64];
var T70=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T59},...T69);
//  mixin $AppendChild(dim $Paragraph.Create(opt.subtext))
var T71=DU.Ref(T54);
var T72=DU.Ref($opt);
var T73=OObj.DotAccess(T72,"subtext");
var T74=[T73];
var T75=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T74);
var T76=DU.ReadReturn(T75,1);
//  mixin $Style.AddClasses("subText")
var T77=DU.Ref(T76);
var T78="subText";
var T79=[T78];
var T80=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T77},...T79);
var T81=[T76];
var T82=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T71},...T81);
//  mixin $Button.HookClick(lambda)
var T83=DU.Ref(T54);
var T84=OObj.MakeFunc(__FUNCS["fork.w_12"]["52_func34"],{$pipe: DU.Ref($pipe),$opt: DU.Ref($opt)});
var T85=[T84];
var T86=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T83},...T85);
var T87=[T54];
var T88=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T50},...T87);
var T89=DU.ReadReturn(T88,1);
//  if stage.ghost != null & opt.value = stage.ghost[key]
var T91=DU.Ref($stage);
var T92=OObj.DotAccess(T91,"ghost");
var T93=null;
var T94=!DU.AreEqual(T92,T93);
if(!T94)
{
var T103=false;
}else{
var T97=DU.Ref($opt);
var T98=OObj.DotAccess(T97,"value");
var T99=DU.Ref($stage);
var T100=OObj.DotAccess(T99,"ghost");
var T101=DU.Ref($key);
var T102=OObj.GetPath(T100,[T101]);
var T103=DU.AreEqual(T98,T102);
}if(T103)
{
//  ghost : opt
var T105=DU.Ref($opt);
$ghost=T105;
}}continue;
}//  if ghost != null
var T110=$opt;
$opt=undefined;
var T113=DU.Ref($ghost);
var T114=null;
var T115=!DU.AreEqual(T113,T114);
if(T115)
{
//  $Slide.HookAdvance(stage, lambda)
var T117=DU.Ref($stage);
var T118=OObj.MakeFunc(__FUNCS["fork.w_12"]["65_func41"],{$pipe: DU.Ref($pipe),$ghost: DU.Ref($ghost)});
var T119=[T117,T118];
var T120=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T119);
var T121=DU.ReadReturn(T120,1);
}//  @pick : await pipe.$Pipe.ReadAsync()
var T124=DU.Ref($pipe);
var T126=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T124});
var T127=DU.ReadReturn(T126,1);
$pick=T127;
//  if pick != null
var T129=DU.Ref($pick);
var T130=null;
var T131=!DU.AreEqual(T129,T130);
if(T131)
{
//  stage.delta[key] : pick
var T133=DU.Ref($pick);
var T134=DU.Ref($stage);
var T135=OObj.DotAccess(T134,"delta");
var T136=DU.Ref($key);
OObj.SetPath(T135,[T136],T133);
}return [];
},
"52_func34" : function(__DIV){
var $pipe,$opt,$error;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$opt' in __DIV.capture){$opt=__DIV.capture["$opt"];}
//  trap pipe.$Pipe.Write(opt.value)
try
{
var T2=DU.Ref($pipe);
var T3=DU.Ref($opt);
var T4=OObj.DotAccess(T3,"value");
var T5=[T4];
var T6=__RUN.getStaticGlo("Pipe.Write").func({__THIS:T2},...T5);
var T7=DU.ReadReturn(T6,1);
}catch($error)
{
}return [];
},
"65_func41" : function(__DIV){
var $pipe,$ghost,$error;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$ghost' in __DIV.capture){$ghost=__DIV.capture["$ghost"];}
//  trap pipe.$Pipe.Write(ghost.value)
try
{
var T2=DU.Ref($pipe);
var T3=DU.Ref($ghost);
var T4=OObj.DotAccess(T3,"value");
var T5=[T4];
var T6=__RUN.getStaticGlo("Pipe.Write").func({__THIS:T2},...T5);
var T7=DU.ReadReturn(T6,1);
}catch($error)
{
}return [];
},
"78::DoConfirmDefeat" : async function(__DIV, $stage){
var $pipe,$pop,$options,$$iter2,$opt,$pick;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : dim $Popup.Create("DEFEAT")
var T10="DEFEAT";
var T11=[T10];
var T12=__RUN.getStaticGlo("Popup.Create").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $Popup.AddMarkdown("A loss on this scenario means a loss for the whole campaign. Are you sure?")
var T14=DU.Ref(T13);
var T15="A loss on this scenario means a loss for the whole campaign. Are you sure?";
var T16=[T15];
var T17=__RUN.getStaticGlo("Popup.AddMarkdown").func({__THIS:T14},...T16);
$pop=T13;
//  @options : dim
var T19=new OObj();
//  $MakeOption("The heroes were defeated", true, "You will not be able to continue")
var T20="The heroes were defeated";
var T21=true;
var T22="You will not be able to continue";
var T23=[T20,T21,T22];
var T24=__RUN.getStaticGlo("Slide.Fork.MakeOption").func(null,...T23);
var T25=DU.ReadReturn(T24,1);
OObj.SetChild(T19,0,T25);
//  $MakeOption("Nevermind", false, "Take me back")
var T27="Nevermind";
var T28=false;
var T29="Take me back";
var T30=[T27,T28,T29];
var T31=__RUN.getStaticGlo("Slide.Fork.MakeOption").func(null,...T30);
var T32=DU.ReadReturn(T31,1);
OObj.SetChild(T19,1,T32);
$options=T19;
//  for @opt : options
var T35=DU.Ref($options);
var T36=DU.MakeIter(T35);
$$iter2=T36;
for(var T38=0;;T38++)
{
if(T38>0)
{
var T39=DU.Ref($$iter2);
T39.Next();
}var T41=DU.Ref($$iter2);
var T42=T41.iter.done;
var T43=!T42;
if(!T43){break;}
var T45=DU.Ref($$iter2);
var T46=T45.iter.value[0];
$opt=T46;
//  pop.$AppendChild(dim $Button.Create())
var T48=DU.Ref($pop);
var T49="button";
var T50=[T49];
var T51=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T50);
var T52=DU.ReadReturn(T51,1);
//  mixin $Style.AddClasses("pickList")
var T53=DU.Ref(T52);
var T54="pickList";
var T55=[T54];
var T56=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T53},...T55);
//  mixin $AppendChild(dim $Paragraph.Create(opt.text))
var T57=DU.Ref(T52);
var T58=DU.Ref($opt);
var T59=OObj.DotAccess(T58,"text");
var T60=[T59];
var T61=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T60);
var T62=DU.ReadReturn(T61,1);
//  mixin $Style.AddClasses("mainText")
var T63=DU.Ref(T62);
var T64="mainText";
var T65=[T64];
var T66=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T63},...T65);
var T67=[T62];
var T68=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T57},...T67);
//  mixin $AppendChild(dim $Paragraph.Create(opt.subtext))
var T69=DU.Ref(T52);
var T70=DU.Ref($opt);
var T71=OObj.DotAccess(T70,"subtext");
var T72=[T71];
var T73=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T72);
var T74=DU.ReadReturn(T73,1);
//  mixin $Style.AddClasses("subText")
var T75=DU.Ref(T74);
var T76="subText";
var T77=[T76];
var T78=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T75},...T77);
var T79=[T74];
var T80=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T69},...T79);
//  mixin $Button.HookClick(lambda)
var T81=DU.Ref(T52);
var T82=OObj.MakeFunc(__FUNCS["fork.w_12"]["91_func66"],{$pipe: DU.Ref($pipe),$opt: DU.Ref($opt)});
var T83=[T82];
var T84=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T81},...T83);
var T85=[T52];
var T86=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T48},...T85);
var T87=DU.ReadReturn(T86,1);
continue;
}//  @pick : await pipe.$Pipe.ReadAsync()
var T90=$opt;
$opt=undefined;
var T92=DU.Ref($pipe);
var T94=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T92});
var T95=DU.ReadReturn(T94,1);
$pick=T95;
//  if pick != null
var T97=DU.Ref($pick);
var T98=null;
var T99=!DU.AreEqual(T97,T98);
if(T99)
{
//  if pick
var T102=DU.Ref($pick);
if(T102)
{
//  stage.delta[$Campaign.Complete] : true
var T104=true;
var T105=DU.Ref($stage);
var T106=OObj.DotAccess(T105,"delta");
var T107="complete";
OObj.SetPath(T106,[T107],T104);
}else
{
//  else
//  stage.overrideDir : $eNext.Backwards
var T111=DU.Ref(__RUN.getStaticGlo("eNext.Backwards"));
var T112=DU.Ref($stage);
OObj.SetChild(T112,"overrideDir",T111);
}}return [];
},
"91_func66" : function(__DIV){
var $pipe,$opt,$error;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$opt' in __DIV.capture){$opt=__DIV.capture["$opt"];}
//  trap pipe.$Pipe.Write(opt.value)
try
{
var T2=DU.Ref($pipe);
var T3=DU.Ref($opt);
var T4=OObj.DotAccess(T3,"value");
var T5=[T4];
var T6=__RUN.getStaticGlo("Pipe.Write").func({__THIS:T2},...T5);
var T7=DU.ReadReturn(T6,1);
}catch($error)
{
}return [];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\slides\hitpoints.wng
__FUNCS["hitpoi_13"] = {
"13::RecordHP" : function(__DIV){
var $slide;
//  slide : $Create(lambda(stage => async))
var T0=OObj.MakeFunc(__FUNCS["hitpoi_13"]["26_func5"],{});
var T1=[T0];
var T2=__RUN.getStaticGlo("Slide.Create").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
$slide=T3;
return [$slide];
},
"26_func5" : async function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $HP.DoRecordHP(stage)
var T1=DU.Ref($stage);
var T3=[T1];
var T4=await __RUN.getStaticGlo("Slide.HP.DoRecordHP").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"39::SetInitialHP" : function(__DIV){
var $slide;
//  slide : $Create(lambda(stage => async))
var T0=OObj.MakeFunc(__FUNCS["hitpoi_13"]["52_func9"],{});
var T1=[T0];
var T2=__RUN.getStaticGlo("Slide.Create").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
$slide=T3;
return [$slide];
},
"52_func9" : async function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $HP.DoSetInitialHP(stage)
var T1=DU.Ref($stage);
var T3=[T1];
var T4=await __RUN.getStaticGlo("Slide.HP.DoSetInitialHP").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"65::DoRecordHP" : async function(__DIV, $stage){
var $pipe,$$parTmp2,$$$sOut23,$pop,$container,$fields,$$struct4,$idx,$$idx5,$hero,$lastHp,$cell,$tryAdvance,$$idx6,$$idx7,$elem;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : dim $Popup.Create("Persistent Damage")
var T10="Persistent Damage";
var T11=[T10];
var T12=__RUN.getStaticGlo("Popup.Create").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T14=DU.Ref(T13);
var T15=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T16=DU.ReadReturn(T15,1);
//  mixin $SetHtml($MarkdownToHtml($GTW(textdata)))
var T17=DU.Ref(T16);
var T18=new OObj();
var T19="Record each players final hit points (up to their printed hit points):";
OObj.SetChild(T18,0,T19);
var T21="";
OObj.SetChild(T18,1,T21);
$$parTmp2=T18;
var T26=DU.Ref($$parTmp2);
var T27=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T26});
var T28=DU.ReadReturn(T27,1);
if(T28)
{
var T30=DU.Ref($$parTmp2);
var T31=" ";
var T32=[T31];
var T33=__RUN.getStaticGlo("List.Join").func({__THIS:T30},...T32);
var T34=DU.ReadReturn(T33,1);
$$$sOut23=T34;
}else
{
var T37=DU.Ref($$parTmp2);
$$$sOut23=T37;
}var T39=DU.Ref($$$sOut23);
var T40=[T39];
var T41=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T40);
var T42=DU.ReadReturn(T41,1);
var T43=[T42];
var T44=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T17},...T43);
var T45=[T16];
var T46=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T14},...T45);
$pop=T13;
//  @container : pop.$AppendChild(dim $Div.Create())
var T48=DU.Ref($pop);
var T49="div";
var T50=[T49];
var T51=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T50);
var T52=DU.ReadReturn(T51,1);
//  mixin $Style.AddClasses("hpRecord")
var T53=DU.Ref(T52);
var T54="hpRecord";
var T55=[T54];
var T56=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T53},...T55);
var T57=[T52];
var T58=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T48},...T57);
var T59=DU.ReadReturn(T58,1);
$container=T59;
//  @fields : dim()
var T61=new OObj();
$fields=T61;
//  for @idx in stage.state.player
var T63=DU.Ref($stage);
var T64=OObj.DotAccess(T63,"state");
var T65=OObj.DotAccess(T64,"player");
$$struct4=T65;
var T67=DU.Ref($$struct4);
var T68=OObj.getFirstKey(T67);
$idx=T68;
for(var T70=0;;T70++)
{
if(T70>0)
{
var T71=DU.Ref($$struct4);
var T72=DU.Ref($idx);
var T73=OObj.getNextKey(T71,T72);
var T74=$idx;
$idx=null;
$$idx5=T74;
$idx=T73;
}var T77=DU.Ref($idx);
var T78=T77 != null;
if(!T78){break;}
//  @hero : $Heroes.LookupByName(stage.state.player[idx].hero)
var T80=DU.Ref($stage);
var T81=OObj.DotAccess(T80,"state");
var T82=OObj.DotAccess(T81,"player");
var T83=DU.Ref($idx);
var T84=OObj.GetPath(T82,[T83]);
var T85=OObj.DotAccess(T84,"hero");
var T86=[T85];
var T87=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T86);
var T88=DU.ReadReturn(T87,1);
$hero=T88;
//  @lastHp : stage.ghost["player",idx,"hp"] ? hero.$Heroes.GetHp()
var T90=DU.Ref($stage);
var T91=OObj.DotAccess(T90,"ghost");
var T92="player";
var T93=DU.Ref($idx);
var T94="hp";
var T95=OObj.GetPath(T91,[T92,T93,T94]);
if(T95 != null)
{
var T99=T95;
}else{
var T98=DU.Ref($hero);
var T99=OObj.DotAccess(T98,"hp");
}$lastHp=T99;
//  @cell : container.$AppendChild(dim $Div.Create())
var T101=DU.Ref($container);
var T102="div";
var T103=[T102];
var T104=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T103);
var T105=DU.ReadReturn(T104,1);
//  mixin $Style.AddClasses("heroHp")
var T106=DU.Ref(T105);
var T107="heroHp";
var T108=[T107];
var T109=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T106},...T108);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T110=DU.Ref(T105);
var T111=DU.Ref($hero);
var T112=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T111});
var T113=DU.ReadReturn(T112,1);
var T114=[T113];
var T115=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T110},...T114);
var T116=[T105];
var T117=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T101},...T116);
var T118=DU.ReadReturn(T117,1);
$cell=T118;
//  fields[idx] : cell.$AppendChild(dim $NumberEntry.Create())
var T120=DU.Ref($cell);
var T121="input";
var T122=[T121];
var T123=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T122);
var T124=DU.ReadReturn(T123,1);
var T125=DU.Ref(T124);
var T126="number";
var T127=[T126];
var T128=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T125},...T127);
//  mixin $NumberEntry.SetText(lastHp)
var T129=DU.Ref(T124);
var T130=DU.Ref($lastHp);
var T131=[T130];
var T132=__RUN.getStaticGlo("Dom.NumberEntry.SetText").func({__THIS:T129},...T131);
var T133=[T124];
var T134=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T120},...T133);
var T135=DU.ReadReturn(T134,1);
var T136=DU.Ref($fields);
var T137=DU.Ref($idx);
OObj.SetPath(T136,[T137],T135);
continue;
}//  @tryAdvance : lambda
var T140=$$idx5;
$$idx5=null;
$idx=T140;
var T142=$hero;
$hero=undefined;
var T144=$lastHp;
$lastHp=undefined;
var T146=$cell;
$cell=undefined;
var T148=OObj.MakeFunc(__FUNCS["hitpoi_13"]["78_func37"],{$pipe: DU.Ref($pipe),$fields: DU.Ref($fields)});
$tryAdvance=T148;
//  pop.$Popup.AddBotRightButton(tryAdvance)
var T150=DU.Ref($pop);
var T151=DU.Ref($tryAdvance);
var T152=[T151];
var T153=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T150},...T152);
var T154=DU.ReadReturn(T153,1);
//  $Slide.HookAdvance(stage, tryAdvance)
var T156=DU.Ref($stage);
var T157=DU.Ref($tryAdvance);
var T158=[T156,T157];
var T159=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T158);
var T160=DU.ReadReturn(T159,1);
//  await pipe.$Pipe.ReadAsync()
var T162=DU.Ref($pipe);
var T164=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T162});
var T165=DU.ReadReturn(T164,1);
//  if stage.ct.$Canceler.IsLive()
var T167=DU.Ref($stage);
var T168=OObj.DotAccess(T167,"ct");
var T169=OObj.DotAccess(T168,"live");
if(T169)
{
//  for @elem of fields at @idx
var T171=DU.Ref($fields);
var T172=OObj.getFirstKey(T171);
var T173=$idx;
$idx=null;
$$idx6=T173;
$idx=T172;
for(var T176=0;;T176++)
{
if(T176>0)
{
var T177=DU.Ref($fields);
var T178=DU.Ref($idx);
var T179=OObj.getNextKey(T177,T178);
var T180=$idx;
$idx=null;
$$idx7=T180;
$idx=T179;
}var T183=DU.Ref($idx);
var T184=T183 != null;
if(!T184){break;}
var T186=DU.Ref($fields);
var T187=DU.Ref($idx);
var T188=OObj.GetPath(T186,[T187]);
$elem=T188;
//  stage.delta["player",idx,"hp"] : $Math.Floor(elem.$NumberEntry.GetText())
var T190=DU.Ref($elem);
var T191="value";
var T192=[T191];
var T193=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T190},...T192);
var T194=DU.ReadReturn(T193,1);
var T195=[T194];
var T196=__RUN.getStaticGlo("Math.Floor").func(null,...T195);
var T197=DU.ReadReturn(T196,1);
var T198=DU.Ref($stage);
var T199=OObj.DotAccess(T198,"delta");
var T200="player";
var T201=DU.Ref($idx);
var T202="hp";
OObj.SetPath(T199,[T200,T201,T202],T197);
continue;
}//  pop.$Style.AddClasses("fadingOut")
var T205=$$idx7;
$$idx7=null;
$idx=T205;
var T207=$elem;
$elem=undefined;
var T209=DU.Ref($pop);
var T210="fadingOut";
var T211=[T210];
var T212=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T209},...T211);
var T213=DU.ReadReturn(T212,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T215=50;
var T217=[T215];
var T218=await __RUN.getStaticGlo("Job.Pause").func(null,...T217);
var T219=DU.ReadReturn(T218,1);
}return [];
},
"78_func37" : function(__DIV){
var $fields,$pipe,$it;
if('$fields' in __DIV.capture){$fields=__DIV.capture["$fields"];}
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
//  if !fields.$List.Any(`it.$NumberEntry.GetText() = ""`)
var T1=DU.Ref($fields);
var T2=OObj.MakeFunc(__FUNCS["hitpoi_13"]["91_func"],{$it: DU.Ref($it)});
var T3=[T2];
var T4=__RUN.getStaticGlo("List.Any").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
var T6=!T5;
if(T6)
{
//  pipe.$Pipe.Kill()
var T8=DU.Ref($pipe);
var T9=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T8});
var T10=DU.ReadReturn(T9,1);
}return [];
},
"91_func" : function(__DIV){
var $it;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
var T1=DU.Ref($it);
var T2="value";
var T3=[T2];
var T4=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
var T6="";
var T7=DU.AreEqual(T5,T6);
return [T7];},
"104::DoSetInitialHP" : async function(__DIV, $stage){
var $pipe,$$parTmp2,$$$sOut23,$pop,$container,$$struct4,$idx,$$idx5,$hero,$lastHp,$cell;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : dim $Popup.Create("Persistent Damage")
var T10="Persistent Damage";
var T11=[T10];
var T12=__RUN.getStaticGlo("Popup.Create").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T14=DU.Ref(T13);
var T15=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T16=DU.ReadReturn(T15,1);
//  mixin $SetHtml($GTW(textdata))
var T17=DU.Ref(T16);
var T18=new OObj();
var T19="Set each player's starting hit points for the scenario to the following";
OObj.SetChild(T18,0,T19);
var T21="";
OObj.SetChild(T18,1,T21);
$$parTmp2=T18;
var T26=DU.Ref($$parTmp2);
var T27=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T26});
var T28=DU.ReadReturn(T27,1);
if(T28)
{
var T30=DU.Ref($$parTmp2);
var T31=" ";
var T32=[T31];
var T33=__RUN.getStaticGlo("List.Join").func({__THIS:T30},...T32);
var T34=DU.ReadReturn(T33,1);
$$$sOut23=T34;
}else
{
var T37=DU.Ref($$parTmp2);
$$$sOut23=T37;
}var T39=DU.Ref($$$sOut23);
var T40=[T39];
var T41=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T17},...T40);
var T42=[T16];
var T43=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T14},...T42);
$pop=T13;
//  @container : pop.$AppendChild(dim $Div.Create())
var T45=DU.Ref($pop);
var T46="div";
var T47=[T46];
var T48=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T47);
var T49=DU.ReadReturn(T48,1);
//  mixin $Style.AddClasses("hpRecord")
var T50=DU.Ref(T49);
var T51="hpRecord";
var T52=[T51];
var T53=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T50},...T52);
var T54=[T49];
var T55=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T45},...T54);
var T56=DU.ReadReturn(T55,1);
$container=T56;
//  for @idx in stage.state.player
var T58=DU.Ref($stage);
var T59=OObj.DotAccess(T58,"state");
var T60=OObj.DotAccess(T59,"player");
$$struct4=T60;
var T62=DU.Ref($$struct4);
var T63=OObj.getFirstKey(T62);
$idx=T63;
for(var T65=0;;T65++)
{
if(T65>0)
{
var T66=DU.Ref($$struct4);
var T67=DU.Ref($idx);
var T68=OObj.getNextKey(T66,T67);
var T69=$idx;
$idx=null;
$$idx5=T69;
$idx=T68;
}var T72=DU.Ref($idx);
var T73=T72 != null;
if(!T73){break;}
//  @hero : $Heroes.LookupByName(stage.state.player[idx].hero)
var T75=DU.Ref($stage);
var T76=OObj.DotAccess(T75,"state");
var T77=OObj.DotAccess(T76,"player");
var T78=DU.Ref($idx);
var T79=OObj.GetPath(T77,[T78]);
var T80=OObj.DotAccess(T79,"hero");
var T81=[T80];
var T82=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T81);
var T83=DU.ReadReturn(T82,1);
$hero=T83;
//  @lastHp : stage.state["player",idx,"hp"]
var T85=DU.Ref($stage);
var T86=OObj.DotAccess(T85,"state");
var T87="player";
var T88=DU.Ref($idx);
var T89="hp";
var T90=OObj.GetPath(T86,[T87,T88,T89]);
$lastHp=T90;
//  @cell : container.$AppendChild(dim $Div.Create())
var T92=DU.Ref($container);
var T93="div";
var T94=[T93];
var T95=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T94);
var T96=DU.ReadReturn(T95,1);
//  mixin $Style.AddClasses("heroHp")
var T97=DU.Ref(T96);
var T98="heroHp";
var T99=[T98];
var T100=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T97},...T99);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBadge())
var T101=DU.Ref(T96);
var T102=DU.Ref($hero);
var T103=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T102});
var T104=DU.ReadReturn(T103,1);
var T105=[T104];
var T106=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T101},...T105);
//  mixin $AppendChild(dim $Paragraph.Create("" + ~lastHp))
var T107=DU.Ref(T96);
var T108="";
var T109=DU.Ref($lastHp);
var T110=T109;
var T111=gVal(T108)+gVal(T110);
var T112=[T111];
var T113=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T112);
var T114=DU.ReadReturn(T113,1);
//  mixin $Style.AddClasses("hp")
var T115=DU.Ref(T114);
var T116="hp";
var T117=[T116];
var T118=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T115},...T117);
var T119=[T114];
var T120=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T107},...T119);
var T121=[T96];
var T122=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T92},...T121);
var T123=DU.ReadReturn(T122,1);
$cell=T123;
continue;
}//  pop.$Popup.AddBotRightButton(`pipe.$Pipe.Kill()`)
var T126=$$idx5;
$$idx5=null;
$idx=T126;
var T128=$hero;
$hero=undefined;
var T130=$lastHp;
$lastHp=undefined;
var T132=$cell;
$cell=undefined;
var T134=DU.Ref($pop);
var T135=OObj.MakeFunc(__FUNCS["hitpoi_13"]["117_func"],{$pipe: DU.Ref($pipe)});
var T136=[T135];
var T137=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T134},...T136);
var T138=DU.ReadReturn(T137,1);
//  $Slide.HookAdvance(stage, `pipe.$Pipe.Kill()`)
var T140=DU.Ref($stage);
var T141=OObj.MakeFunc(__FUNCS["hitpoi_13"]["130_func"],{$pipe: DU.Ref($pipe)});
var T142=[T140,T141];
var T143=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T142);
var T144=DU.ReadReturn(T143,1);
//  await pipe.$Pipe.ReadAsync()
var T146=DU.Ref($pipe);
var T148=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T146});
var T149=DU.ReadReturn(T148,1);
//  if stage.ct.$Canceler.IsLive()
var T151=DU.Ref($stage);
var T152=OObj.DotAccess(T151,"ct");
var T153=OObj.DotAccess(T152,"live");
if(T153)
{
//  pop.$Style.AddClasses("fadingOut")
var T155=DU.Ref($pop);
var T156="fadingOut";
var T157=[T156];
var T158=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T155},...T157);
var T159=DU.ReadReturn(T158,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T161=50;
var T163=[T161];
var T164=await __RUN.getStaticGlo("Job.Pause").func(null,...T163);
var T165=DU.ReadReturn(T164,1);
}return [];
},
"117_func" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [T3];},
"130_func" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [T3];},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\slides\slides.wng
__FUNCS["slides_14"] = {
"13::Create" : function(__DIV, $func){
var $slide;
//  => dim
var T1=new OObj();
//  func : free func
var T2=$func;
$func=undefined;
OObj.SetChild(T1,"func",T2);
$slide=T1;
return [$slide];
},
"26::CampaignMode" : function(__DIV){
var $slide;
//  slide : $Create(lambda(stage => async))
var T0=OObj.MakeFunc(__FUNCS["slides_14"]["39_func7"],{});
var T1=[T0];
var T2=__RUN.getStaticGlo("Slide.Create").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
$slide=T3;
return [$slide];
},
"39_func7" : async function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoCampaignMode(stage)
var T1=DU.Ref($stage);
var T3=[T1];
var T4=await __RUN.getStaticGlo("Slide.DoCampaignMode").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"52::NumPlayers" : function(__DIV){
var $slide;
//  slide : $Create(lambda(stage => async))
var T0=OObj.MakeFunc(__FUNCS["slides_14"]["65_func10"],{});
var T1=[T0];
var T2=__RUN.getStaticGlo("Slide.Create").func(null,...T1);
var T3=DU.ReadReturn(T2,1);
$slide=T3;
return [$slide];
},
"65_func10" : async function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoNumPlayers(stage)
var T1=DU.Ref($stage);
var T3=[T1];
var T4=await __RUN.getStaticFile("slides_14","DoNumPlayers").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"78::HeroPicker" : function(__DIV, $pIdx){
var $slide;
//  slide : $Create(lambda(stage => async))
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["91_func13"],{$pIdx: DU.Ref($pIdx)});
var T2=[T1];
var T3=__RUN.getStaticGlo("Slide.Create").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$slide=T4;
return [$slide];
},
"91_func13" : async function(__DIV, $stage){
var $pIdx;
if('$pIdx' in __DIV.capture){$pIdx=__DIV.capture["$pIdx"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoHeroPicker(stage, pIdx)
var T1=DU.Ref($stage);
var T2=DU.Ref($pIdx);
var T4=[T1,T2];
var T5=await __RUN.getStaticFile("slides_14","DoHeroPicker").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"104::Checkpoint" : function(__DIV, $key, $progress){
var $slide;
//  slide : dim
var T2=new OObj();
//  checkpoint : key
var T3=DU.Ref($key);
OObj.SetChild(T2,"checkpoint",T3);
//  delta : dim
var T5=new OObj();
//  progress : progress
var T6=DU.Ref($progress);
OObj.SetChild(T5,"progress",T6);
OObj.SetChild(T2,"delta",T5);
$slide=T2;
return [$slide];
},
"117::Scenario" : function(__DIV, $card, $num, $title, $backSty, $lineSty, $foreSty){
var $slide;
//  slide : $Create(lambda(stage => async))
var T6=OObj.MakeFunc(__FUNCS["slides_14"]["130_func23"],{$card: DU.Ref($card),$num: DU.Ref($num),$title: DU.Ref($title),$backSty: DU.Ref($backSty),$lineSty: DU.Ref($lineSty),$foreSty: DU.Ref($foreSty)});
var T7=[T6];
var T8=__RUN.getStaticGlo("Slide.Create").func(null,...T7);
var T9=DU.ReadReturn(T8,1);
$slide=T9;
return [$slide];
},
"130_func23" : async function(__DIV, $stage){
var $card,$num,$title,$backSty,$lineSty,$foreSty;
if('$card' in __DIV.capture){$card=__DIV.capture["$card"];}
if('$num' in __DIV.capture){$num=__DIV.capture["$num"];}
if('$title' in __DIV.capture){$title=__DIV.capture["$title"];}
if('$backSty' in __DIV.capture){$backSty=__DIV.capture["$backSty"];}
if('$lineSty' in __DIV.capture){$lineSty=__DIV.capture["$lineSty"];}
if('$foreSty' in __DIV.capture){$foreSty=__DIV.capture["$foreSty"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoScenarioStart(stage, card, num, stage.campaign, title, backSty, lineSty, foreSty)
var T1=DU.Ref($stage);
var T2=DU.Ref($card);
var T3=DU.Ref($num);
var T4=DU.Ref($stage);
var T5=OObj.DotAccess(T4,"campaign");
var T6=DU.Ref($title);
var T7=DU.Ref($backSty);
var T8=DU.Ref($lineSty);
var T9=DU.Ref($foreSty);
var T11=[T1,T2,T3,T5,T6,T7,T8,T9];
var T12=await __RUN.getStaticFile("slides_14","DoScenarioStart").func(null,...T11);
var T13=DU.ReadReturn(T12,1);
return [];
},
"143::PlayGame" : function(__DIV, $onDefeat){
var $slide;
//  slide : $Create(lambda(stage => async))
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["156_func27"],{$onDefeat: DU.Ref($onDefeat)});
var T2=[T1];
var T3=__RUN.getStaticGlo("Slide.Create").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$slide=T4;
return [$slide];
},
"156_func27" : async function(__DIV, $stage){
var $onDefeat;
if('$onDefeat' in __DIV.capture){$onDefeat=__DIV.capture["$onDefeat"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoPlayGame(stage, free? onDefeat)
var T1=DU.Ref($stage);
var T2=$onDefeat;
$onDefeat=undefined;
var T4=[T1,T2];
var T5=await __RUN.getStaticFile("slides_14","DoPlayGame").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"169::ConfirmDefeat" : function(__DIV){
var $slide;
//  slide : $If(`state[$Campaign.Defeated] ? false`, $Create(lambda(stage => async)))
var T0=OObj.MakeFunc(__FUNCS["slides_14"]["182_func"],{});
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["195_func31"],{});
var T2=[T1];
var T3=__RUN.getStaticGlo("Slide.Create").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
var T5=[T0,T4];
var T6=__RUN.getStaticGlo("Slide.If").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
$slide=T7;
return [$slide];
},
"182_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
var T2="defeated";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}return [T6];},
"195_func31" : async function(__DIV, $stage){
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $Fork.DoConfirmDefeat(stage)
var T1=DU.Ref($stage);
var T3=[T1];
var T4=await __RUN.getStaticGlo("Slide.Fork.DoConfirmDefeat").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"208::Victory" : function(__DIV, $text){
var $slide;
//  slide : $Create(lambda(stage => async))
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["221_func35"],{$text: DU.Ref($text)});
var T2=[T1];
var T3=__RUN.getStaticGlo("Slide.Create").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$slide=T4;
return [$slide];
},
"221_func35" : async function(__DIV, $stage){
var $text;
if('$text' in __DIV.capture){$text=__DIV.capture["$text"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoVictory(stage, text)
var T1=DU.Ref($stage);
var T2=DU.Ref($text);
var T4=[T1,T2];
var T5=await __RUN.getStaticGlo("Slide.DoVictory").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
return [];
},
"234::Setup" : function(__DIV, $text, $hint){
var $slide;
//  text : $GT(text)
var T2=DU.Ref($text);
var T3=[T2];
var T4=__RUN.getStaticGlo("GT").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$text=T5;
//  slide : $Create(lambda(stage => async))
var T7=OObj.MakeFunc(__FUNCS["slides_14"]["247_func40"],{$text: DU.Ref($text)});
var T8=[T7];
var T9=__RUN.getStaticGlo("Slide.Create").func(null,...T8);
var T10=DU.ReadReturn(T9,1);
$slide=T10;
return [$slide];
},
"247_func40" : async function(__DIV, $stage){
var $text;
if('$text' in __DIV.capture){$text=__DIV.capture["$text"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoSimplePopup(stage, "Setup", text)
var T1=DU.Ref($stage);
var T2="Setup";
var T3=DU.Ref($text);
var T5=[T1,T2,T3];
var T6=await __RUN.getStaticGlo("Slide.DoSimplePopup").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
return [];
},
"260::Popup" : function(__DIV, $title, $text){
var $slide;
//  text : $GT(text)
var T2=DU.Ref($text);
var T3=[T2];
var T4=__RUN.getStaticGlo("GT").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$text=T5;
//  slide : $Create(lambda(stage => async))
var T7=OObj.MakeFunc(__FUNCS["slides_14"]["273_func45"],{$title: DU.Ref($title),$text: DU.Ref($text)});
var T8=[T7];
var T9=__RUN.getStaticGlo("Slide.Create").func(null,...T8);
var T10=DU.ReadReturn(T9,1);
$slide=T10;
return [$slide];
},
"273_func45" : async function(__DIV, $stage){
var $title,$text;
if('$title' in __DIV.capture){$title=__DIV.capture["$title"];}
if('$text' in __DIV.capture){$text=__DIV.capture["$text"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoSimplePopup(stage, title, text)
var T1=DU.Ref($stage);
var T2=DU.Ref($title);
var T3=DU.Ref($text);
var T5=[T1,T2,T3];
var T6=await __RUN.getStaticGlo("Slide.DoSimplePopup").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
return [];
},
"286::If" : function(__DIV, $testCond, $slide){
//  slide.ifShow : free testCond
var T2=$testCond;
$testCond=undefined;
var T3=DU.Ref($slide);
OObj.SetChild(T3,"ifShow",T2);
return [$slide];
},
"299::IfExpert" : function(__DIV, $subSlide){
var $slide;
//  => $If(`state.$Campaign.State.IsExpert()`, free subSlide)
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["312_func"],{});
var T2=$subSlide;
$subSlide=undefined;
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("Slide.If").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$slide=T5;
return [$slide];
},
"312_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
if(OObj.HasChildKey(T1,"isExpertMode"))
{
var T2=T1;
var T3=OObj.DotAccess(T2,"isExpertMode");
}else {var T3=null;}
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}return [T6];},
"325::IfNotExpert" : function(__DIV, $subSlide){
var $slide;
//  => $If(`!state.$Campaign.State.IsExpert()`, free subSlide)
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["338_func"],{});
var T2=$subSlide;
$subSlide=undefined;
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("Slide.If").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$slide=T5;
return [$slide];
},
"338_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
if(OObj.HasChildKey(T1,"isExpertMode"))
{
var T2=T1;
var T3=OObj.DotAccess(T2,"isExpertMode");
}else {var T3=null;}
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}var T7=!T6;
return [T7];},
"351::IfDefeat" : function(__DIV, $subSlide){
var $slide;
//  => $If(`state[$Campaign.Defeated] ? false`, free subSlide)
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["364_func"],{});
var T2=$subSlide;
$subSlide=undefined;
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("Slide.If").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$slide=T5;
return [$slide];
},
"364_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
var T2="defeated";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}return [T6];},
"377::IfNotDefeat" : function(__DIV, $subSlide){
var $slide;
//  => $If(`!(state[$Campaign.Defeated] ? false)`, free subSlide)
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["390_func"],{});
var T2=$subSlide;
$subSlide=undefined;
var T3=[T1,T2];
var T4=__RUN.getStaticGlo("Slide.If").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$slide=T5;
return [$slide];
},
"390_func" : function(__DIV){
var $state;
if('$state' in __DIV.capture){$state=__DIV.capture["$state"];}
var T1=DU.Ref($state);
var T2="defeated";
var T3=OObj.GetPath(T1,[T2]);
if(T3 != null)
{
var T6=T3;
}else{
var T6=false;
}var T7=!T6;
return [T7];},
"403::Narrative" : function(__DIV, $instructions){
var $slide;
//  instructions : $GT(instructions)
var T1=DU.Ref($instructions);
var T2=[T1];
var T3=__RUN.getStaticGlo("GT").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$instructions=T4;
//  slide : $Create(lambda(stage => async))
var T6=OObj.MakeFunc(__FUNCS["slides_14"]["416_func66"],{$instructions: DU.Ref($instructions)});
var T7=[T6];
var T8=__RUN.getStaticGlo("Slide.Create").func(null,...T7);
var T9=DU.ReadReturn(T8,1);
$slide=T9;
return [$slide];
},
"416_func66" : async function(__DIV, $stage){
var $instructions;
if('$instructions' in __DIV.capture){$instructions=__DIV.capture["$instructions"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  await $DoSimplePopup(stage, "Story", instructions)
var T1=DU.Ref($stage);
var T2="Story";
var T3=DU.Ref($instructions);
var T5=[T1,T2,T3];
var T6=await __RUN.getStaticGlo("Slide.DoSimplePopup").func(null,...T5);
var T7=DU.ReadReturn(T6,1);
return [];
},
"429::EnemyStageCheck" : function(__DIV, $villian){
var $check;
//  check : dim
var T1=new OObj();
//  dynamicText : lambda(stage => text)
var T2=OObj.MakeFunc(__FUNCS["slides_14"]["442_func74"],{$villian: DU.Ref($villian)});
OObj.SetChild(T1,"dynamicText",T2);
$check=T1;
return [$check];
},
"442_func74" : function(__DIV, $stage){
var $text,$$sOut2,$$temp3,$villian;
if('$villian' in __DIV.capture){$villian=__DIV.capture["$villian"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  text : "**Villian Deck**: " + switch(stage.state.difficulty)
var T1="**Villian Deck**: ";
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"state");
var T4=OObj.DotAccess(T3,"difficulty");
$$temp3=T4;
//  1 : villian + " (select any stage - your choice)"
var T7=DU.Ref($$temp3);
var T8=1;
var T9=DU.AreEqual(T7,T8);
if(T9)
{
var T11=DU.Ref($villian);
var T12=" (select any stage - your choice)";
var T13=gVal(T11)+gVal(T12);
$$sOut2=T13;
}else
{
//  2 : villian + " (I), " + villian + " (II)"
var T17=DU.Ref($$temp3);
var T18=2;
var T19=DU.AreEqual(T17,T18);
if(T19)
{
var T21=DU.Ref($villian);
var T22=" (I), ";
var T23=gVal(T21)+gVal(T22);
var T24=DU.Ref($villian);
var T25=gVal(T23)+gVal(T24);
var T26=" (II)";
var T27=gVal(T25)+gVal(T26);
$$sOut2=T27;
}else
{
//  else : villian + " (II), " + villian + " (III)"
var T30=DU.Ref($villian);
var T31=" (II), ";
var T32=gVal(T30)+gVal(T31);
var T33=DU.Ref($villian);
var T34=gVal(T32)+gVal(T33);
var T35=" (III)";
var T36=gVal(T34)+gVal(T35);
$$sOut2=T36;
}}var T38=DU.Ref($$sOut2);
var T39=gVal(T1)+gVal(T38);
$text=T39;
return [$text];
},
"455::ExpertEncounterSetCheck" : function(__DIV){
var $check;
//  check : $CheckList.MakeCheck("Expert set", `stage.state.$Campaign.State.IsExpert()`)
var T0="Expert set";
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["468_func"],{});
var T2=[T0,T1];
var T3=__RUN.getStaticGlo("Slide.CheckList.MakeCheck").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$check=T4;
return [$check];
},
"468_func" : function(__DIV){
var $stage;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"state");
if(OObj.HasChildKey(T2,"isExpertMode"))
{
var T3=T2;
var T4=OObj.DotAccess(T3,"isExpertMode");
}else {var T4=null;}
if(T4 != null)
{
var T7=T4;
}else{
var T7=false;
}return [T7];},
"481::HookAdvance" : function(__DIV, $stage, $lamb){
//  $g.HookKeyDown(stage.ct, lambda(event)[free? lamb])
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"ct");
var T4=OObj.MakeFunc(__FUNCS["slides_14"]["494_func85"],{});
T4.InjectCapture("$lamb",$lamb);
$lamb=undefined;
var T6=[T3,T4];
var T7=__RUN.getStaticGlo("g.HookKeyDown").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
return [];
},
"494_func85" : function(__DIV, $event){
var $lamb;
if('$lamb' in __DIV.capture){$lamb=__DIV.capture["$lamb"];}
if('$event' in __DIV.capture){$event=__DIV.capture["$event"];}
//  if event.key = "ArrowRight" | event.key = "Enter"
var T1=DU.Ref($event);
var T2=OObj.DotAccess(T1,"key");
var T3="ArrowRight";
var T4=DU.AreEqual(T2,T3);
if(!!T4)
{
var T10=true;
}else{
var T7=DU.Ref($event);
var T8=OObj.DotAccess(T7,"key");
var T9="Enter";
var T10=DU.AreEqual(T8,T9);
}if(T10)
{
//  $(lamb)
var T12=DU.Ref($lamb);
var T13=OObj._RunLambda(T12,{});
var T14=DU.ReadReturn(T13,1);
}return [];
},
"507::PassThrough" : function(__DIV, $lamb){
var $slide;
//  slide : $Create(lambda(stage => async)[free? lamb])
var T1=OObj.MakeFunc(__FUNCS["slides_14"]["520_func90"],{});
T1.InjectCapture("$lamb",$lamb);
$lamb=undefined;
var T3=[T1];
var T4=__RUN.getStaticGlo("Slide.Create").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
$slide=T5;
return [$slide];
},
"520_func90" : async function(__DIV, $stage){
var $lamb;
if('$lamb' in __DIV.capture){$lamb=__DIV.capture["$lamb"];}
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
//  stage.overrideDir : stage.dir // continue going
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"dir");
var T3=DU.Ref($stage);
OObj.SetChild(T3,"overrideDir",T2);
//  $(lamb, stage)
var T5="stage";
var T6=DU.Ref($lamb);
var T7=OObj._RunLambda(T6,{$stage: DU.Ref($stage)});
var T8=DU.ReadReturn(T7,1);
return [];
},
"533::DoSimplePopup" : async function(__DIV, $stage, $title, $text, $btLabel){
var $pipe,$pop;
//  btLabel ?: "OK"
var T4=$btLabel==null;
if(T4)
{
var T6="OK";
$btLabel=T6;
}//  @pipe : stage.ct.$Canceler.MakePipe()
var T8=DU.Ref($stage);
var T9=OObj.DotAccess(T8,"ct");
var T10=OObj.DotAccess(T9,"pipes");
var T11=__RUN.getStaticGlo("Pipe.Create").func(null);
var T12=DU.ReadReturn(T11,1);
var T13=[T12];
var T14=__RUN.getStaticGlo("List.Add").func({__THIS:T10},...T13);
var T15=DU.ReadReturn(T14,1);
$pipe=T15;
//  @pop : dim $Popup.Create(title)
var T17=DU.Ref($title);
var T18=[T17];
var T19=__RUN.getStaticGlo("Popup.Create").func(null,...T18);
var T20=DU.ReadReturn(T19,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T21=DU.Ref(T20);
var T22=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T23=DU.ReadReturn(T22,1);
//  mixin $SetHtml($MarkdownToHtml(text))
var T24=DU.Ref(T23);
var T25=DU.Ref($text);
var T26=[T25];
var T27=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T26);
var T28=DU.ReadReturn(T27,1);
var T29=[T28];
var T30=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T24},...T29);
//  mixin $Style.SetClassIf("long", text.$Str.Len() > 150)
var T31=DU.Ref(T23);
var T32="long";
var T33=DU.Ref($text);
var T34=__RUN.getStaticGlo("Str.Len").func({__THIS:T33});
var T35=DU.ReadReturn(T34,1);
var T36=150;
var T37=gVal(T35) > gVal(T36);
var T38=[T32,T37];
var T39=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T31},...T38);
var T40=[T23];
var T41=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T21},...T40);
//  mixin $Popup.AddBotRightButton(lambda, btLabel)
var T42=DU.Ref(T20);
var T43=OObj.MakeFunc(__FUNCS["slides_14"]["546_func104"],{$pipe: DU.Ref($pipe)});
var T44=DU.Ref($btLabel);
var T45=[T43,T44];
var T46=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T42},...T45);
$pop=T20;
//  $Slide.HookAdvance(stage, lambda)
var T48=DU.Ref($stage);
var T49=OObj.MakeFunc(__FUNCS["slides_14"]["559_func107"],{$pipe: DU.Ref($pipe)});
var T50=[T48,T49];
var T51=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T50);
var T52=DU.ReadReturn(T51,1);
//  await pipe.$Pipe.ReadAsync()
var T54=DU.Ref($pipe);
var T56=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T54});
var T57=DU.ReadReturn(T56,1);
//  pop.$Style.AddClasses("fadingOut")
var T59=DU.Ref($pop);
var T60="fadingOut";
var T61=[T60];
var T62=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T59},...T61);
var T63=DU.ReadReturn(T62,1);
//  await $Job.Pause(10) // pause is waiting for an animation frame already
var T65=10;
var T67=[T65];
var T68=await __RUN.getStaticGlo("Job.Pause").func(null,...T67);
var T69=DU.ReadReturn(T68,1);
return [];
},
"546_func104" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"559_func107" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"572::DoVictory" : async function(__DIV, $stage, $text){
var $pipe,$pop;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"ct");
var T4=OObj.DotAccess(T3,"pipes");
var T5=__RUN.getStaticGlo("Pipe.Create").func(null);
var T6=DU.ReadReturn(T5,1);
var T7=[T6];
var T8=__RUN.getStaticGlo("List.Add").func({__THIS:T4},...T7);
var T9=DU.ReadReturn(T8,1);
$pipe=T9;
//  @pop : dim $Popup.Create("VICTORY!")
var T11="VICTORY!";
var T12=[T11];
var T13=__RUN.getStaticGlo("Popup.Create").func(null,...T12);
var T14=DU.ReadReturn(T13,1);
//  mixin $AppendChild(dim $Paragraph.Create())
var T15=DU.Ref(T14);
var T16=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null);
var T17=DU.ReadReturn(T16,1);
//  mixin $SetHtml($MarkdownToHtml(text))
var T18=DU.Ref(T17);
var T19=DU.Ref($text);
var T20=[T19];
var T21=__RUN.getStaticGlo("Dom.MarkdownToHtml").func(null,...T20);
var T22=DU.ReadReturn(T21,1);
var T23=[T22];
var T24=__RUN.getStaticGlo("Dom.SetHtml").func({__THIS:T18},...T23);
//  mixin $Style.SetClassIf("long", text.$Str.Len() > 150)
var T25=DU.Ref(T17);
var T26="long";
var T27=DU.Ref($text);
var T28=__RUN.getStaticGlo("Str.Len").func({__THIS:T27});
var T29=DU.ReadReturn(T28,1);
var T30=150;
var T31=gVal(T29) > gVal(T30);
var T32=[T26,T31];
var T33=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T25},...T32);
var T34=[T17];
var T35=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T15},...T34);
//  mixin $Popup.AddBotRightButton(lambda)
var T36=DU.Ref(T14);
var T37=OObj.MakeFunc(__FUNCS["slides_14"]["585_func124"],{$pipe: DU.Ref($pipe)});
var T38=[T37];
var T39=__RUN.getStaticGlo("Popup.AddBotRightButton").func({__THIS:T36},...T38);
$pop=T14;
//  $Slide.HookAdvance(stage, lambda)
var T41=DU.Ref($stage);
var T42=OObj.MakeFunc(__FUNCS["slides_14"]["598_func127"],{$pipe: DU.Ref($pipe)});
var T43=[T41,T42];
var T44=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T43);
var T45=DU.ReadReturn(T44,1);
//  await pipe.$Pipe.ReadAsync()
var T47=DU.Ref($pipe);
var T49=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T47});
var T50=DU.ReadReturn(T49,1);
//  pop.$Style.AddClasses("fadeOut", "slow")
var T52=DU.Ref($pop);
var T53="fadeOut";
var T54="slow";
var T55=[T53,T54];
var T56=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T52},...T55);
var T57=DU.ReadReturn(T56,1);
//  await $Job.Pause(1000) // pause is waiting for an animation frame already
var T59=1000;
var T61=[T59];
var T62=await __RUN.getStaticGlo("Job.Pause").func(null,...T61);
var T63=DU.ReadReturn(T62,1);
return [];
},
"585_func124" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"598_func127" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"611::DoNumPlayers" : async function(__DIV, $stage){
var $pipe,$pop,$cnt;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"pipes");
var T4=__RUN.getStaticGlo("Pipe.Create").func(null);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("List.Add").func({__THIS:T3},...T6);
var T8=DU.ReadReturn(T7,1);
$pipe=T8;
//  @pop : $g.Stage.$AppendChild(dim $Div.Create())
var T10=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T11="div";
var T12=[T11];
var T13=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T12);
var T14=DU.ReadReturn(T13,1);
//  mixin $Style.AddClasses("popup")
var T15=DU.Ref(T14);
var T16="popup";
var T17=[T16];
var T18=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T15},...T17);
var T19=[T14];
var T20=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T10},...T19);
var T21=DU.ReadReturn(T20,1);
$pop=T21;
//  @cnt : await $Util.WaitGetFirst(stage.ct, dim)
var T23=DU.Ref($stage);
var T24=OObj.DotAccess(T23,"ct");
var T25=new OObj();
//  1 : `await $pbHelper(stage, pop, "multitasking", "I work alone", "1 Player")`
var T26=OObj.MakeFunc(__FUNCS["slides_14"]["624_func"],{$stage: DU.Ref($stage),$pop: DU.Ref($pop)});
var T27=1;
OObj.SetChild(T25,T27,T26);
//  2 : `await $pbHelper(stage, pop, "two_against", "Dynamic Duo", "2 Players")`
var T29=OObj.MakeFunc(__FUNCS["slides_14"]["637_func"],{$stage: DU.Ref($stage),$pop: DU.Ref($pop)});
var T30=2;
OObj.SetChild(T25,T30,T29);
//  3 : `await $pbHelper(stage, pop, "triple_threat", "Titanic Trio", "3 Players")`
var T32=OObj.MakeFunc(__FUNCS["slides_14"]["650_func"],{$stage: DU.Ref($stage),$pop: DU.Ref($pop)});
var T33=3;
OObj.SetChild(T25,T33,T32);
//  4 : `await $pbHelper(stage, pop, "strength_in_numbers", "Team Up", "4 Players")`
var T35=OObj.MakeFunc(__FUNCS["slides_14"]["663_func"],{$stage: DU.Ref($stage),$pop: DU.Ref($pop)});
var T36=4;
OObj.SetChild(T25,T36,T35);
var T39=[T24,T25];
var T40=await __RUN.getStaticGlo("Util.WaitGetFirst").func(null,...T39);
var T41=DU.ReadReturn(T40,1);
$cnt=T41;
//  if cnt != null
var T43=DU.Ref($cnt);
var T44=null;
var T45=!DU.AreEqual(T43,T44);
if(T45)
{
//  stage.delta["players"] : cnt
var T47=DU.Ref($cnt);
var T48=DU.Ref($stage);
var T49=OObj.DotAccess(T48,"delta");
var T50="players";
OObj.SetPath(T49,[T50],T47);
//  pop.$Style.AddClasses("fadingOut")
var T52=DU.Ref($pop);
var T53="fadingOut";
var T54=[T53];
var T55=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T52},...T54);
var T56=DU.ReadReturn(T55,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T58=50;
var T60=[T58];
var T61=await __RUN.getStaticGlo("Job.Pause").func(null,...T60);
var T62=DU.ReadReturn(T61,1);
}return [];
},
"624_func" : async function(__DIV){
var $stage,$pop;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$pop' in __DIV.capture){$pop=__DIV.capture["$pop"];}
var T1=DU.Ref($stage);
var T2=DU.Ref($pop);
var T3="multitasking";
var T4="I work alone";
var T5="1 Player";
var T7=[T1,T2,T3,T4,T5];
var T8=await __RUN.getStaticFile("slides_14","pbHelper").func(null,...T7);
var T9=DU.ReadReturn(T8,1);
return [T9];},
"637_func" : async function(__DIV){
var $stage,$pop;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$pop' in __DIV.capture){$pop=__DIV.capture["$pop"];}
var T1=DU.Ref($stage);
var T2=DU.Ref($pop);
var T3="two_against";
var T4="Dynamic Duo";
var T5="2 Players";
var T7=[T1,T2,T3,T4,T5];
var T8=await __RUN.getStaticFile("slides_14","pbHelper").func(null,...T7);
var T9=DU.ReadReturn(T8,1);
return [T9];},
"650_func" : async function(__DIV){
var $stage,$pop;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$pop' in __DIV.capture){$pop=__DIV.capture["$pop"];}
var T1=DU.Ref($stage);
var T2=DU.Ref($pop);
var T3="triple_threat";
var T4="Titanic Trio";
var T5="3 Players";
var T7=[T1,T2,T3,T4,T5];
var T8=await __RUN.getStaticFile("slides_14","pbHelper").func(null,...T7);
var T9=DU.ReadReturn(T8,1);
return [T9];},
"663_func" : async function(__DIV){
var $stage,$pop;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$pop' in __DIV.capture){$pop=__DIV.capture["$pop"];}
var T1=DU.Ref($stage);
var T2=DU.Ref($pop);
var T3="strength_in_numbers";
var T4="Team Up";
var T5="4 Players";
var T7=[T1,T2,T3,T4,T5];
var T8=await __RUN.getStaticFile("slides_14","pbHelper").func(null,...T7);
var T9=DU.ReadReturn(T8,1);
return [T9];},
"676::pbHelper" : async function(__DIV, $stage, $container, $img, $text, $subtext){
var $pipe;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T5=DU.Ref($stage);
var T6=OObj.DotAccess(T5,"ct");
var T7=OObj.DotAccess(T6,"pipes");
var T8=__RUN.getStaticGlo("Pipe.Create").func(null);
var T9=DU.ReadReturn(T8,1);
var T10=[T9];
var T11=__RUN.getStaticGlo("List.Add").func({__THIS:T7},...T10);
var T12=DU.ReadReturn(T11,1);
$pipe=T12;
//  container.$AppendChild(dim $Button.Create())
var T14=DU.Ref($container);
var T15="button";
var T16=[T15];
var T17=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T16);
var T18=DU.ReadReturn(T17,1);
//  mixin $Button.HookClick(lambda)
var T19=DU.Ref(T18);
var T20=OObj.MakeFunc(__FUNCS["slides_14"]["689_func163"],{$pipe: DU.Ref($pipe)});
var T21=[T20];
var T22=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T19},...T21);
//  mixin $Style.AddClasses("playerCount")
var T23=DU.Ref(T18);
var T24="playerCount";
var T25=[T24];
var T26=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T23},...T25);
//  mixin $AppendChild(dim $Div.Create())
var T27=DU.Ref(T18);
var T28="div";
var T29=[T28];
var T30=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T29);
var T31=DU.ReadReturn(T30,1);
//  mixin $Style.AddClasses("pcImgContainer")
var T32=DU.Ref(T31);
var T33="pcImgContainer";
var T34=[T33];
var T35=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T32},...T34);
//  mixin $AppendChild(dim $Div.Create())
var T36=DU.Ref(T31);
var T37="div";
var T38=[T37];
var T39=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T38);
var T40=DU.ReadReturn(T39,1);
//  mixin $Style.AddClasses("pcImg")
var T41=DU.Ref(T40);
var T42="pcImg";
var T43=[T42];
var T44=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T41},...T43);
//  mixin $Style.SetBackgroundImage("assets/cards/" + img + ".jpg")
var T45=DU.Ref(T40);
var T46="assets/cards/";
var T47=DU.Ref($img);
var T48=gVal(T46)+gVal(T47);
var T49=".jpg";
var T50=gVal(T48)+gVal(T49);
var T51=[T50];
var T52=__RUN.getStaticGlo("Dom.Style.SetBackgroundImage").func({__THIS:T45},...T51);
var T53=[T40];
var T54=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T36},...T53);
var T55=[T31];
var T56=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T27},...T55);
//  mixin $AppendChild(dim $Div.Create())
var T57=DU.Ref(T18);
var T58="div";
var T59=[T58];
var T60=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T59);
var T61=DU.ReadReturn(T60,1);
//  mixin $Style.AddClasses("pcTextContainer")
var T62=DU.Ref(T61);
var T63="pcTextContainer";
var T64=[T63];
var T65=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T62},...T64);
//  mixin $AppendChild(dim $Paragraph.Create(text))
var T66=DU.Ref(T61);
var T67=DU.Ref($text);
var T68=[T67];
var T69=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T68);
var T70=DU.ReadReturn(T69,1);
//  mixin $Style.AddClasses("pcDesc")
var T71=DU.Ref(T70);
var T72="pcDesc";
var T73=[T72];
var T74=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T71},...T73);
var T75=[T70];
var T76=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T66},...T75);
//  mixin $AppendChild(dim $Paragraph.Create(subtext))
var T77=DU.Ref(T61);
var T78=DU.Ref($subtext);
var T79=[T78];
var T80=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T79);
var T81=DU.ReadReturn(T80,1);
//  mixin $Style.AddClasses("pcInfo")
var T82=DU.Ref(T81);
var T83="pcInfo";
var T84=[T83];
var T85=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T82},...T84);
var T86=[T81];
var T87=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T77},...T86);
var T88=[T61];
var T89=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T57},...T88);
var T90=[T18];
var T91=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T14},...T90);
var T92=DU.ReadReturn(T91,1);
//  await pipe.$Pipe.ReadAsync()
var T94=DU.Ref($pipe);
var T96=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T94});
var T97=DU.ReadReturn(T96,1);
return [];
},
"689_func163" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"702::DoHeroPicker" : async function(__DIV, $stage, $idx){
var $pipe,$ghostName,$pop,$txt,$scroller,$$iter2,$hero,$bt,$pick,$name;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T2=DU.Ref($stage);
var T3=OObj.DotAccess(T2,"ct");
var T4=OObj.DotAccess(T3,"pipes");
var T5=__RUN.getStaticGlo("Pipe.Create").func(null);
var T6=DU.ReadReturn(T5,1);
var T7=[T6];
var T8=__RUN.getStaticGlo("List.Add").func({__THIS:T4},...T7);
var T9=DU.ReadReturn(T8,1);
$pipe=T9;
//  @ghostName : stage.ghost["player", idx, "name"] ? ("Player " + idx)
var T11=DU.Ref($stage);
var T12=OObj.DotAccess(T11,"ghost");
var T13="player";
var T14=DU.Ref($idx);
var T15="name";
var T16=OObj.GetPath(T12,[T13,T14,T15]);
if(T16 != null)
{
var T21=T16;
}else{
var T19="Player ";
var T20=DU.Ref($idx);
var T21=gVal(T19)+gVal(T20);
}$ghostName=T21;
//  @pop : $g.Stage.$AppendChild(dim $Div.Create())
var T23=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T24="div";
var T25=[T24];
var T26=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T25);
var T27=DU.ReadReturn(T26,1);
//  mixin $Style.AddClasses("popup", "heroSelect")
var T28=DU.Ref(T27);
var T29="popup";
var T30="heroSelect";
var T31=[T29,T30];
var T32=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T28},...T31);
//  mixin $AppendChild(dim $Paragraph.Create("Player " + idx))
var T33=DU.Ref(T27);
var T34="Player ";
var T35=DU.Ref($idx);
var T36=gVal(T34)+gVal(T35);
var T37=[T36];
var T38=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T37);
var T39=DU.ReadReturn(T38,1);
//  mixin $Style.AddClasses("text", "top-left")
var T40=DU.Ref(T39);
var T41="text";
var T42="top-left";
var T43=[T41,T42];
var T44=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T40},...T43);
var T45=[T39];
var T46=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T33},...T45);
//  mixin $AppendChild(dim $Paragraph.Create("Player Name:"))
var T47=DU.Ref(T27);
var T48="Player Name:";
var T49=[T48];
var T50=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T49);
var T51=DU.ReadReturn(T50,1);
//  mixin $Style.AddClasses("label")
var T52=DU.Ref(T51);
var T53="label";
var T54=[T53];
var T55=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T52},...T54);
var T56=[T51];
var T57=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T47},...T56);
var T58=[T27];
var T59=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T23},...T58);
var T60=DU.ReadReturn(T59,1);
$pop=T60;
//  @txt : pop.$AppendChild(dim $TextEntry.Create())
var T62=DU.Ref($pop);
var T63="input";
var T64=[T63];
var T65=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T64);
var T66=DU.ReadReturn(T65,1);
var T67=DU.Ref(T66);
var T68="text";
var T69=[T68];
var T70=__RUN.getStaticGlo("Dom.Input.SetType").func({__THIS:T67},...T69);
//  mixin $TextEntry.SetText(ghostName)
var T71=DU.Ref(T66);
var T72=DU.Ref($ghostName);
var T73=[T72];
var T74=__RUN.getStaticGlo("Dom.TextEntry.SetText").func({__THIS:T71},...T73);
var T75=[T66];
var T76=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T62},...T75);
var T77=DU.ReadReturn(T76,1);
$txt=T77;
//  @scroller : pop.$AppendChild(dim $Div.Create())
var T79=DU.Ref($pop);
var T80="div";
var T81=[T80];
var T82=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T81);
var T83=DU.ReadReturn(T82,1);
//  mixin $Style.AddClasses("heroScroll")
var T84=DU.Ref(T83);
var T85="heroScroll";
var T86=[T85];
var T87=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T84},...T86);
var T88=[T83];
var T89=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T79},...T88);
var T90=DU.ReadReturn(T89,1);
$scroller=T90;
//  for @hero : $Heroes.GetHeroes()
var T92="Heroes_6";
var T93=DU.Ref(__RUN.getScratchFile(T92,"AllHer_17"));
var T94=DU.MakeIter(T93);
$$iter2=T94;
for(var T96=0;;T96++)
{
if(T96>0)
{
var T97=DU.Ref($$iter2);
T97.Next();
}var T99=DU.Ref($$iter2);
var T100=T99.iter.done;
var T101=!T100;
if(!T101){break;}
var T103=DU.Ref($$iter2);
var T104=T103.iter.value[0];
$hero=T104;
//  @bt : scroller.$AppendChild(dim $Button.Create())
var T106=DU.Ref($scroller);
var T107="button";
var T108=[T107];
var T109=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T108);
var T110=DU.ReadReturn(T109,1);
//  mixin $Style.AddClasses("btHero")
var T111=DU.Ref(T110);
var T112="btHero";
var T113=[T112];
var T114=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T111},...T113);
//  mixin $Button.HookClick(lambda)
var T115=DU.Ref(T110);
var T116=OObj.MakeFunc(__FUNCS["slides_14"]["715_func204"],{$pipe: DU.Ref($pipe),$hero: DU.Ref($hero)});
var T117=[T116];
var T118=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T115},...T117);
//  mixin $AppendChild(hero.$Heroes.MakeHeroBanner())
var T119=DU.Ref(T110);
var T120=DU.Ref($hero);
var T121=__RUN.getStaticGlo("Heroes.MakeHeroBanner").func({__THIS:T120});
var T122=DU.ReadReturn(T121,1);
var T123=[T122];
var T124=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T119},...T123);
var T125=[T110];
var T126=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T106},...T125);
var T127=DU.ReadReturn(T126,1);
$bt=T127;
continue;
}//  @pick : await pipe.$Pipe.ReadAsync()
var T130=$hero;
$hero=undefined;
var T132=$bt;
$bt=undefined;
var T134=DU.Ref($pipe);
var T136=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T134});
var T137=DU.ReadReturn(T136,1);
$pick=T137;
//  if pick != null
var T139=DU.Ref($pick);
var T140=null;
var T141=!DU.AreEqual(T139,T140);
if(T141)
{
//  stage.delta["player", idx, "hero"] : pick.$Heroes.GetName()
var T143=DU.Ref($pick);
var T144=OObj.DotAccess(T143,"name");
var T145=DU.Ref($stage);
var T146=OObj.DotAccess(T145,"delta");
var T147="player";
var T148=DU.Ref($idx);
var T149="hero";
OObj.SetPath(T146,[T147,T148,T149],T144);
//  @name : txt.$TextEntry.GetText()
var T151=DU.Ref($txt);
var T152="value";
var T153=[T152];
var T154=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T151},...T153);
var T155=DU.ReadReturn(T154,1);
$name=T155;
//  if name = "" \ name : "Mr. Smartypants"
var T157=DU.Ref($name);
var T158="";
var T159=DU.AreEqual(T157,T158);
if(T159)
{
var T161="Mr. Smartypants";
$name=T161;
}//  stage.delta["player", idx, "name"] : name
var T164=DU.Ref($name);
var T165=DU.Ref($stage);
var T166=OObj.DotAccess(T165,"delta");
var T167="player";
var T168=DU.Ref($idx);
var T169="name";
OObj.SetPath(T166,[T167,T168,T169],T164);
//  pop.$Style.AddClasses("fadingOut")
var T171=DU.Ref($pop);
var T172="fadingOut";
var T173=[T172];
var T174=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T171},...T173);
var T175=DU.ReadReturn(T174,1);
//  await $Job.Pause(50) // pause is waiting for an animation frame already
var T177=50;
var T179=[T177];
var T180=await __RUN.getStaticGlo("Job.Pause").func(null,...T179);
var T181=DU.ReadReturn(T180,1);
}return [];
},
"715_func204" : function(__DIV){
var $pipe,$hero,$error;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
if('$hero' in __DIV.capture){$hero=__DIV.capture["$hero"];}
//  trap pipe.$Pipe.Write(hero)
try
{
var T2=DU.Ref($pipe);
var T3=DU.Ref($hero);
var T4=[T3];
var T5=__RUN.getStaticGlo("Pipe.Write").func({__THIS:T2},...T4);
var T6=DU.ReadReturn(T5,1);
}catch($error)
{
}return [];
},
"728::DoScenarioStart" : async function(__DIV, $stage, $card, $num, $campaign, $title, $backSty, $lineSty, $foreSty){
var $container,$book,$heroContainer,$$iter2,$obj,$hero,$rPanel,$pipe,$diff;
//  @container : $g.Stage.$AppendChild(dim $Div.Create())
var T8=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T9="div";
var T10=[T9];
var T11=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T10);
var T12=DU.ReadReturn(T11,1);
//  mixin $Style.AddClasses("scenario")
var T13=DU.Ref(T12);
var T14="scenario";
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T13},...T15);
var T17=[T12];
var T18=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T8},...T17);
var T19=DU.ReadReturn(T18,1);
$container=T19;
//  @book : $g.MakeComicBookCard(card, campaign.name, "", num, title, backSty, lineSty, foreSty)
var T21=DU.Ref($card);
var T22=DU.Ref($campaign);
var T23=OObj.DotAccess(T22,"name");
var T24="";
var T25=DU.Ref($num);
var T26=DU.Ref($title);
var T27=DU.Ref($backSty);
var T28=DU.Ref($lineSty);
var T29=DU.Ref($foreSty);
var T30=[T21,T23,T24,T25,T26,T27,T28,T29];
var T31=__RUN.getStaticGlo("g.MakeComicBookCard").func(null,...T30);
var T32=DU.ReadReturn(T31,1);
$book=T32;
//  container.$AppendChild(book)
var T34=DU.Ref($container);
var T35=DU.Ref($book);
var T36=[T35];
var T37=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T34},...T36);
var T38=DU.ReadReturn(T37,1);
//  @heroContainer : book.$AppendChild(dim $Div.Create())
var T40=DU.Ref($book);
var T41="div";
var T42=[T41];
var T43=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T42);
var T44=DU.ReadReturn(T43,1);
//  mixin $Style.AddClasses("heroes")
var T45=DU.Ref(T44);
var T46="heroes";
var T47=[T46];
var T48=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T45},...T47);
var T49=[T44];
var T50=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T40},...T49);
var T51=DU.ReadReturn(T50,1);
$heroContainer=T51;
//  for @obj : stage.state.?player ? dim()
var T53=DU.Ref($stage);
var T54=OObj.DotAccess(T53,"state");
if(OObj.HasChildKey(T54,"player"))
{
var T55=T54;
var T56=OObj.DotAccess(T55,"player");
}else {var T56=null;}
if(T56 != null)
{
var T59=T56;
}else{
var T59=new OObj();
}var T60=DU.MakeIter(T59);
$$iter2=T60;
for(var T62=0;;T62++)
{
if(T62>0)
{
var T63=DU.Ref($$iter2);
T63.Next();
}var T65=DU.Ref($$iter2);
var T66=T65.iter.done;
var T67=!T66;
if(!T67){break;}
var T69=DU.Ref($$iter2);
var T70=T69.iter.value[0];
$obj=T70;
//  @hero : $Heroes.LookupByName(obj.hero)
var T72=DU.Ref($obj);
var T73=OObj.DotAccess(T72,"hero");
var T74=[T73];
var T75=__RUN.getStaticGlo("Heroes.LookupByName").func(null,...T74);
var T76=DU.ReadReturn(T75,1);
$hero=T76;
//  heroContainer.$AppendChild(hero.$Heroes.MakeHeroBadge())
var T78=DU.Ref($heroContainer);
var T79=DU.Ref($hero);
var T80=__RUN.getStaticGlo("Heroes.MakeHeroBadge").func({__THIS:T79});
var T81=DU.ReadReturn(T80,1);
var T82=[T81];
var T83=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T78},...T82);
var T84=DU.ReadReturn(T83,1);
continue;
}//  @rPanel : container.$AppendChild(dim $Div.Create())
var T87=$obj;
$obj=undefined;
var T89=$hero;
$hero=undefined;
var T91=DU.Ref($container);
var T92="div";
var T93=[T92];
var T94=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T93);
var T95=DU.ReadReturn(T94,1);
//  mixin $Style.AddClasses("rPanel")
var T96=DU.Ref(T95);
var T97="rPanel";
var T98=[T97];
var T99=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T96},...T98);
var T100=[T95];
var T101=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T91},...T100);
var T102=DU.ReadReturn(T101,1);
$rPanel=T102;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T104=DU.Ref($stage);
var T105=OObj.DotAccess(T104,"ct");
var T106=OObj.DotAccess(T105,"pipes");
var T107=__RUN.getStaticGlo("Pipe.Create").func(null);
var T108=DU.ReadReturn(T107,1);
var T109=[T108];
var T110=__RUN.getStaticGlo("List.Add").func({__THIS:T106},...T109);
var T111=DU.ReadReturn(T110,1);
$pipe=T111;
//  rPanel.$AppendChild(dim $mkPowButton("START!"))
var T113=DU.Ref($rPanel);
var T114="START!";
var T115=[T114];
var T116=__RUN.getStaticFile("slides_14","mkPowButton").func(null,...T115);
var T117=DU.ReadReturn(T116,1);
//  mixin $Button.HookClick(lambda)
var T118=DU.Ref(T117);
var T119=OObj.MakeFunc(__FUNCS["slides_14"]["741_func241"],{$pipe: DU.Ref($pipe)});
var T120=[T119];
var T121=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T118},...T120);
var T122=[T117];
var T123=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T113},...T122);
var T124=DU.ReadReturn(T123,1);
//  $Slide.HookAdvance(stage, lambda)
var T126=DU.Ref($stage);
var T127=OObj.MakeFunc(__FUNCS["slides_14"]["754_func244"],{$pipe: DU.Ref($pipe)});
var T128=[T126,T127];
var T129=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T128);
var T130=DU.ReadReturn(T129,1);
//  @diff : rPanel.$AppendChild(dim $Dropdown.Create())
var T132=DU.Ref($rPanel);
var T133="select";
var T134=[T133];
var T135=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T134);
var T136=DU.ReadReturn(T135,1);
//  mixin $Dropdown.AddOption("Difficulty - Rookie Mode", 1)
var T137=DU.Ref(T136);
var T138="Difficulty - Rookie Mode";
var T139=1;
var T140=[T138,T139];
var T141=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T137},...T140);
//  mixin $Dropdown.AddOption("Difficulty - Standard Mode", 2)
var T142=DU.Ref(T136);
var T143="Difficulty - Standard Mode";
var T144=2;
var T145=[T143,T144];
var T146=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T142},...T145);
//  mixin $Dropdown.AddOption("Difficulty - Expert Mode", 3)
var T147=DU.Ref(T136);
var T148="Difficulty - Expert Mode";
var T149=3;
var T150=[T148,T149];
var T151=__RUN.getStaticGlo("Dom.Dropdown.AddOption").func({__THIS:T147},...T150);
var T152=[T136];
var T153=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T132},...T152);
var T154=DU.ReadReturn(T153,1);
$diff=T154;
//  diff.$Dropdown.SetValue((stage.state.?difficulty ? stage.ghost.?difficulty) ? 2)
var T156=DU.Ref($diff);
var T157="value";
var T158=DU.Ref($stage);
var T159=OObj.DotAccess(T158,"state");
if(OObj.HasChildKey(T159,"difficulty"))
{
var T160=T159;
var T161=OObj.DotAccess(T160,"difficulty");
}else {var T161=null;}
if(T161 != null)
{
var T167=T161;
}else{
var T164=DU.Ref($stage);
var T165=OObj.DotAccess(T164,"ghost");
if(OObj.HasChildKey(T165,"difficulty"))
{
var T166=T165;
var T167=OObj.DotAccess(T166,"difficulty");
}else {var T167=null;}
}if(T167 != null)
{
var T170=T167;
}else{
var T170=2;
}var T171=[T157,T170];
var T172=__RUN.getStaticGlo("Dom.SetAttribute").func({__THIS:T156},...T171);
var T173=DU.ReadReturn(T172,1);
//  await pipe.$Pipe.ReadAsync()
var T175=DU.Ref($pipe);
var T177=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T175});
var T178=DU.ReadReturn(T177,1);
//  stage.delta["difficulty"] : diff.$Dropdown.GetValue()
var T180=DU.Ref($diff);
var T181="value";
var T182=[T181];
var T183=__RUN.getStaticGlo("Dom.GetAttribute").func({__THIS:T180},...T182);
var T184=DU.ReadReturn(T183,1);
var T185=DU.Ref($stage);
var T186=OObj.DotAccess(T185,"delta");
var T187="difficulty";
OObj.SetPath(T186,[T187],T184);
//  container.$Style.AddClasses("fadingOut")
var T189=DU.Ref($container);
var T190="fadingOut";
var T191=[T190];
var T192=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T189},...T191);
var T193=DU.ReadReturn(T192,1);
//  await $Job.Pause(10)
var T195=10;
var T197=[T195];
var T198=await __RUN.getStaticGlo("Job.Pause").func(null,...T197);
var T199=DU.ReadReturn(T198,1);
return [];
},
"741_func241" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"754_func244" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"767::DoPlayGame" : async function(__DIV, $stage, $onDefeat){
var $canDefeat,$pipe,$container;
//  @canDefeat : (onDefeat != null)
var T2=DU.Ref($onDefeat);
var T3=null;
var T4=!DU.AreEqual(T2,T3);
$canDefeat=T4;
//  @pipe : stage.ct.$Canceler.MakePipe()
var T6=DU.Ref($stage);
var T7=OObj.DotAccess(T6,"ct");
var T8=OObj.DotAccess(T7,"pipes");
var T9=__RUN.getStaticGlo("Pipe.Create").func(null);
var T10=DU.ReadReturn(T9,1);
var T11=[T10];
var T12=__RUN.getStaticGlo("List.Add").func({__THIS:T8},...T11);
var T13=DU.ReadReturn(T12,1);
$pipe=T13;
//  @container : $g.Stage.$AppendChild(dim $Div.Create())
var T15=DU.Ref(__RUN.getStaticGlo("g.Stage"));
var T16="div";
var T17=[T16];
var T18=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T17);
var T19=DU.ReadReturn(T18,1);
//  mixin $Style.AddClasses("playGame")
var T20=DU.Ref(T19);
var T21="playGame";
var T22=[T21];
var T23=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T20},...T22);
//  mixin $Style.SetClassIf("canDefeat", canDefeat)
var T24=DU.Ref(T19);
var T25="canDefeat";
var T26=DU.Ref($canDefeat);
var T27=[T25,T26];
var T28=__RUN.getStaticGlo("Dom.Style.SetClassIf").func({__THIS:T24},...T27);
//  mixin $AppendChild($Paragraph.Create("All Set! Click the button below once the scenario is complete"))
var T29=DU.Ref(T19);
var T30="All Set! Click the button below once the scenario is complete";
var T31=[T30];
var T32=__RUN.getStaticGlo("Dom.Paragraph.Create").func(null,...T31);
var T33=DU.ReadReturn(T32,1);
var T34=[T33];
var T35=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T29},...T34);
var T36=[T19];
var T37=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T15},...T36);
var T38=DU.ReadReturn(T37,1);
$container=T38;
//  if canDefeat
var T40=DU.Ref($canDefeat);
if(T40)
{
//  container.$AppendChild(dim $mkPowButton("DEFEAT"))
var T42=DU.Ref($container);
var T43="DEFEAT";
var T44=[T43];
var T45=__RUN.getStaticFile("slides_14","mkPowButton").func(null,...T44);
var T46=DU.ReadReturn(T45,1);
//  mixin $Style.AddClasses("defeat")
var T47=DU.Ref(T46);
var T48="defeat";
var T49=[T48];
var T50=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T47},...T49);
//  mixin $Button.HookClick(lambda)
var T51=DU.Ref(T46);
var T52=OObj.MakeFunc(__FUNCS["slides_14"]["780_func270"],{$stage: DU.Ref($stage),$onDefeat: DU.Ref($onDefeat),$pipe: DU.Ref($pipe)});
var T53=[T52];
var T54=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T51},...T53);
var T55=[T46];
var T56=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T42},...T55);
var T57=DU.ReadReturn(T56,1);
}//  container.$AppendChild(dim $mkPowButton("VICTORY!"))
var T60=DU.Ref($container);
var T61="VICTORY!";
var T62=[T61];
var T63=__RUN.getStaticFile("slides_14","mkPowButton").func(null,...T62);
var T64=DU.ReadReturn(T63,1);
//  mixin $Button.HookClick(lambda)
var T65=DU.Ref(T64);
var T66=OObj.MakeFunc(__FUNCS["slides_14"]["793_func276"],{$pipe: DU.Ref($pipe)});
var T67=[T66];
var T68=__RUN.getStaticGlo("Dom.Button.HookClick").func({__THIS:T65},...T67);
var T69=[T64];
var T70=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T60},...T69);
var T71=DU.ReadReturn(T70,1);
//  if !canDefeat
var T73=DU.Ref($canDefeat);
var T74=!T73;
if(T74)
{
//  $Slide.HookAdvance(stage, lambda)
var T76=DU.Ref($stage);
var T77=OObj.MakeFunc(__FUNCS["slides_14"]["806_func279"],{$pipe: DU.Ref($pipe)});
var T78=[T76,T77];
var T79=__RUN.getStaticGlo("Slide.HookAdvance").func(null,...T78);
var T80=DU.ReadReturn(T79,1);
}//  await pipe.$Pipe.ReadAsync()
var T83=DU.Ref($pipe);
var T85=await __RUN.getStaticGlo("Pipe.ReadAsync").func({__THIS:T83});
var T86=DU.ReadReturn(T85,1);
return [];
},
"780_func270" : function(__DIV){
var $stage,$onDefeat,$pipe;
if('$stage' in __DIV.capture){$stage=__DIV.capture["$stage"];}
if('$onDefeat' in __DIV.capture){$onDefeat=__DIV.capture["$onDefeat"];}
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  if stage.ct.$Canceler.IsLive()
var T1=DU.Ref($stage);
var T2=OObj.DotAccess(T1,"ct");
var T3=OObj.DotAccess(T2,"live");
if(T3)
{
//  $(onDefeat, stage)
var T5="stage";
var T6=DU.Ref($onDefeat);
var T7=OObj._RunLambda(T6,{$stage: DU.Ref($stage)});
var T8=DU.ReadReturn(T7,1);
}//  pipe.$Pipe.Kill()
var T11=DU.Ref($pipe);
var T12=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T11});
var T13=DU.ReadReturn(T12,1);
return [];
},
"793_func276" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"806_func279" : function(__DIV){
var $pipe;
if('$pipe' in __DIV.capture){$pipe=__DIV.capture["$pipe"];}
//  pipe.$Pipe.Kill()
var T1=DU.Ref($pipe);
var T2=__RUN.getStaticGlo("Pipe.Kill").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
return [];
},
"819::mkPowButton" : function(__DIV, $text){
var $button;
//  button : dim $Button.Create()
var T1="button";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
//  mixin $Style.AddClasses("powContainer")
var T5=DU.Ref(T4);
var T6="powContainer";
var T7=[T6];
var T8=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T5},...T7);
//  mixin $AppendChild($mkDiv("pow", "back"))
var T9=DU.Ref(T4);
var T10="pow";
var T11="back";
var T12=[T10,T11];
var T13=__RUN.getStaticFile("slides_14","mkDiv").func(null,...T12);
var T14=DU.ReadReturn(T13,1);
var T15=[T14];
var T16=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T9},...T15);
//  mixin $AppendChild($mkDiv("pow", "fore"))
var T17=DU.Ref(T4);
var T18="pow";
var T19="fore";
var T20=[T18,T19];
var T21=__RUN.getStaticFile("slides_14","mkDiv").func(null,...T20);
var T22=DU.ReadReturn(T21,1);
var T23=[T22];
var T24=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T17},...T23);
//  mixin $AppendChild(dim $mkDiv("powText"))
var T25=DU.Ref(T4);
var T26="powText";
var T27=[T26];
var T28=__RUN.getStaticFile("slides_14","mkDiv").func(null,...T27);
var T29=DU.ReadReturn(T28,1);
//  mixin $SetText(text)
var T30=DU.Ref(T29);
var T31=DU.Ref($text);
var T32=[T31];
var T33=__RUN.getStaticGlo("Dom.SetText").func({__THIS:T30},...T32);
var T34=[T29];
var T35=__RUN.getStaticGlo("Dom.AppendChild").func({__THIS:T25},...T34);
$button=T4;
return [$button];
},
"832::mkDiv" : function(__DIV,...$classes){
$classes=new OObj(null, $classes);
var $elem,$$iter2,$it;
//  elem : dim $Dom.Div.Create()
var T1="div";
var T2=[T1];
var T3=__RUN.getStaticGlo("Dom.CreateElement").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
$elem=T4;
//  for classes
var T6=DU.Ref($classes);
var T7=DU.MakeIter(T6);
$$iter2=T7;
for(var T9=0;;T9++)
{
if(T9>0)
{
var T10=DU.Ref($$iter2);
T10.Next();
}var T12=DU.Ref($$iter2);
var T13=T12.iter.done;
var T14=!T13;
if(!T14){break;}
var T16=DU.Ref($$iter2);
var T17=T16.iter.value[0];
$it=T17;
//  elem.$Dom.Style.AddClasses(it)
var T19=DU.Ref($elem);
var T20=DU.Ref($it);
var T21=[T20];
var T22=__RUN.getStaticGlo("Dom.Style.AddClasses").func({__THIS:T19},...T21);
var T23=DU.ReadReturn(T22,1);
continue;
}return [$elem];
},
};


// C:\Users\mettu\Source\Repos\mc-omnibus\source\util.wng
__FUNCS["util.w_15"] = {
"13::Shuffle" : function(__DIV){
var __THIS,$cnt,$it,$$terminate2,$target,$temp;
__THIS=__DIV.__THIS;
//  @cnt : this.$Obj.Count()
var T0=DU.Ref(__THIS);
var T1=__RUN.getStaticGlo("Obj.Count").func({__THIS:T0});
var T2=DU.ReadReturn(T1,1);
$cnt=T2;
//  if cnt = 1 \ quit
var T4=DU.Ref($cnt);
var T5=1;
var T6=DU.AreEqual(T4,T5);
if(T6)
{
return [];
}//  for 0 to cnt
var T10=0;
$it=T10;
var T12=DU.Ref($cnt);
$$terminate2=T12;
for(var T14=0;;T14++)
{
if(T14>0)
{
var T15=DU.Ref($it);
var T16=1;
var T17=gVal(T15)+gVal(T16);
$it=T17;
}var T19=DU.Ref($$terminate2);
var T20=DU.Ref($it);
var T21=gVal(T19) > gVal(T20);
if(!T21){break;}
//  @target : $Rand.Int(0, cnt)
var T23=0;
var T24=DU.Ref($cnt);
var T25=[T23,T24];
var T26=__RUN.getStaticGlo("Rand.Int").func(null,...T25);
var T27=DU.ReadReturn(T26,1);
$target=T27;
//  if target != it
var T29=DU.Ref($target);
var T30=DU.Ref($it);
var T31=!DU.AreEqual(T29,T30);
if(T31)
{
//  @temp : free? this[it]
var T33=DU.Ref(__THIS);
var T34=DU.Ref($it);
var T35=OObj.FreePath(T33, [T34]);
$temp=T35;
//  this[it] : free? this[target]
var T37=DU.Ref(__THIS);
var T38=DU.Ref($target);
var T39=OObj.FreePath(T37, [T38]);
var T40=DU.Ref(__THIS);
var T41=DU.Ref($it);
OObj.SetPath(T40,[T41],T39);
//  this[target] : free? temp
var T43=$temp;
$temp=undefined;
var T44=DU.Ref(__THIS);
var T45=DU.Ref($target);
OObj.SetPath(T44,[T45],T43);
}var T48=$temp;
$temp=undefined;
continue;
}return [];
},
"26::RemoveFirst" : function(__DIV, $elem){
var __THIS,$idx;
__THIS=__DIV.__THIS;
//  @idx : this.$List.IndexOf(elem)
var T1=DU.Ref(__THIS);
var T2=DU.Ref($elem);
var T3=[T2];
var T4=__RUN.getStaticGlo("List.IndexOf").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
$idx=T5;
//  if(idx >= 0)
var T7=DU.Ref($idx);
var T8=0;
var T9=gVal(T7) >= gVal(T8);
if(T9)
{
//  free this[idx]
var T11=DU.Ref(__THIS);
var T12=DU.Ref($idx);
var T13=OObj.FreePath(T11, [T12]);
//  this.$List.Compress()
var T15=DU.Ref(__THIS);
var T16=__RUN.getStaticGlo("List.Compress").func({__THIS:T15});
var T17=DU.ReadReturn(T16,1);
}return [];
},
"39::IndexOf" : function(__DIV, $elem){
var $idx,__THIS,$i,$$i2;
__THIS=__DIV.__THIS;
//  for @i in this
var T1=DU.Ref(__THIS);
var T2=OObj.getFirstKey(T1);
$i=T2;
for(var T4=0;;T4++)
{
if(T4>0)
{
var T5=DU.Ref(__THIS);
var T6=DU.Ref($i);
var T7=OObj.getNextKey(T5,T6);
var T8=$i;
$i=null;
$$i2=T8;
$i=T7;
}var T11=DU.Ref($i);
var T12=T11 != null;
if(!T12){break;}
//  if this[i] = elem
var T15=DU.Ref(__THIS);
var T16=DU.Ref($i);
var T17=OObj.GetPath(T15,[T16]);
var T18=DU.Ref($elem);
var T19=DU.AreEqual(T17,T18);
if(T19)
{
//  return i
var T21=DU.Ref($i);
$idx=T21;
return [$idx];
}continue;
}//  return -1
var T26=$$i2;
$$i2=null;
$i=T26;
var T28=-1;
$idx=T28;
return [$idx];
},
"52::GetSubset" : function(__DIV, $start, $length){
var $list,__THIS,$it,$$terminate2;
__THIS=__DIV.__THIS;
//  list : $List.New()
var T2=new OObj();
$list=T2;
//  for start to start + length
var T4=DU.Ref($start);
$it=T4;
var T6=DU.Ref($start);
var T7=DU.Ref($length);
var T8=gVal(T6)+gVal(T7);
$$terminate2=T8;
for(var T10=0;;T10++)
{
if(T10>0)
{
var T11=DU.Ref($it);
var T12=1;
var T13=gVal(T11)+gVal(T12);
$it=T13;
}var T15=DU.Ref($$terminate2);
var T16=DU.Ref($it);
var T17=gVal(T15) > gVal(T16);
if(!T17){break;}
//  list.$Add(this[it])
var T19=DU.Ref($list);
var T20=DU.Ref(__THIS);
var T21=DU.Ref($it);
var T22=OObj.GetPath(T20,[T21]);
var T23=[T22];
var T24=__RUN.getStaticGlo("List.Add").func({__THIS:T19},...T23);
var T25=DU.ReadReturn(T24,1);
continue;
}return [$list];
},
"65::FirstIndex" : function(__DIV, $condition){
var $idx,__THIS,$i,$$i2,$it;
__THIS=__DIV.__THIS;
//  for @i in this
var T1=DU.Ref(__THIS);
var T2=OObj.getFirstKey(T1);
$i=T2;
for(var T4=0;;T4++)
{
if(T4>0)
{
var T5=DU.Ref(__THIS);
var T6=DU.Ref($i);
var T7=OObj.getNextKey(T5,T6);
var T8=$i;
$i=null;
$$i2=T8;
$i=T7;
}var T11=DU.Ref($i);
var T12=T11 != null;
if(!T12){break;}
//  @it : this[i]
var T14=DU.Ref(__THIS);
var T15=DU.Ref($i);
var T16=OObj.GetPath(T14,[T15]);
$it=T16;
//  if $(condition, it)
var T18="it";
var T19=DU.Ref($condition);
var T20=OObj._RunLambda(T19,{$it: DU.Ref($it)});
var T21=DU.ReadReturn(T20,1);
if(T21)
{
//  return i
var T23=DU.Ref($i);
$idx=T23;
return [$idx];
}continue;
}//  return -1
var T28=$$i2;
$$i2=null;
$i=T28;
var T30=$it;
$it=undefined;
var T32=-1;
$idx=T32;
return [$idx];
},
"78::RemoveItem" : function(__DIV, $item){
var __THIS;
__THIS=__DIV.__THIS;
//  this.$List.RemoveAll(`it = item`)
var T1=DU.Ref(__THIS);
var T2=OObj.MakeFunc(__FUNCS["util.w_15"]["91_func"],{$item: DU.Ref($item)});
var T3=[T2];
var T4=__RUN.getStaticGlo("List.RemoveAll").func({__THIS:T1},...T3);
var T5=DU.ReadReturn(T4,1);
return [];
},
"91_func" : function(__DIV){
var $it,$item;
if('$it' in __DIV.capture){$it=__DIV.capture["$it"];}
if('$item' in __DIV.capture){$item=__DIV.capture["$item"];}
var T1=DU.Ref($it);
var T2=DU.Ref($item);
var T3=DU.AreEqual(T1,T2);
return [T3];},
"104::Compress" : function(__DIV){
var __THIS,$idx,$$iter2,$k;
__THIS=__DIV.__THIS;
//  @idx : 0
var T0=0;
$idx=T0;
//  for @k : this.$Obj.Keys()
var T2=DU.Ref(__THIS);
var T3=__RUN.getStaticGlo("Obj.Keys").func({__THIS:T2});
var T4=DU.ReadReturn(T3,1);
var T5=DU.MakeIter(T4);
$$iter2=T5;
for(var T7=0;;T7++)
{
if(T7>0)
{
var T8=DU.Ref($$iter2);
T8.Next();
}var T10=DU.Ref($$iter2);
var T11=T10.iter.done;
var T12=!T11;
if(!T12){break;}
var T14=DU.Ref($$iter2);
var T15=T14.iter.value[0];
$k=T15;
//  if k != idx
var T17=DU.Ref($k);
var T18=DU.Ref($idx);
var T19=!DU.AreEqual(T17,T18);
if(T19)
{
//  this[idx] : free this[k]
var T21=DU.Ref(__THIS);
var T22=DU.Ref($k);
var T23=OObj.FreePath(T21, [T22]);
var T24=DU.Ref(__THIS);
var T25=DU.Ref($idx);
OObj.SetPath(T24,[T25],T23);
}//  idx : idx + 1
var T28=DU.Ref($idx);
var T29=1;
var T30=gVal(T28)+gVal(T29);
$idx=T30;
continue;
}return [];
},
"117::Map" : function(__DIV, $lamb){
var $list,__THIS,$k,$$k2,$it;
__THIS=__DIV.__THIS;
//  list : dim()
var T1=new OObj();
$list=T1;
//  for @it of this at @k
var T3=DU.Ref(__THIS);
var T4=OObj.getFirstKey(T3);
$k=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref(__THIS);
var T8=DU.Ref($k);
var T9=OObj.getNextKey(T7,T8);
var T10=$k;
$k=null;
$$k2=T10;
$k=T9;
}var T13=DU.Ref($k);
var T14=T13 != null;
if(!T14){break;}
var T16=DU.Ref(__THIS);
var T17=DU.Ref($k);
var T18=OObj.GetPath(T16,[T17]);
$it=T18;
//  list[k] : $(lamb, it)
var T20="it";
var T21=DU.Ref($lamb);
var T22=OObj._RunLambda(T21,{$it: DU.Ref($it)});
var T23=DU.ReadReturn(T22,1);
var T24=DU.Ref($list);
var T25=DU.Ref($k);
OObj.SetPath(T24,[T25],T23);
continue;
}return [$list];
},
"130::Filter" : function(__DIV, $lamb){
var $list,__THIS,$k,$$k2,$it;
__THIS=__DIV.__THIS;
//  list : dim()
var T1=new OObj();
$list=T1;
//  for @it of this at @k
var T3=DU.Ref(__THIS);
var T4=OObj.getFirstKey(T3);
$k=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref(__THIS);
var T8=DU.Ref($k);
var T9=OObj.getNextKey(T7,T8);
var T10=$k;
$k=null;
$$k2=T10;
$k=T9;
}var T13=DU.Ref($k);
var T14=T13 != null;
if(!T14){break;}
var T16=DU.Ref(__THIS);
var T17=DU.Ref($k);
var T18=OObj.GetPath(T16,[T17]);
$it=T18;
//  if $(lamb, it)
var T20="it";
var T21=DU.Ref($lamb);
var T22=OObj._RunLambda(T21,{$it: DU.Ref($it)});
var T23=DU.ReadReturn(T22,1);
if(T23)
{
//  list.$Add(it)
var T25=DU.Ref($list);
var T26=DU.Ref($it);
var T27=[T26];
var T28=__RUN.getStaticGlo("List.Add").func({__THIS:T25},...T27);
var T29=DU.ReadReturn(T28,1);
}continue;
}return [$list];
},
"143::Join" : function(__DIV, $delim){
var $str,__THIS,$$iter2,$it;
__THIS=__DIV.__THIS;
//  delim ?: ""
var T1=$delim==null;
if(T1)
{
var T3="";
$delim=T3;
}//  str : ""
var T5="";
$str=T5;
//  for this
var T7=DU.Ref(__THIS);
var T8=DU.MakeIter(T7);
$$iter2=T8;
for(var T10=0;;T10++)
{
if(T10>0)
{
var T11=DU.Ref($$iter2);
T11.Next();
}var T13=DU.Ref($$iter2);
var T14=T13.iter.done;
var T15=!T14;
if(!T15){break;}
var T17=DU.Ref($$iter2);
var T18=T17.iter.value[0];
$it=T18;
//  if str != "" \ str : str + delim
var T20=DU.Ref($str);
var T21="";
var T22=!DU.AreEqual(T20,T21);
if(T22)
{
var T24=DU.Ref($str);
var T25=DU.Ref($delim);
var T26=gVal(T24)+gVal(T25);
$str=T26;
}//  str : str + it
var T29=DU.Ref($str);
var T30=DU.Ref($it);
var T31=gVal(T29)+gVal(T30);
$str=T31;
continue;
}return [$str];
},
"156::QuickPick" : function(__DIV){
var $item,__THIS,$idx;
__THIS=__DIV.__THIS;
//  @idx : $Rand.Int(0, this.$Obj.Count())
var T0=0;
var T1=DU.Ref(__THIS);
var T2=__RUN.getStaticGlo("Obj.Count").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
var T4=[T0,T3];
var T5=__RUN.getStaticGlo("Rand.Int").func(null,...T4);
var T6=DU.ReadReturn(T5,1);
$idx=T6;
//  item : this[idx]
var T8=DU.Ref(__THIS);
var T9=DU.Ref($idx);
var T10=OObj.GetPath(T8,[T9]);
$item=T10;
return [$item];
},
"169::NumMatches" : function(__DIV, $lamb){
var $count,__THIS,$$iter2,$it;
__THIS=__DIV.__THIS;
//  count : 0
var T1=0;
$count=T1;
//  for this
var T3=DU.Ref(__THIS);
var T4=DU.MakeIter(T3);
$$iter2=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref($$iter2);
T7.Next();
}var T9=DU.Ref($$iter2);
var T10=T9.iter.done;
var T11=!T10;
if(!T11){break;}
var T13=DU.Ref($$iter2);
var T14=T13.iter.value[0];
$it=T14;
//  if $(lamb, it)
var T16="it";
var T17=DU.Ref($lamb);
var T18=OObj._RunLambda(T17,{$it: DU.Ref($it)});
var T19=DU.ReadReturn(T18,1);
if(T19)
{
//  count +: 1
var T21=DU.Ref($count);
var T22=1;
var T23=gVal(T21)+gVal(T22);
$count=T23;
}continue;
}return [$count];
},
"182::Min" : function(__DIV, $toNumLamb){
var $value,__THIS,$$iter2,$it,$val,$$parTmp3,$$$sOut24;
__THIS=__DIV.__THIS;
//  value : null
var T1=null;
$value=T1;
//  for this
var T3=DU.Ref(__THIS);
var T4=DU.MakeIter(T3);
$$iter2=T4;
for(var T6=0;;T6++)
{
if(T6>0)
{
var T7=DU.Ref($$iter2);
T7.Next();
}var T9=DU.Ref($$iter2);
var T10=T9.iter.done;
var T11=!T10;
if(!T11){break;}
var T13=DU.Ref($$iter2);
var T14=T13.iter.value[0];
$it=T14;
//  @val : $(toNumLamb, it)
var T16="it";
var T17=DU.Ref($toNumLamb);
var T18=OObj._RunLambda(T17,{$it: DU.Ref($it)});
var T19=DU.ReadReturn(T18,1);
$val=T19;
//  value : $Math.Min(value ? val, val)
var T21=DU.Ref($value);
if(T21 != null)
{
var T24=T21;
}else{
var T24=DU.Ref($val);
}$$parTmp3=T24;
var T28=DU.Ref($$parTmp3);
var T29=DU.Ref($val);
var T30=gVal(T28) < gVal(T29);
if(T30)
{
var T32=DU.Ref($$parTmp3);
$$$sOut24=T32;
}else
{
var T35=DU.Ref($val);
$$$sOut24=T35;
}var T37=DU.Ref($$$sOut24);
$value=T37;
continue;
}return [$value];
},
"195::AppendList" : function(__DIV, $list){
var __THIS,$$struct2,$idx,$$idx3;
__THIS=__DIV.__THIS;
//  for @idx in list.$Obj.ShallowCopy()
var T1=DU.Ref($list);
var T2=__RUN.getStaticGlo("Obj.ShallowCopy").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
$$struct2=T3;
var T5=DU.Ref($$struct2);
var T6=OObj.getFirstKey(T5);
$idx=T6;
for(var T8=0;;T8++)
{
if(T8>0)
{
var T9=DU.Ref($$struct2);
var T10=DU.Ref($idx);
var T11=OObj.getNextKey(T9,T10);
var T12=$idx;
$idx=null;
$$idx3=T12;
$idx=T11;
}var T15=DU.Ref($idx);
var T16=T15 != null;
if(!T16){break;}
//  this.$List.Add(free list[idx])
var T18=DU.Ref(__THIS);
var T19=DU.Ref($list);
var T20=DU.Ref($idx);
var T21=OObj.FreePath(T19, [T20]);
var T22=[T21];
var T23=__RUN.getStaticGlo("List.Add").func({__THIS:T18},...T22);
var T24=DU.ReadReturn(T23,1);
continue;
}return [];
},
"208::Reverse" : function(__DIV){
var __THIS,$cnt,$it,$$terminate2,$target,$temp;
__THIS=__DIV.__THIS;
//  @cnt : this.$Obj.Count()
var T0=DU.Ref(__THIS);
var T1=__RUN.getStaticGlo("Obj.Count").func({__THIS:T0});
var T2=DU.ReadReturn(T1,1);
$cnt=T2;
//  if cnt <= 1 \ quit
var T4=DU.Ref($cnt);
var T5=1;
var T6=gVal(T4) <= gVal(T5);
if(T6)
{
return [];
}//  for 0 to cnt / 2
var T10=0;
$it=T10;
var T12=DU.Ref($cnt);
var T13=2;
var T14=gVal(T12)/gVal(T13);
$$terminate2=T14;
for(var T16=0;;T16++)
{
if(T16>0)
{
var T17=DU.Ref($it);
var T18=1;
var T19=gVal(T17)+gVal(T18);
$it=T19;
}var T21=DU.Ref($$terminate2);
var T22=DU.Ref($it);
var T23=gVal(T21) > gVal(T22);
if(!T23){break;}
//  @target : cnt - it - 1
var T25=DU.Ref($cnt);
var T26=DU.Ref($it);
var T27=gVal(T25)-gVal(T26);
var T28=1;
var T29=gVal(T27)-gVal(T28);
$target=T29;
//  @temp : free? this[it]
var T31=DU.Ref(__THIS);
var T32=DU.Ref($it);
var T33=OObj.FreePath(T31, [T32]);
$temp=T33;
//  this[it] : free? this[target]
var T35=DU.Ref(__THIS);
var T36=DU.Ref($target);
var T37=OObj.FreePath(T35, [T36]);
var T38=DU.Ref(__THIS);
var T39=DU.Ref($it);
OObj.SetPath(T38,[T39],T37);
//  this[target] : free? temp
var T41=$temp;
$temp=undefined;
var T42=DU.Ref(__THIS);
var T43=DU.Ref($target);
OObj.SetPath(T42,[T43],T41);
continue;
}return [];
},
"221::QuickPick" : function(__DIV,...$picks){
$picks=new OObj(null, $picks);
var $val;
//  => picks.$List.QuickPick()
var T1=DU.Ref($picks);
var T2=__RUN.getStaticGlo("List.QuickPick").func({__THIS:T1});
var T3=DU.ReadReturn(T2,1);
$val=T3;
return [$val];
},
"234::iif" : function(__DIV, $test, $ifTrue, $ifFalse){
var $value,$$sOut2;
//  test : ifTrue
var T4=DU.Ref($test);
if(T4)
{
var T6=DU.Ref($ifTrue);
$$sOut2=T6;
}else
{
//  else : ifFalse
var T9=DU.Ref($ifFalse);
$$sOut2=T9;
}var T11=DU.Ref($$sOut2);
$value=T11;
return [$value];
},
"247::log" : function(__DIV,...$list){
$list=new OObj(null, $list);
var $$iter2,$it;
//  for list
var T1=DU.Ref($list);
var T2=DU.MakeIter(T1);
$$iter2=T2;
for(var T4=0;;T4++)
{
if(T4>0)
{
var T5=DU.Ref($$iter2);
T5.Next();
}var T7=DU.Ref($$iter2);
var T8=T7.iter.done;
var T9=!T8;
if(!T9){break;}
var T11=DU.Ref($$iter2);
var T12=T11.iter.value[0];
$it=T12;
//  $IO.Log(it)
var T14=DU.Ref($it);
var T15=[T14];
var T16=__RUN.getStaticGlo("IO.Log").func(null,...T15);
var T17=DU.ReadReturn(T16,1);
continue;
}return [];
},
"260::exLog" : function(__DIV, $e){
//  $log(e)
var T1=DU.Ref($e);
var T2=[T1];
var T3=__RUN.getStaticGlo("log").func(null,...T2);
var T4=DU.ReadReturn(T3,1);
return [$e];
},
"273::logDeep" : function(__DIV, $obj){
//  $log($logHelp(obj, 0))
var T1=DU.Ref($obj);
var T2=0;
var T3=[T1,T2];
var T4=__RUN.getStaticFile("util.w_15","logHelp").func(null,...T3);
var T5=DU.ReadReturn(T4,1);
var T6=[T5];
var T7=__RUN.getStaticGlo("log").func(null,...T6);
var T8=DU.ReadReturn(T7,1);
return [];
},
"286::logHelp" : function(__DIV, $obj, $depth){
var $str,$sp,$it,$$terminate2,$k,$$k3,$val;
//  if !obj.$Obj.HasChildren()
var T2=DU.Ref($obj);
var T3=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T2});
var T4=DU.ReadReturn(T3,1);
var T5=!T4;
if(T5)
{
//  return obj
var T7=DU.Ref($obj);
$str=T7;
return [$str];
}//  str : ""
var T11="";
$str=T11;
//  @sp : ""
var T13="";
$sp=T13;
//  for 0 to depth
var T15=0;
$it=T15;
var T17=DU.Ref($depth);
$$terminate2=T17;
for(var T19=0;;T19++)
{
if(T19>0)
{
var T20=DU.Ref($it);
var T21=1;
var T22=gVal(T20)+gVal(T21);
$it=T22;
}var T24=DU.Ref($$terminate2);
var T25=DU.Ref($it);
var T26=gVal(T24) > gVal(T25);
if(!T26){break;}
//  sp : sp + "  "
var T28=DU.Ref($sp);
var T29="  ";
var T30=gVal(T28)+gVal(T29);
$sp=T30;
continue;
}//  for @k in obj
var T33=DU.Ref($obj);
var T34=OObj.getFirstKey(T33);
$k=T34;
for(var T36=0;;T36++)
{
if(T36>0)
{
var T37=DU.Ref($obj);
var T38=DU.Ref($k);
var T39=OObj.getNextKey(T37,T38);
var T40=$k;
$k=null;
$$k3=T40;
$k=T39;
}var T43=DU.Ref($k);
var T44=T43 != null;
if(!T44){break;}
//  @val : obj[k]
var T46=DU.Ref($obj);
var T47=DU.Ref($k);
var T48=OObj.GetPath(T46,[T47]);
$val=T48;
//  if !val.$Obj.HasChildren()
var T50=DU.Ref($val);
var T51=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T50});
var T52=DU.ReadReturn(T51,1);
var T53=!T52;
if(T53)
{
//  str +: sp + ~k + ": " + $Debug.ObjDebug(val)
var T55=DU.Ref($str);
var T56=DU.Ref($sp);
var T57=DU.Ref($k);
var T58=T57;
var T59=gVal(T56)+gVal(T58);
var T60=": ";
var T61=gVal(T59)+gVal(T60);
var T62=DU.Ref($val);
var T63=[T62];
var T64=__RUN.getStaticGlo("Debug.ObjDebug").func(null,...T63);
var T65=DU.ReadReturn(T64,1);
var T66=gVal(T61)+gVal(T65);
var T67=gVal(T55)+gVal(T66);
$str=T67;
}else
{
//  else
//  str +: sp + ~k + " >>" + $logHelp(val, depth + 1)
var T71=DU.Ref($str);
var T72=DU.Ref($sp);
var T73=DU.Ref($k);
var T74=T73;
var T75=gVal(T72)+gVal(T74);
var T76=" >>";
var T77=gVal(T75)+gVal(T76);
var T78=DU.Ref($val);
var T79=DU.Ref($depth);
var T80=1;
var T81=gVal(T79)+gVal(T80);
var T82=[T78,T81];
var T83=__RUN.getStaticFile("util.w_15","logHelp").func(null,...T82);
var T84=DU.ReadReturn(T83,1);
var T85=gVal(T77)+gVal(T84);
var T86=gVal(T71)+gVal(T85);
$str=T86;
}//  str +: "\n"
var T88=DU.Ref($str);
var T89="\n";
var T90=gVal(T88)+gVal(T89);
$str=T90;
continue;
}return [$str];
},
"299::Clamp" : function(__DIV, $val, $min, $max){
//  if val < min
var T3=DU.Ref($val);
var T4=DU.Ref($min);
var T5=gVal(T3) < gVal(T4);
if(T5)
{
//  return min
var T7=DU.Ref($min);
return [T7];}//  if val > max
var T11=DU.Ref($val);
var T12=DU.Ref($max);
var T13=gVal(T11) > gVal(T12);
if(T13)
{
//  return max
var T15=DU.Ref($max);
return [T15];}//  return val
var T18=DU.Ref($val);
return [T18];},
"312::Min" : function(__DIV, $a, $b){
var $min,$$sOut2;
//  a < b : a
var T3=DU.Ref($a);
var T4=DU.Ref($b);
var T5=gVal(T3) < gVal(T4);
if(T5)
{
var T7=DU.Ref($a);
$$sOut2=T7;
}else
{
//  else : b
var T10=DU.Ref($b);
$$sOut2=T10;
}var T12=DU.Ref($$sOut2);
$min=T12;
return [$min];
},
"325::Max" : function(__DIV, $a, $b){
var $max,$$sOut2;
//  a > b : a
var T3=DU.Ref($a);
var T4=DU.Ref($b);
var T5=gVal(T3) > gVal(T4);
if(T5)
{
var T7=DU.Ref($a);
$$sOut2=T7;
}else
{
//  else : b
var T10=DU.Ref($b);
$$sOut2=T10;
}var T12=DU.Ref($$sOut2);
$max=T12;
return [$max];
},
"338::Abs" : function(__DIV, $a){
//  if a < 0 \ a : -a
var T1=DU.Ref($a);
var T2=0;
var T3=gVal(T1) < gVal(T2);
if(T3)
{
var T5=0;
var T6=DU.Ref($a);
var T7=gVal(T5)-gVal(T6);
$a=T7;
}return [$a];
},
"351::RepeatStr" : function(__DIV, $piece, $count, $delim){
var $str,$list,$it,$$terminate2;
//  @list : dim()
var T3=new OObj();
$list=T3;
//  str : ""
var T5="";
$str=T5;
//  delim ?: ""
var T7=$delim==null;
if(T7)
{
var T9="";
$delim=T9;
}//  for 0 to count
var T11=0;
$it=T11;
var T13=DU.Ref($count);
$$terminate2=T13;
for(var T15=0;;T15++)
{
if(T15>0)
{
var T16=DU.Ref($it);
var T17=1;
var T18=gVal(T16)+gVal(T17);
$it=T18;
}var T20=DU.Ref($$terminate2);
var T21=DU.Ref($it);
var T22=gVal(T20) > gVal(T21);
if(!T22){break;}
//  if it > 0
var T25=DU.Ref($it);
var T26=0;
var T27=gVal(T25) > gVal(T26);
if(T27)
{
//  str : str + delim
var T29=DU.Ref($str);
var T30=DU.Ref($delim);
var T31=gVal(T29)+gVal(T30);
$str=T31;
}//  str : str + piece
var T34=DU.Ref($str);
var T35=DU.Ref($piece);
var T36=gVal(T34)+gVal(T35);
$str=T36;
continue;
}return [$str];
},
"364::GT" : function(__DIV, $strOrArr){
var $str,$$sOut2;
//  strOrArr.$Obj.HasChildren() : strOrArr.$List.Join("\n")
var T2=DU.Ref($strOrArr);
var T3=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T2});
var T4=DU.ReadReturn(T3,1);
if(T4)
{
var T6=DU.Ref($strOrArr);
var T7="\n";
var T8=[T7];
var T9=__RUN.getStaticGlo("List.Join").func({__THIS:T6},...T8);
var T10=DU.ReadReturn(T9,1);
$$sOut2=T10;
}else
{
//  else : strOrArr
var T13=DU.Ref($strOrArr);
$$sOut2=T13;
}var T15=DU.Ref($$sOut2);
$str=T15;
//  str : str.$Str.Replace("|","  ")
var T17=DU.Ref($str);
var T18="|";
var T19="  ";
var T20=[T18,T19];
var T21=__RUN.getStaticGlo("Str.Replace").func({__THIS:T17},...T20);
var T22=DU.ReadReturn(T21,1);
$str=T22;
return [$str];
},
"377::GTW" : function(__DIV, $strOrArr){
var $str,$$sOut2;
//  strOrArr.$Obj.HasChildren() : strOrArr.$List.Join(" ")
var T2=DU.Ref($strOrArr);
var T3=__RUN.getStaticGlo("Obj.HasChildren").func({__THIS:T2});
var T4=DU.ReadReturn(T3,1);
if(T4)
{
var T6=DU.Ref($strOrArr);
var T7=" ";
var T8=[T7];
var T9=__RUN.getStaticGlo("List.Join").func({__THIS:T6},...T8);
var T10=DU.ReadReturn(T9,1);
$$sOut2=T10;
}else
{
//  else : strOrArr
var T13=DU.Ref($strOrArr);
$$sOut2=T13;
}var T15=DU.Ref($$sOut2);
$str=T15;
return [$str];
},
};
}